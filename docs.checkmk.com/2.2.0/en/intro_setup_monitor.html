<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="To set up Checkmk for monitoring, the first host must be included, its services configured and the changes activated.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Setting up monitoring">
<meta name="og:description" content="To set up Checkmk for monitoring, the first host must be included, its services configured and the changes activated.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Setting up monitoring</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.2.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.2.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.2.0/de/intro_setup_monitor.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.2.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/en/intro_setup_monitor.html">2.1.0</a><a class="dropdown-item" href="../../latest/en/intro_setup_monitor.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and derivatives</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation from Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation from AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.2.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.2.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Password store</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs for GUI extensions</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automated host creation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Rules</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Notifications</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Notifications via ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Notifications via Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Monitoring log files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMware ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Monitoring Google Cloud Platform (GCP)</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">Monitoring OpenShift</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Measured values and graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Custom notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">The Standard Edition</a></p>
</li>
<li>
<p><a href="cce.html">The Cloud Edition</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">The Checkmk REST API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Developing extensions for Checkmk</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Writing agent-based check plug-ins</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">Writing SNMP-based check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Setting up monitoring</h1>
<div class="details">
<span id="revdate">Last modified on 16-Jan-2024</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.2.0/src/common/en/intro_setup_monitor.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="intro_tools.html">The monitoring tools</a>
<a href="hosts_setup.html">Host administration</a>
<a href="agent_linux.html">Monitoring Linux</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_hosts">
<span class="hidden-anchor sr-only" id="hosts"></span>1. Hosts, services and agents</h2>
<div class="sectionbody">
<div class="paragraph"><p>So, Checkmk is ready.
But before we start with the actual monitoring, we will briefly explain some important terms.
First of all, there is the <strong>host</strong>.
A host in Checkmk is any stand alone, physical or virtual system monitored by Checkmk.
Usually these are things with their own IP address (servers, switches, SNMP devices, virtual machines), but also, for example, Docker containers or other logical objects which do not have such an IP address.
Each host always has one of the states <span class="hstate0">UP</span>, <span class="hstate1">DOWN</span>, <span class="hstate2">UNREACH</span> or <span class="statep">PEND</span>.</p></div>
<div class="paragraph"><p>On each host a number of <strong>services</strong> are monitored.
A service can be anything — for example, a file system, a process, a hardware sensor, a switch port — but it can also simply be a certain metric such as CPU utilization or RAM usage.
Each service can have one of the states <span class="state0">OK</span>, <span class="state1">WARN</span>, <span class="state2">CRIT</span>, <span class="state3">UNKNOWN</span> or <span class="statep">PEND</span>.</p></div>
<div class="paragraph"><p>In order for Checkmk to be able to request data from a host, an <strong>agent</strong> is necessary.
This is a small program that is installed on the host and which provides data on the state (or 'health') of the host on request.
Servers running Windows, Linux, or Unix can only be effectively monitored by Checkmk if you install a Checkmk agent there — an agent provided by us.
In the case of network devices and many appliances, the manufacturer will usually have built-in an agent that Checkmk can easily query using the standardized SNMP protocol.
Cloud services such as Amazon Web Services (AWS) or Azure alternatively provide an interface ('API') that can be queried by Checkmk via HTTP.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_dns">
<span class="hidden-anchor sr-only" id="dns"></span>2. Preliminary considerations for DNS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Even though Checkmk does not require name resolution of hosts, a well-maintained Domain Name System (DNS) makes configuration much easier and avoids errors, since Checkmk will then be able to resolve the host names on its own without you needing to enter IP addresses in Checkmk.</p></div>
<div class="paragraph"><p>So setting up a monitoring system is a good opportunity to check whether your DNS is up to date and, if necessary, to add any missing entries.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_folders">
<span class="hidden-anchor sr-only" id="folders"></span>3. Folder structure for hosts</h2>
<div class="sectionbody">
<div class="paragraph"><p>Checkmk manages your hosts in a hierarchical tree of folders — quite analogous to what you know from files in your operating system.
If you only monitor a handful of hosts, this may seem not so important to you.
But remember — Checkmk is designed to monitor thousands and tens of thousands of hosts — so good order can be half the battle won.</p></div>
<div class="paragraph"><p>Before you include the first hosts into Checkmk, it is therefore advantageous to think about the structure of these folders.
On the one hand, the folder structure is useful for your own overview.
More importantly, however, it can be used for the configuration of Checkmk.
All configuration attributes of hosts can be defined in a folder, which are then automatically <strong>inherited</strong> by its subfolders and hosts contained there.
Therefore, it is elementary, not only but especially for the configuration of large environments, to set up a well-considered folder structure from the beginning.</p></div>
<div class="paragraph"><p>Once you have created a folder structure, you can change it — but you must do so very carefully.
Moving a host to another folder can have the effect of changing its attributes without you being aware of it.</p></div>
<div class="paragraph"><p>The real consideration when building a folder structure that will be most useful to you is the criteria by which you want to organize the folders.
The criteria can be different at each level of the tree.
For example, you can distinguish by location in the first level and by technology in the second level.</p></div>
<div class="paragraph"><p>The following classification criteria have proven themselves in practice:</p></div>
<div class="ulist"><ul>
<li><p>Location/Geography</p></li>
<li><p>Organization</p></li>
<li><p>Technology</p></li>
</ul></div>
<div class="paragraph"><p>Sorting by location is particularly obvious in larger companies, especially if you distribute the monitoring over several Checkmk servers.
Each server then monitors a region or a state/country, for example.
If your folders map this distribution, then you can define, for example, in the folder 'Munich' that all hosts in this folder are to be monitored from the Checkmk site 'muc'.</p></div>
<div class="paragraph"><p>Alternatively, 'organization' (i.e. the answer to the question 'Who is responsible for a host?') may be a more meaningful criterion, since location and responsibility may not always be the same.
For example, it may be that one group of your colleagues is responsible for the administration of Oracle, regardless of the actual physical location of the corresponding hosts.
If, for example, the folder 'Oracle' is intended for the hosts of the Oracle colleagues, it is easy to configure in Checkmk that all hosts below this folder are only visible to these colleagues and that they can even maintain their hosts there themselves.</p></div>
<div class="paragraph"><p>Structuring by technology could, for example, provide a folder for Windows servers and one for Linux servers.
This would simplify the implementation of the scheme 'The <code>sshd</code> process must run on all Linux servers'.
Another example is the monitoring of devices such as switches or routers via SNMP.
Here, no Checkmk agent is used, but the devices are queried via the SNMP protocol.
If these hosts are grouped in separate folders, you can make the settings necessary for SNMP, such as the 'Community', directly at the folder.</p></div>
<div class="paragraph"><p>Since a folder structure can only rarely reflect the complexity of reality, Checkmk provides another supplementary possibility for structuring using the host tags — but more on this in a separate chapter on <a href="intro_finetune.html#host_tags">fine-tuning the monitoring</a>.
For more information on the folder structure, see the articles about <a href="hosts_setup.html#folder">administration</a> and <a href="hosts_structure.html#folder">structuring</a> of hosts.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_create_folders">
<span class="hidden-anchor sr-only" id="create_folders"></span>4. Creating folders</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can access the administration of folders and hosts via the navigation bar, the <span class="guihint">Setup</span> menu, the <span class="guihint">Hosts</span> topic and the <span class="guihint">Hosts</span> entry.
The <span class="guihint">Main</span> page is then displayed:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_empty_main.png" alt="View of 'Main' without folders and hosts."></div></div>
<div class="paragraph"><p>Before we create the first folder, we will briefly discuss the structure of this page, since you will find the various elements on most Checkmk pages in the same or a similar format.
Below the page title <span class="guihint">Main</span> you will find the breadcrumb path, which shows you where you are currently located within the Checkmk interface.
Below this, the menu bar is displayed, which summarizes the possible actions on this page in menus and menu items.
The menus in Checkmk are always context-specific, i.e. you will only find menu entries for actions that make sense on the current page.</p></div>
<div class="paragraph"><p>Below the menu bar you will find the action bar, in which the most important actions in the menus are offered as buttons for direct clicking.
You can hide the action bar with the <span class="image-inline"><img src="../images/icons/button_hide_toolbar.png" alt="Icon for hiding the action bar."></span> button to the right of the <span class="guihint">Help</span> menu and show it again with <span class="image-inline"><img src="../images/icons/button_show_toolbar.png" alt="Icon for showing the action bar."></span>.
When the action bar is hidden, the icons are displayed in the menu bar to the right of <span class="image-inline"><img src="../images/icons/button_show_toolbar.png" alt="Icon for showing the action bar."></span>.</p></div>
<div class="paragraph"><p>Since we are currently on an empty page (without folders and without hosts), the important actions for creating the first object are additionally offered via even larger buttons — so that the options offered by the page cannot be overlooked.
These buttons will disappear after the first object has been created.</p></div>
<div class="paragraph"><p>Now let’s get back to the reason we are on this page:
the creation of folders.
<em>One</em> folder — the main folder — exists in every freshly set up Checkmk system.
It is called the <span class="guihint">Main</span>, as you can see in the title of the page.
Below the main folder, we will now create the three folders <code>Windows</code>, <code>Linux</code>, and <code>Network</code> as a simple exercise.</p></div>
<div class="paragraph"><p>Create the first of the three folders by selecting one of the actions offered to create a folder, e.g. the <span class="image-inline"><img src="../images/icons/icon_newfolder.png" alt="Icon for creating a folder."></span> <span class="guihint">Add folder</span> button.
On the new page <span class="guihint">Add folder</span> enter the folder name in the first box <span class="guihint">Basic settings</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_folder_basic_settings.png" alt="Dialog with properties when creating a folder: 'Basic settings' with title."></div></div>
<div class="paragraph"><p>In the above image, the <a href="intro_gui.html#show_less_more">Show less mode</a> is active and only the entry that is absolutely necessary for creating a folder is displayed.
Confirm the entry with <span class="guihint">Save</span>.</p></div>
<div class="paragraph"><p>Analogous to the <code>Windows</code> folder, create the other two folders <code>Linux</code> and <code>Network</code>.
After that, the situation will look like this:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_three_empty_folders.png" alt="View of 'Main' with three folders, one of them expanded with icons for folder actions."></div></div>
<div class="paragraph"><p><strong>Tip:</strong> When you point the mouse at the tab or the top of a folder icon, the folder unfolds to reveal the icons you need to perform important actions with the folder (change the properties, move the folder or delete it).</p></div>
<div class="paragraph"><p><strong>One more tip:</strong> At the top right of each page you will find the information whether — and if so, how many — changes have already been accumulated in the meantime.
Since we have created three folders, there are three changes, but they do not need to be activated yet.
We will deal with activating changes in more detail below.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_linux">
<span class="hidden-anchor sr-only" id="linux"></span>5. Adding the first host</h2>
<div class="sectionbody">
<div class="paragraph"><p>Now everything is in place and ready for the first host to be added the monitoring — and what could be more obvious than to monitor the Checkmk server itself?
Checkmk won’t be able to report its own total failure of course, but this is still useful since not only does it give you an overview of CPU and RAM usage, but also a number of metrics and checks concerning the Checkmk system itself.</p></div>
<div class="paragraph"><p>The procedure for including a Linux host (as well as a Windows host, by the way) is in principle always as follows:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Download the agent</p></li>
<li><p>Install the agent</p></li>
<li><p>Create the host</p></li>
<li><p>Register the agent</p></li>
</ol></div>
<div class="paragraph"><p>Finally, once the host has been created in the <a href="glossar.html#configuration_environment">configuration environment</a>, the services can be configured and the changes activated for the <a href="glossar.html#monitoring_environment">monitoring environment</a>.</p></div>
<div class="sect2">
<h3 id="heading_download_agent">
<span class="hidden-anchor sr-only" id="download_agent"></span>5.1. Downloading the agent</h3>
<div class="paragraph"><p>Since the Checkmk server is a Linux machine, you will need the Checkmk agent for Linux.</p></div>
<div class="paragraph"><p><span class="image-inline"><img src="../images/CRE.svg" alt="CRE" class="icon-left"></span>
For the Raw Edition, you can find the agent’s Linux packages via <span class="guihint">Setup &gt; Agents &gt; Linux</span>:</p></div>
<div class="imageblock">
<div class="content"><img src="../images/intro_agent_download_cre.png" alt="Download page with the RPM/DEB packages."></div>
<div class="title">The download page of the Raw Edition for the Linux packages</div>
</div>
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span>
In the commercial editions, <span class="guihint">Setup &gt; Agents &gt; Windows, Linux, Solaris, AIX</span> takes you to a page that also gives you access to the <a href="glossar.html#agent_bakery">Agent Bakery</a>, with which you can 'bake' individually configured agent packages.
From this page, the <span class="guihint">Related &gt; Linux, Solaris, AIX files</span> menu item will take you to the agent files page as in the Raw Edition.</p></div>
<div class="paragraph"><p>Download the package file: Choose the RPM file format for Red Hat Enterprise Linux (RHEL) based systems, and SLES or the DEB file format for Debian and Ubuntu.</p></div>
</div>
<div class="sect2">
<h3 id="heading_install_agent">
<span class="hidden-anchor sr-only" id="install_agent"></span>5.2. Installing the agent</h3>
<div class="paragraph"><p>For the following installation example, we assume that the downloaded package file is located in the <code>/tmp/</code> directory.
If you have downloaded the file to another directory, replace the <code>/tmp/</code> directory definition with the actual directory in the following installation command.
Similarly, replace the name of the package file with the name of the file you downloaded.</p></div>
<div class="paragraph"><p>The package file is only needed during the installation, and it can be deleted once the installation has been completed.</p></div>
<div class="paragraph"><p><strong>Note:</strong> In our example the agent will be installed on the Checkmk server, i.e. you do not need to copy the package file to another computer.
If the downloaded file is not on the host targeted for the installation of the agent, you must first copy the file to the target host, for example with the command line tool <code>scp</code>.
This is performed in the same way as for the installation of the Checkmk software and as described for a Linux installation, for example, for an <a href="install_packages_debian.html">installation under Debian and Ubuntu</a>.</p></div>
<div class="paragraph"><p>The installation is performed as <code>root</code> on the command line, for the RPM file with <code>rpm</code>, preferably with the <code>-U</code> option, which stands for <em>Update</em> and which ensures that the installation goes through without errors even if an older version of the agent is already installed:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>rpm<span class="tok-w"> </span>-U<span class="tok-w"> </span>/tmp/check-mk-agent-2.2.0p1-1.noarch.rpm</code></pre></div></div>
<div class="paragraph"><p>And for the DEB file with the <code>dpkg -i</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>dpkg<span class="tok-w"> </span>-i<span class="tok-w"> </span>/tmp/check-mk-agent_2.2.0p1-1_all.deb</code></pre></div></div>
<div class="paragraph"><p>The agent installs the Agent Controller, which is used, among other things, to establish TLS encryption of the connection to the Checkmk server during <a href="#register">registration</a>.
For the installation of the Agent Controller to work it requires a Linux distribution with the init system <code>systemd</code>, which has been standard in most Linux distributions since 2015.
For rare cases where the Agent Controller cannot be used, see the article <a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a>.</p></div>
<div class="paragraph"><p>This completes the installation of the agent.
You can leave the command line open.
It will be needed again when registering the host.</p></div>
</div>
<div class="sect2">
<h3 id="heading_create_host">
<span class="hidden-anchor sr-only" id="create_host"></span>5.3. Creating a host</h3>
<div class="paragraph"><p>After installing the agent on the host, you can add the host to Checkmk’s configuration environment — namely into the prepared <span class="guihint">Linux</span> folder.
Just a reminder:
In this example, the Checkmk server and the host to be monitored are of course the very same element.</p></div>
<div class="paragraph"><p>In the Checkmk interface, open the same <span class="guihint">Main</span> page where you have already created the three folders: <span class="guihint">Setup &gt; Hosts &gt; Hosts</span>.
There, change to the <span class="guihint">Linux</span> folder by clicking on that folder.</p></div>
<div class="paragraph"><p>Click <span class="guihint">Add host</span> to open the <span class="guihint">Add host</span> page:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_host_allsettings_less.png" alt="Dialog with properties when creating a host."></div></div>
<div class="paragraph"><p>As with the creation of the three folders above, the <a href="intro_gui.html#show_less_more">Show less mode</a> will still be active.
Therefore, Checkmk only shows the most important host attributes in the menu — those that are necessary to create a host.
If you are interested, you can see the rest by clicking the ellipsis <span class="image-inline"><img src="../images/icons/button_showmore.png" alt="Icon for switching to Show more mode."></span> at each of the open submenus and by opening the two collapsed
submenus at the bottom of the page.
As mentioned at the beginning, Checkmk is a complex system that has an answer to every question.
That’s why you can configure so much on a host (but not only there).</p></div>
<div class="paragraph"><p><strong>Tip:</strong> On many pages — including this one — you can also display help texts for the attributes.
To do this, select <span class="guihint">Show inline help</span> from the <span class="guihint">Help</span> menu.
The selected setting remains active on other pages until you switch off the help.
The following image shows the inline help for the <span class="guihint">IPv4 address</span> parameter:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_ipv4_inlinehelp.png" alt="The host properties with inline help for the IPv4 address shown."></div></div>
<div class="paragraph"><p>But now for the inputs for creating the first host.
You only need to fill in one field, namely <span class="guihint">Hostname</span> in the <span class="guihint">Basic settings</span>.</p></div>
<div class="paragraph"><p>This name has a free format, and can be assigned as required.
However, you should know that the host name is of central importance, because it serves as an internal ID (or key) for unambiguous identification of the host at all points in the monitoring.
Since it is so important in Checkmk and is so often used, you should think carefully about the naming of your hosts.
A host name can be changed at a later date, but this is a time-consuming process and should be avoided.</p></div>
<div class="paragraph"><p>It is best if the host can be resolved under its name in the DNS.
If this is the case, you will be finished with this form.
If not, or if you do not want to use DNS, you can also enter the IP address manually in the <span class="guihint">IPv4 address</span> field.</p></div>
<div class="paragraph"><p><strong>Note:</strong> To ensure that Checkmk can always run stably and with good performance, it maintains its own cache for the resolution of host names.
For this reason, the failure of the DNS service does not lead to a failure of the monitoring.
Detailed information on host names, IP addresses and DNS can be found in <a href="hosts_setup.html#dns">the article on host administration</a>.</p></div>
<div class="paragraph"><p>A host must exist in the configuration environment before it can be registered in the next step.
So, complete the creation of the host for now by clicking <span class="guihint">Save &amp; view folder</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_register">
<span class="hidden-anchor sr-only" id="register"></span>5.4. Registering the host</h3>
<div class="paragraph"><p>Registering the host with the Checkmk server establishes the trust relationship between the two.
Communication between host and server is then only Transport Layer Security (TLS) encrypted.</p></div>
<div class="paragraph"><p>Registration is done by calling the Agent Controller <code>cmk-agent-ctl</code> as <code>root</code> on the command line.
For the command you need the names of the Checkmk server (<code>mycmkserver</code> in the example), the Checkmk site (<code>mysite</code>) and the host (<code>localhost</code>) as set up in Checkmk <a href="#create_host">in the preceding section</a>.
Completing the options are the name of a Checkmk user with access to the <a href="rest_api.html">REST API</a>.
You can use <code>cmkadmin</code> to do this:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>cmk-agent-ctl<span class="tok-w"> </span>register<span class="tok-w"> </span>--hostname<span class="tok-w"> </span>localhost<span class="tok-w"> </span>--server<span class="tok-w"> </span>mycmkserver<span class="tok-w"> </span>--site<span class="tok-w"> </span>mysite<span class="tok-w"> </span>--user<span class="tok-w"> </span>cmkadmin</code></pre></div></div>
<div class="paragraph"><p>If the specified values were correct, you will be asked to confirm the identity of the Checkmk site to which you want to connect.
For clarity we have shortened the server certificate output to be confirmed here in this example:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-go">Attempting to register at mycmkserver, port 8000. Server certificate details:</span>

<span class="tok-go">PEM-encoded certificate:</span>
<span class="tok-go">-----BEGIN CERTIFICATE-----</span>
<span class="tok-go">MIIC9zCCAd+gAwIBAgIUM7th5NaTjbkXVo1gMXVDC3XkX4QwDQYJKoZIhvcNAQEL</span>
<span class="tok-go">[...]</span>
<span class="tok-go">jbXj75+c48W2u4O0+KezRDIG/LdeVdk0Gq/kQQ8XmdqgObDU7mJKBArkuw==</span>
<span class="tok-go">-----END CERTIFICATE-----</span>

<span class="tok-go">Issued by:</span>
<span class="tok-go">	Site 'mysite' local CA</span>
<span class="tok-go">Issued to:</span>
<span class="tok-go">	mysite</span>
<span class="tok-go">Validity:</span>
<span class="tok-go">	From Tue, 28 Feb 2023 15:55:26 +0000</span>
<span class="tok-go">	To   Thu, 28 Feb 3022 15:55:26 +0000</span>

<span class="tok-go">Do you want to establish this connection? [Y/n]</span>
<span class="tok-go">&gt; <mark>Y</mark></span>

<span class="tok-go">Please enter password for 'cmkadmin'</span>
<span class="tok-go">&gt; *****</span>
<span class="tok-go">Registration complete.</span></code></pre></div></div>
<div class="paragraph"><p>Confirm with <code>Y</code> and then when requested enter the password for the <code>cmkadmin</code> user to complete the process.</p></div>
<div class="paragraph"><p>If no error message is displayed, the encrypted connection will have been established.
All data will subsequently be transmitted in compressed form via this connection.</p></div>
<div class="paragraph"><p>After this (for the time being last) excursion to the command line, we will continue, again in the Checkmk interface.</p></div>
</div>
<div class="sect2">
<h3 id="heading_diagnosis">
<span class="hidden-anchor sr-only" id="diagnosis"></span>5.5. Diagnostics</h3>
<div class="paragraph"><p>Murphy’s law — <em>"Everything that can go wrong will go wrong"</em> — unfortunately still applies to Checkmk.
Things can go wrong, especially when you are trying them for the first time.
Good tools for diagnosing errors are therefore important.</p></div>
<div class="paragraph"><p>During the creation of a host, Checkmk not only offers to save the entries (host name and IP address) on the <span class="guihint">Add host</span> page, but also to test the connection to the host.
Following the short interruption for registration, we will now catch up on this connection test.
On the <span class="guihint">Linux</span> page, click the <span class="image-inline"><img src="../images/icons/icon_edit.png" alt="Icon to edit a list entry."></span> icon on the host you have just created to open the host properties.
In the action bar of the <span class="guihint">Properties of host</span> page you will find, among other things, the <span class="guihint">Save &amp; run connection tests</span> button.
Click on this button.</p></div>
<div class="paragraph"><p>The <span class="guihint">Test connection to host</span> page will be displayed and Checkmk will try to reach the host in various ways.
For Linux and Windows hosts only the two upper boxes are interesting:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_host_diagnostics.png" alt="Result of the connection test to the host with ping and with agent output."></div></div>
<div class="paragraph"><p>The output in the <span class="guihint">Agent</span> box assures you that Checkmk can successfully communicate with the agent you have previously installed and registered manually on the host.</p></div>
<div class="paragraph"><p>In further boxes you can see how Checkmk tries to make contact via SNMP.
This predictably leads to SNMP errors in this example, but this is very useful for network devices, which we will discuss <a href="#snmp">below</a>.</p></div>
<div class="paragraph"><p>On this page you can try a different IP address in the <span class="guihint">Host Properties</span> box if necessary, run the test again and even transfer the changed IP address directly to the host properties with <span class="guihint">Save &amp; go to host properties</span>.</p></div>
<div class="paragraph"><p>Click this button (whether you have changed the IP address or not) and you will end up back on the <span class="guihint">Properties of host</span> page.</p></div>
<div class="paragraph"><p>By the way, you can find more diagnostic possibilities in the <a href="agent_linux.html#test">Linux agent</a> article.</p></div>
</div>
<div class="sect2">
<h3 id="heading_services">
<span class="hidden-anchor sr-only" id="services"></span>5.6. Configuring services</h3>
<div class="paragraph"><p>Once the host itself has been included, the really interesting part begins — the configuration of its services.
On the host properties page mentioned above, click <span class="guihint">Save &amp; run service discovery</span> and the <span class="guihint">Services of host</span> page will appear.</p></div>
<div class="paragraph"><p>On this page you specify which services you want to monitor on the host.
If the agent on the host is accessible and running correctly, Checkmk automatically finds a number of services and suggests these for the monitoring (shown here in an abbreviated form):</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_services_of_host.png" alt="List of services found on the host for adding to monitoring."></div></div>
<div class="paragraph"><p>For each of these services, there are the following options:</p></div>
<div class="ulist"><ul>
<li><p><span class="guihint">Undecided</span> : You have not yet decided whether to monitor this service.</p></li>
<li><p><span class="guihint">Monitored</span> : The service is currently being monitored.</p></li>
<li><p><span class="guihint">Disabled</span> : You have chosen not to monitor the service.</p></li>
<li><p><span class="guihint">Vanished</span> : The service was being monitored, but it now no longer exists.</p></li>
</ul></div>
<div class="paragraph"><p>This page shows all services ordered by the above categories into tables.
As you have not yet configured a service, you will see only the <span class="guihint">Undecided</span> table.</p></div>
<div class="paragraph"><p>If you click <span class="guihint">Monitor undecided services</span>, all of the services will be directly added to the monitoring and all of the <span class="guihint">Undecided</span> services will become <span class="guihint">Monitored</span> services.</p></div>
<div class="paragraph"><p>Conversely, services can also disappear, for example, when a file system has been removed.
These services will then appear in the monitoring as <span class="state3">UNKNOWN</span> and on this page as <span class="guihint">Vanished</span> and can be removed from the monitoring with <span class="guihint">Remove vanished services</span>.</p></div>
<div class="paragraph"><p>For now, it’s easiest to click the <span class="guihint">Accept all</span> button, which does everything at once — adding missing services, removing vanished ones — and additionally apply any changes found to host <a href="glossar.html#label">labels</a>.</p></div>
<div class="paragraph"><p>You can always visit this page later to customize the configuration of the services.
Sometimes new services are created by changes to a host, for example, when you include a Logical Unit Number (LUN) as a file system or configure a new Oracle database instance.
These services then reappear as <span class="guihint">Undecided</span>, at which point you can include them in the monitoring individually or all at once.</p></div>
</div>
<div class="sect2">
<h3 id="heading_activate_changes">
<span class="hidden-anchor sr-only" id="activate_changes"></span>5.7. Activating changes</h3>
<div class="paragraph"><p>Checkmk initially saves all changes you make only in a temporary 'configuration environment' that does not yet influence the currently-operating monitoring.
Only by 'activating the pending changes' will they be transferred to the monitoring.
You can read more about the background to this in the <a href="wato.html#activate_changes">article on configuring Checkmk</a>.</p></div>
<div class="paragraph"><p>As we mentioned above, on the top right of each page you will find information on how many changes have so far accumulated that have not yet been activated.
Click on the link with the number of changes, which will take you to the <span class="guihint">Activate pending changes</span> page, which lists, among other things, the changes that have not yet been activated at <span class="guihint">Pending changes</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_activate_changes.png" alt="List of pending changes for activation."></div></div>
<div class="paragraph"><p>Now click the <span class="guihint">Activate on selected sites</span> button to apply the changes.</p></div>
<div class="paragraph"><p>Shortly after, you will be able to see the result in the sidebar in <span class="guihint">Overview</span>, which now shows the number of hosts (1) and the number of services you previously selected.
In the standard dashboard, which you can reach by clicking on the Checkmk logo in the top left of the navigation bar, you will also now be able to see that the system has become filled with life.</p></div>
<div class="paragraph"><p>You have now successfully transferred the first host and its services into the monitoring — Congratulations!</p></div>
<div class="paragraph"><p>More detailed information on the Linux agent can be found in the <a href="agent_linux.html">article on Linux monitoring</a>.
You can find information on how to revert pending changes in <a href="wato.html#revert_changes">Configuration of Checkmk</a>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_windows">
<span class="hidden-anchor sr-only" id="windows"></span>6. Monitoring Windows</h2>
<div class="sectionbody">
<div class="paragraph"><p>Just as for Linux, Checkmk also has its own agent for Windows.
This is packaged as an MSI package.
You will find it just one menu entry away from the <a href="#download_agent">Linux agent</a>.
Once you have downloaded the MSI package and copied it to your Windows computer, you can install it by double-clicking, as is usual with Windows.</p></div>
<div class="paragraph"><p>Once the agent has been installed, you can create the host in Checkmk, register it by command, and add it to the monitoring.
Follow the same procedure as described above for the Linux host, but create the host in the designated <code>Windows</code> folder.
Since Windows is structured differently from Linux, the agent will naturally find other services.
For a detailed introduction to this subject, see the <a href="agent_windows.html">article on Windows monitoring</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_snmp">
<span class="hidden-anchor sr-only" id="snmp"></span>7. Monitoring with SNMP</h2>
<div class="sectionbody">
<div class="paragraph"><p>Professional quality switches, routers, printers and many other devices and appliances already have a built-in interface for monitoring from the manufacturer — the Simple Network Management Protocol (SNMP).
Such devices can be monitored very easily with Checkmk — and you don’t even need to install an agent.</p></div>
<div class="paragraph"><p>The basic procedure is always the same:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>In the device’s management interface, enable SNMP for <strong>read</strong> access from the IP address of the Checkmk server.</p></li>
<li><p>Assign a <strong>Community</strong> when doing so.
This is nothing more than a password for access.
Since this is usually transmitted in plain text in the network, it only makes limited sense to choose a very complicated password.
Most users simply use the same community for all devices within a company.
This also greatly simplifies the configuration in Checkmk.</p></li>
<li><p>In Checkmk, create the host for the SNMP device as <a href="#create_host">described above</a>, this time in the designated <code>Network</code> folder.</p></li>
<li><p>In the host properties, in the <span class="guihint">Monitoring agents</span> box, check <span class="guihint">Checkmk agent / API integrations</span> and select <span class="guihint">No API integrations, no Checkmk agent</span>.</p></li>
<li><p>In the same <span class="guihint">Monitoring agents</span> box, check <span class="guihint">SNMP</span> and select <span class="guihint">SNMP v2 or v3</span>.</p></li>
<li><p>If the Community is not <code>public</code>, under <span class="guihint">Monitoring agents</span> again activate the <span class="guihint">SNMP credentials</span> entry, select <span class="guihint">SNMP community (SNMP Versions 1 and 2c)</span> and enter the Community in the input field below.</p></li>
</ol></div>
<div class="paragraph"><p>For the above last three points (4, 5, 6), the result should look like in the following screenshot:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_snmp_configuration.png" alt="Dialog with properties when creating a host via SNMP: the 'Monitoring agents'."></div></div>
<div class="paragraph"><p><strong>Tip:</strong> If you have created all SNMP devices in a separate folder, simply carry out the configuration of the <span class="guihint">Monitoring agents</span> for the folder.
This will automatically apply these settings to all the hosts in this folder.</p></div>
<div class="paragraph"><p>The rest runs as usual.
If you want, you can take a look at the <span class="guihint">Test connection to host</span> page with the <span class="guihint">Save &amp; go to connection tests</span> button.
There you can immediately see whether access via SNMP works, here for a switch, for example:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_snmp_diagnostics.png" alt="Result of the connection test to the host via SNMP."></div></div>
<div class="paragraph"><p>On the <span class="guihint">Properties of host</span> page, click on <span class="guihint">Save &amp; run service discovery</span> to display the list of all services.
This naturally looks completely different from Linux or Windows.
On all devices, by default Checkmk monitors all ports that are currently in use.
You can customize this later as you wish.
In addition, one service that is always <span class="state0">OK</span> shows you the general information about the device, and another service shows you the uptime.</p></div>
<div class="paragraph"><p>A detailed description can be found in the <a href="snmp.html">article on monitoring via SNMP</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_cloud">
<span class="hidden-anchor sr-only" id="cloud"></span>8. Clouds, containers and virtual machines</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can also monitor cloud services, containers and virtual machines (VM) with Checkmk, even if you do not have access to the actual servers.
Checkmk uses the application programming interfaces (API) provided by the manufacturers for this purpose.
These interfaces always use HTTP or HTTPS for access.</p></div>
<div class="paragraph"><p>The basic principle is always the following:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Set up an account for Checkmk in the manufacturer’s management interface.</p></li>
<li><p>Create a host in Checkmk to access the API.</p></li>
<li><p>Set up a configuration for this host to access the API.</p></li>
<li><p>For the monitored objects such as VMs, EC2 instances, containers, etc., create additional hosts in Checkmk or automate their creation.</p></li>
</ol></div>
<div class="paragraph"><p>You can find in the User Guide step-by-step instructions for setting up monitoring of <a href="monitoring_aws.html">Amazon Web Services (AWS)</a>, <a href="monitoring_azure.html">Microsoft Azure</a>, <a href="monitoring_gcp.html">Google Cloud Platform (GCP)</a>, <a href="monitoring_docker.html">Docker</a>, <a href="monitoring_kubernetes.html">Kubernetes</a> and <a href="monitoring_vmware.html">VMware ESXi</a>.</p></div>
<div class="paragraph"><p><a href="intro_tools.html">Continue with the monitoring tools</a></p></div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#hosts">1. Hosts, services and agents</a></li>
<li><a href="#dns">2. Preliminary considerations for DNS</a></li>
<li><a href="#folders">3. Folder structure for hosts</a></li>
<li><a href="#create_folders">4. Creating folders</a></li>
<li>
<a href="#linux">5. Adding the first host</a><ul class="sectlevel1">
<li><a href="#download_agent">5.1. Downloading the agent</a></li>
<li><a href="#install_agent">5.2. Installing the agent</a></li>
<li><a href="#create_host">5.3. Creating a host</a></li>
<li><a href="#register">5.4. Registering the host</a></li>
<li><a href="#diagnosis">5.5. Diagnostics</a></li>
<li><a href="#services">5.6. Configuring services</a></li>
<li><a href="#activate_changes">5.7. Activating changes</a></li>
</ul>
</li>
<li><a href="#windows">6. Monitoring Windows</a></li>
<li><a href="#snmp">7. Monitoring with SNMP</a></li>
<li><a href="#cloud">8. Clouds, containers and virtual machines</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
