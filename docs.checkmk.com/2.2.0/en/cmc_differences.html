<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="The Checkmk Micro Core (CMC) differs in some details from other Nagios-compatible cores. These are described in detail here.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Special characteristics of the CMC">
<meta name="og:description" content="The Checkmk Micro Core (CMC) differs in some details from other Nagios-compatible cores. These are described in detail here.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Special characteristics of the CMC</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.2.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.2.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.2.0/de/cmc_differences.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.2.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/en/cmc_differences.html">2.1.0</a><a class="dropdown-item" href="../../latest/en/cmc_differences.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and derivatives</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation from Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation from AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.2.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.2.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Password store</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs for GUI extensions</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automated host creation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Rules</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Notifications</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Notifications via ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Notifications via Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Monitoring log files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMware ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Monitoring Google Cloud Platform (GCP)</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">Monitoring OpenShift</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Measured values and graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Custom notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">The Standard Edition</a></p>
</li>
<li>
<p><a href="cce.html">The Cloud Edition</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">The Checkmk REST API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Developing extensions for Checkmk</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Writing agent-based check plug-ins</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">Writing SNMP-based check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Special characteristics of the CMC</h1>
<div class="details">
<span id="revdate">Last modified on 01-Jun-2023</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.2.0/src/common/en/cmc_differences.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="cmc.html">The Checkmk micro core (CMC)</a>
<a href="cmc_migration.html">Migration to the CMC</a>
<a href="cmc_files.html">CMC files and directories</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__the_checkmk_micro_cores_special_features">
<span class="hidden-anchor sr-only" id="_the_checkmk_micro_cores_special_features"></span>1. The Checkmk Micro Core’s special features</h2>
<div class="sectionbody">
<div class="paragraph"><p>In comparison with Nagios, the <a href="cmc.html">CMC</a>'s most significant advantages are its higher performance and faster reaction times.
It has further interesting advantages of which you should be aware — the most important of which are:</p></div>
<div class="ulist"><ul>
<li><p>Smart Ping — Intelligent host checks</p></li>
<li><p>Auxiliary processes Check helper, Checkmk fetcher and Checkmk checker</p></li>
<li><p>Initial Scheduling</p></li>
<li><p>Processing of performance data</p></li>
<li><p>A couple of Nagios' functions are not used, or are achieved using a different procedure in the CMC.
The details on this can be found in the article on the <a href="cmc_migration.html">migration to the CMC</a>.</p></li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_smartping">
<span class="hidden-anchor sr-only" id="smartping"></span>2. Smart Ping — Intelligent host checks</h2>
<div class="sectionbody">
<div class="paragraph"><p>With Nagios the availability of hosts is usually verified using a <em>Ping</em>.
For this purpose, for every host a plug-in such as <code>check_ping</code> or <code>check_icmp</code> is executed once per interval (generally once per minute).
This sends, for example, five ping packets and waits for their return.
Creating the processes for executing the plug-ins ties up valuable CPU resources.
Furthermore, these can form a backlog for quite a long time if a host is not reachable, and long timeouts must be endured.</p></div>
<div class="paragraph"><p>By contrast, CMC runs host checks — unless otherwise configured — using a procedure called <em>Smart Ping</em>.
With this <em>a single</em> ping packet is sent per host per interval.
This is performed by an auxiliary process named <code>icmpsender</code> — directly and without a process creation.
For this purpose the <code>icmpsender</code> has its own ping implementation, which we have developed and which is markedly efficient.
In benchmarking using only ping we could generate network traffic of up to 45 MBit/sec!
The interval for pings per host is set to <strong>six seconds</strong> by default,
but you can redefine this via the <span class="guihint">Normal check interval for host checks</span> rule set.</p></div>
<div class="paragraph"><p>The responses to the pings are not explicitly waited-for.
Incoming ping packets are simply noted as successful checks.
The auxiliary process <code>icmpreceiver</code> is responsible for this.
If no packet is received from a host within a defined time, this host will be flagged as <span class="hstate1">DOWN</span>.
This timeout time is predefined at 15 seconds (2,5 intervals) and can also be altered per host via the <span class="guihint">Settings for host checks via Smart PING</span> rule set.</p></div>
<div class="sect2">
<h3 id="heading_no_on-demand_host_checks">
<span class="hidden-anchor sr-only" id="no_on-demand_host_checks"></span>2.1. No on-demand host checks</h3>
<div class="paragraph"><p>Host checks not only serve to trigger notifications in the case of a total host failure, but also to suppress <a href="notifications.html#state_host">notifications of service problems</a> during the host’s down time.
It is therefore important to quickly and accurately determine a host’s condition in the event of a service problem.
Even if it has not been long since the last host check, this result can already be out of date.
For this, it is sufficient when directly after a host failure, by chance the service check is executed first, rather than the host check.
Even though it is down, the host would still be considered <span class="hstate0">UP</span> and the notification for the service would be sent — erroneously.</p></div>
<div class="paragraph"><p>The CMC solves this problem very simply:
if during a service problem the host is in an <span class="hstate0">UP</span> state, then the next host check will simply be waited-for.
Due to the interval being very short at only six seconds, there is only a negligible delay to a notification — if the host is still <span class="hstate0">UP</span> and therefore the notification needs to be sent for the service.
The CMC uses an additional trick — the <code>icmpreceiver</code> evaluates not only incoming ping responses, but also packets resulting from TCP connection establishments: SYN (synchronization) and RST (reset).
Keep in mind, that the <code>icmpreceiver</code> will ignore each and every SNMP packet as SNMP does not communicate over the TCP protocol but over UDP.</p></div>
<div class="paragraph"><p>As an example, let’s take the case of a <code>check_http</code> plug-in delivering a <span class="state2">CRIT</span> status, due to a queried web server being unavailable.
In this situation, <em>following the start</em> of the service check a TCP RST packet (<em>connection refused</em>) will be received from this server.
The CMC therefore knows for certain that the host itself is <span class="hstate0">UP</span> and it can thus send the notification without delay.</p></div>
<div class="paragraph"><p>The same principle is utilized when calculating network outages if <a href="notifications.html#parents">parent hosts</a> have been defined.
Here as well notifications will at times be delayed briefly in order to wait for a verified status.</p></div>
</div>
<div class="sect2">
<h3 id="heading__the_advantages">
<span class="hidden-anchor sr-only" id="_the_advantages"></span>2.2. The advantages</h3>
<div class="paragraph"><p>This procedure yields a number of advantages:</p></div>
<div class="ulist"><ul>
<li><p>Virtually insignificant CPU load resulting from host checks — even without particularly powerful hardware umpteen thousand hosts can be monitored.</p></li>
<li><p>No thwarting of monitoring by on-demand host check jams if hosts are <span class="hstate1">DOWN</span>.</p></li>
<li><p>No false alarms from services when a host status is not current.</p></li>
</ul></div>
<div class="paragraph"><p>One disadvantage should not be hushed-up however:
the Smart Ping host checks generate no performance data (packet runtimes).</p></div>
<div class="paragraph"><p>On hosts where these are required you can simply set up an <a href="glossar.html#active_check">active check</a> via ping with the <span class="guihint">Check hosts with PING (ICMP Echo Request)</span> rule set.</p></div>
</div>
<div class="sect2">
<h3 id="heading__unpingable_hosts">
<span class="hidden-anchor sr-only" id="_unpingable_hosts"></span>2.3. Unpingable hosts</h3>
<div class="paragraph"><p>In practice, not all hosts are checkable by ping.
For these cases other methods in CMC can also be used for the host check, e.g., a TCP connection.
Because these are generally exceptions they have no negative impact on the overall performance.
The rule set here is <span class="guihint">Host Check Command</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__problems_with_firewalls">
<span class="hidden-anchor sr-only" id="_problems_with_firewalls"></span>2.4. Problems with firewalls</h3>
<div class="paragraph"><p>There are firewalls that answer TCP connection packets to inaccessible hosts with a TCP RST packet.
The trick is that the firewall is not permitted to register itself as the sender of this packet, rather the target host’s IP address must be specified.
Smart Ping will view this packet as a sign of life and incorrectly assume that the target host is accessible.</p></div>
<div class="paragraph"><p>In such a (rare) situation, via <span class="guihint">Global settings &gt; Monitoring Core &gt; Tuning of Smart PING</span> you have the possibility of activating the <span class="guihint">Ignore TCP RST packets when determining host state</span> option.
Or, with <code>check_icmp</code> you can select a conventional ping as a host check for the affected hosts.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_aux_processes">
<span class="hidden-anchor sr-only" id="aux_processes"></span>3. Auxiliary processes</h2>
<div class="sectionbody">
<div class="paragraph"><p>A lesson from the poor performance of Nagios in larger environments is that creating processes is a resource and time consuming operation.
The <em>size of the parent process</em> is the decisive factor here.
For every execution of an <a href="glossar.html#active_check">active check</a> the complete Nagios process must first be duplicated (<em>forked</em>) before it is replaced by the new process — the check plug-in.
The more hosts and services to be monitored, the larger this process and the fork respectively takes longer.
In the meantime the core’s other tasks must wait — and here 24-CPU cores are not much help.</p></div>
<div class="sect2">
<h3 id="heading_checkhelper">
<span class="hidden-anchor sr-only" id="checkhelper"></span>3.1. Check helper</h3>
<div class="paragraph"><p>In order to avoid forking the core, during the program start the CMC creates a fixed number of very lean auxiliary processes whose task is to start the active check plug-ins: the <strong>check helpers.</strong>
Not only do these fork much more quickly, but the forking also scales-up to cover all available cores because the core itself is no longer blocked.
In this way, the execution of active checks (e.g. <code>check_http</code>) — whose runtimes are actually quite short — is greatly accelerated.</p></div>
</div>
<div class="sect2">
<h3 id="heading_fetcher_checker">
<span class="hidden-anchor sr-only" id="fetcher_checker"></span>3.2. Checkmk fetcher and Checkmk checker</h3>
<div class="paragraph"><p>The CMC goes a significant step further however — because in a Checkmk environment active checks are rather an exception.
Here Checkmk-based checks — in which only a single fork per host and interval is required — are primarily used.</p></div>
<div class="paragraph"><p>To optimize the execution of these checks, the CMC maintains two other types of auxiliary processes: the <strong>Checkmk fetchers</strong> and the <strong>Checkmk checkers:</strong></p></div>
<div class="sect3">
<h4 id="heading__the_checkmk_fetchers">
<span class="hidden-anchor sr-only" id="_the_checkmk_fetchers"></span>The Checkmk fetchers</h4>
<div class="paragraph"><p>retrieve the required information from the monitored hosts, i.e. the data from the <span class="guihint">Check_MK</span> and <span class="guihint">Check_MK Discovery</span> services.
The fetchers thus take over the network communication with the Checkmk agents, SNMP agents and the <a href="glossar.html#special_agent">special agents.</a>
Gathering this information takes some time, but with regularly less than 50 MByte per process only a relatively little memory,
so many of these processes can be configured without problems.
Keep in mind that the processes can be partially or not at all swapped out and thus must always be kept in physical memory.
The limiting factor here is the available memory in the Checkmk server.</p></div>
<div class="paragraph"><p><strong>Note:</strong> The mentioned 50 MByte are an estimate for basic orientation.
The actual value may be higher on specific circumstances — e.g. because IPMI has been configured on the <a href="hosts_setup.html#management_board">Management board</a>.</p></div>
</div>
<div class="sect3">
<h4 id="heading__the_checkmk_checkers">
<span class="hidden-anchor sr-only" id="_the_checkmk_checkers"></span>The Checkmk checkers</h4>
<div class="paragraph"><p>analyze and evaluate the information collected by the Checkmk fetchers and generate the check results for the services.
The checkers need a lot of memory because they must have the checkmk configuration with them.
A checker process occupies at least about 90 MByte — however, a multiple of this may be necessary, depending on how the checks are configured.
On the other hand, the checkers do not cause any network load and are very fast in execution.
The number of checkers should only be as large as your Checkmk server can process in parallel.
As a rule, this number corresponds to the number of cores in your server.
Since the checkers are not IO-bound, they are most effective if each checker has its own core.</p></div>
<div class="paragraph"><p>The division of the two different 'collect' and 'execute' tasks between Checkmk fetcher and Checkmk checker exists since Checkmk version <span class="new">2.0.0</span>.
Before, there was only <em>one</em> auxiliary process type that was responsible for both — the so-called Checkmk helpers.</p></div>
<div class="paragraph"><p>With the fetcher/checker model, both tasks can now be split between two separate pools of processes:
retrieving information from the network with many small fetcher processes and the computationally-intensive checking with a few large checker processes.
As a result, a CMC uses up to four times less memory for the same performance (checks per second)!</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_numbers">
<span class="hidden-anchor sr-only" id="numbers"></span>3.3. Setting the number of auxiliary processes correctly</h3>
<div class="paragraph"><p>By default, 5 check helpers, 13 Checkmk fetchers and 4 Checkmk checkers are started.
These values are set under <span class="guihint">Global settings &gt; Monitoring Core</span> and can be customized by you:</p></div>
<div class="imageblock"><div class="content"><img src="../images/cmc_differences_global_settings_monitoring_core.png" alt="List of global settings for the CMC's auxiliary processes."></div></div>
<div class="paragraph"><p>To find out if and how you need to change the default values, you have several options:</p></div>
<div class="paragraph"><p>In the sidebar, the <span class="guihint">Core statistics</span> snap-in shows you the percentage utilization averaged over the last 10-20 seconds:</p></div>
<div class="imageblock"><div class="content"><img src="../images/cmc_differences_snapin_core_statistics.png" alt="Core statistics snap-in." width="50%"></div></div>
<div class="paragraph"><p>For all auxiliary process types, there should always be enough processes to run the configured checks.
If a pool is being 100 % utilized, the checks will not be executed in time, the latency will grow and the states of the services will not be up to date.</p></div>
<div class="paragraph"><p>The <em>usage</em> should not exceed 80 % a few minutes after starting a site.
For higher percentages, you should increase the number of processes.
Since the necessary number of Checkmk fetchers grows with the number of monitored hosts and services, a correction is most likely here.
However, be careful to create only as many auxiliary processes as are really needed, as each process occupies resources.
In addition, all auxiliary processes are initialized in parallel when the CMC is started, which can lead to load peaks.</p></div>
<div class="paragraph"><p>The <span class="guihint">Core statistics</span> snap-in shows you not only the usage, but also the <em>latency</em>.
For these values, the simple rule applies: the lower, the better — and 0 seconds is therefore best.</p></div>
<div class="paragraph"><p><strong>Note:</strong> You can also display the values shown in the snap-in for your site in the details of the <span class="guihint">OMD &lt;site_name&gt; performance</span> service.</p></div>
<div class="paragraph"><p>As an alternative to the <span class="guihint">Core statistics</span> snap-in, you can also have your <a href="analyze_configuration.html">configuration analyzed by Checkmk</a>, with <span class="guihint">Setup &gt; Maintenance &gt; Analyze configuration</span>.
The advantage: Here you get an immediate evaluation from Checkmk how the state of the auxiliary processes is.
Very handy is:
If one of the auxiliary processes is not <span class="state0">OK</span>, you can open from the help text the corresponding <span class="guihint">Global settings</span> option to change the value.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__initial_scheduling">
<span class="hidden-anchor sr-only" id="_initial_scheduling"></span>4. Initial scheduling</h2>
<div class="sectionbody">
<div class="paragraph"><p>During scheduling it is defined which checks should be run at what times.
Nagios has implemented numerous procedures that should ensure that the checks are regularly distributed over the interval.
It will likewise attempt to distribute the queries to be run on an individual target system uniformly over the interval.</p></div>
<div class="paragraph"><p>The CMC has its own, simpler procedure for this purpose.
This takes into account that Checkmk already contacts a host once per interval.
Furthermore, the CMC ensures that new checks are <em>immediately</em> executed and not distributed over several minutes.
This is very convenient for the user since a new host will be queried as soon as the configuration has been activated.
In order to avoid a large number of new checks causing a load spike, new checks whose number exceeds a definable limit can be distributed over the entire interval.
The option for this can be found under <span class="guihint">Global settings &gt; Monitoring Core &gt; Initial Scheduling</span>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_metrics">
<span class="hidden-anchor sr-only" id="metrics"></span>5. Processing of performance data</h2>
<div class="sectionbody">
<div class="paragraph"><p>An important function of Checkmk is the <a href="graphing.html">processing of measurement data</a>, such as CPU utilization, and its retention for a long time period.
In the <span class="image-inline"><img src="../images/icons/CRE.png" alt="CRE" width="20" title="Checkmk Raw Edition"></span> <strong>Checkmk Raw Edition</strong>, <a href="http://docs.pnp4nagios.org/" target="_blank">PNP4Nagios</a> from Jörg Linge is used for this,
which in turn is based on the <a href="https://oss.oetiker.ch/rrdtool/" target="_blank">RRDtool</a>.</p></div>
<div class="paragraph"><p>The software performs two functions:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>The creation and updating of the <a href="graphing.html#rrds">Round Robin Databases (RRDs).</a></p></li>
<li><p>The graphic representation of the data in the GUI.</p></li>
</ol></div>
<div class="paragraph"><p>In a Nagios core operation the function mentioned in point <strong>1.</strong> above is quite a long process.
Depending on the method, spool files, Perl scripts and an auxiliary process (<code>npcd</code>) written in C is used.
Finally, slightly converted data is written to the RRD cache daemon’s Unix socket.</p></div>
<div class="paragraph"><p>The CMC shortens this chain by writing <em>directly</em> to the RRD cache daemon — all intermediate steps are dispensed with.
Parsing, and converting the data to the RRDtool’s format is performed directly in C++.
This method is possible and sensible nowadays as the RRD cache daemon has already implemented its own very efficient spooling, and with the aid of journal files this
means that no data is lost in the case of a system crash.</p></div>
<div class="paragraph"><p>The advantages:</p></div>
<div class="ulist"><ul>
<li><p>Reduced Disk-I/O and CPU load</p></li>
<li><p>Simpler implementation with markedly more stability</p></li>
</ul></div>
<div class="paragraph"><p>The installation of new RRDs is performed by the CMC with a further helper, activated by <code>cmk --create-rrd</code>.
This creates files optionally compatible with PNP, or with the new Checkmk format (only for new installations).
A switch from Nagios to CMC has no effect on existing RRD files — these will be seamlessly carried-over and will continue to be maintained.</p></div>
<div class="paragraph"><p>In the commercial editions the graphic display of the data in the GUI is handled directly by Checkmk’s GUI itself, so that no PNP4Nagios component is involved.</p></div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_the_checkmk_micro_cores_special_features">1. The Checkmk Micro Core’s special features</a></li>
<li>
<a href="#smartping">2. Smart Ping — Intelligent host checks</a><ul class="sectlevel1">
<li><a href="#no_on-demand_host_checks">2.1. No on-demand host checks</a></li>
<li><a href="#_the_advantages">2.2. The advantages</a></li>
<li><a href="#_unpingable_hosts">2.3. Unpingable hosts</a></li>
<li><a href="#_problems_with_firewalls">2.4. Problems with firewalls</a></li>
</ul>
</li>
<li>
<a href="#aux_processes">3. Auxiliary processes</a><ul class="sectlevel1">
<li><a href="#checkhelper">3.1. Check helper</a></li>
<li>
<a href="#fetcher_checker">3.2. Checkmk fetcher and Checkmk checker</a><ul class="sectlevel2">
<li><a href="#_the_checkmk_fetchers">The Checkmk fetchers</a></li>
<li><a href="#_the_checkmk_checkers">The Checkmk checkers</a></li>
</ul>
</li>
<li><a href="#numbers">3.3. Setting the number of auxiliary processes correctly</a></li>
</ul>
</li>
<li><a href="#_initial_scheduling">4. Initial scheduling</a></li>
<li><a href="#metrics">5. Processing of performance data</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
