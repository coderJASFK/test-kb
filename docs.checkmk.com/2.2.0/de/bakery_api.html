<!DOCTYPE html>
<html lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="Die Bakery-API bietet eine Schnittstelle, um Agentenpakete der Agentenbäckerei zu erweitern, z.B. mit Agentenplugins und deren Konfiguration.">
<meta name="og:locale" content="de">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Die Bakery-API">
<meta name="og:description" content="Die Bakery-API bietet eine Schnittstelle, um Agentenpakete der Agentenbäckerei zu erweitern, z.B. mit Agentenplugins und deren Konfiguration.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Die Bakery-API</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Suche auf docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.2.0/de"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.2.0/de"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">de</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.2.0/en/bakery_api.html">English</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.2.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/de/bakery_api.html">2.1.0</a><a class="dropdown-item" href="../../latest/de/bakery_api.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_willkommen_bei_checkmk">
<a class="anchor" href="#_willkommen_bei_checkmk"></a>1. Willkommen bei Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Willkommen im Checkmk Handbuch</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossar</a></p>
</li>
<li>
<p><a href="search.html">Suchen in docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leitfaden_für_einsteiger">
<a class="anchor" href="#_leitfaden_f%C3%BCr_einsteiger"></a>2. Leitfaden für Einsteiger</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Checkmk aufsetzen</a></p>
</li>
<li>
<p><a href="intro_gui.html">Die Checkmk-Oberfläche</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Das Monitoring einrichten</a></p>
</li>
<li>
<p><a href="intro_tools.html">Die Monitoring-Werkzeuge</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk im Monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Das Monitoring feinjustieren</a></p>
</li>
<li>
<p><a href="intro_users.html">Mit mehreren Benutzern arbeiten</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Benachrichtigungen einschalten</a></p>
</li>
<li>
<p><a href="intro_extend.html">Das Monitoring weiter ausbauen</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best Practices, Tipps &amp; Tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_und_vms">
<a class="anchor" href="#_server_und_vms"></a>3.1. Server und VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation unter Debian und Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation unter Red Hat und Derivaten</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation unter SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, Container, Cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation von Checkmk in der Appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation als Docker-Container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation aus dem Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation aus dem AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates und Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update auf Version <span class="new">2.2.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update-Matrix für Version <span class="new">2.2.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux-Upgrade auf dem Checkmk-Server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk-Versionen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_von_checkmk">
<a class="anchor" href="#_administration_von_checkmk"></a>4. Administration von Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Anmeldung mit SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single Sign-On mit Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk-Server im Docker-Container</a></p>
</li>
<li>
<p><a href="security.html">Sicherheit (Security)</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Weboberfläche mit HTTPS absichern</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instanzen">
<a class="anchor" href="#_instanzen"></a>4.2. Instanzen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Instanzen (Sites) mit omd verwalten</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk auf der Kommandozeile</a></p>
</li>
<li>
<p><a href="license.html">Lizenzen verwalten</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Verteiltes Monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Passwortspeicher (Password store)</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Konfiguration der Checkmk Instanz analysieren</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk-Erweiterungspakete (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs für GUI-Erweiterungen</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Der Simulationsmodus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konfiguration">
<a class="anchor" href="#_konfiguration"></a>5. Konfiguration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Die Konfiguration von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Verwaltung der Hosts</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Strukturierung der Hosts</a></p>
</li>
<li>
<p><a href="host_tags.html">Host-Merkmale</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamische Host-Konfiguration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automatisch Hosts erstellen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Services verstehen und konfigurieren</a></p>
</li>
<li>
<p><a href="clustered_services.html">Cluster-Services überwachen</a></p>
</li>
<li>
<p><a href="piggyback.html">Der Piggyback-Mechanismus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_regeln">
<a class="anchor" href="#_regeln"></a>5.3. Regeln</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Regeln</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unterstützende_konfigurationen">
<a class="anchor" href="#_unterst%C3%BCtzende_konfigurationen"></a>5.4. Unterstützende Konfigurationen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Zeitperioden (Time Periods)</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Reguläre Ausdrücke in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benutzer_und_berechtigungen">
<a class="anchor" href="#_benutzer_und_berechtigungen"></a>5.5. Benutzer und Berechtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Benutzer, Zuständigkeiten, Berechtigungen</a></p>
</li>
<li>
<p><a href="ldap.html">Benutzerverwaltung mit LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benachrichtigungen">
<a class="anchor" href="#_benachrichtigungen"></a>5.6. Benachrichtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Benachrichtigungen</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Benachrichtigungen per Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Benachrichtigungen per ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Benachrichtigungen per Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Benachrichtigungen per Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Benachrichtigungen per Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Benachrichtigungen per PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Benachrichtigungen per Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Benachrichtigungen per Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Benachrichtigungen per ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Benachrichtigungen per Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Benachrichtigungen per Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">Die Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert Handler</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_überwachung_von_systemen">
<a class="anchor" href="#_%C3%BCberwachung_von_systemen"></a>6. Überwachung von Systemen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring-Agenten</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agenten_und_snmp">
<a class="anchor" href="#_checkmk_agenten_und_snmp"></a>6.1. Checkmk-Agenten und SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatische Agenten-Updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Linux überwachen</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Linux überwachen im Legacy-Modus</a></p>
</li>
<li>
<p><a href="agent_windows.html">Windows überwachen</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">FreeBSD überwachen</a></p>
</li>
<li>
<p><a href="snmp.html">Überwachen via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agentenerweiterungen">
<a class="anchor" href="#_agentenerweiterungen"></a>6.2. Agentenerweiterungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">Die HW/SW-Inventur</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Log-Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Oracle-Datenbanken überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">MySQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">MSSQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Zeitbasierte Prozesse (Cronjobs) überwachen</a></p>
</li>
<li>
<p><a href="spool_directory.html">Das Spool-Verzeichnis</a></p>
</li>
<li>
<p><a href="localchecks.html">Lokale Checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, Cloud, Container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datenquellenprogramme</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">VMware ESXi überwachen</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Amazon Web Services (AWS) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Microsoft Azure überwachen</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Google Cloud Platform (GCP) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Kubernetes überwachen</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">OpenShift überwachen</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Docker überwachen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpunkte">
<a class="anchor" href="#_endpunkte"></a>6.4. Endpunkte</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Netzwerkdienste überwachen (Aktive Checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metriken">
<a class="anchor" href="#_dashboards_views_metriken"></a>7. Dashboards, Views, Metriken</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">Die Benutzeroberfläche</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_allgemein">
<a class="anchor" href="#_allgemein"></a>7.1. Allgemein</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Ansichten von Hosts und Services (Views)</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Messwerte und Graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Anmerkungen (Custom notes)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kommandos_in_ansichten">
<a class="anchor" href="#_kommandos_in_ansichten"></a>7.2. Kommandos in Ansichten</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Kommandos</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Quittierung von Problemen</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Wartungszeiten</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auswertungen_und_prognosen">
<a class="anchor" href="#_auswertungen_und_prognosen"></a>8. Auswertungen und Prognosen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auswertungen">
<a class="anchor" href="#_auswertungen"></a>8.1. Auswertungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Verfügbarkeit (Availability)</a></p>
</li>
<li>
<p><a href="sla.html">Erweiterte Verfügbarkeiten (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Berichte (Reports)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosen">
<a class="anchor" href="#_prognosen"></a>8.2. Prognosen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Prognosebasiertes Monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Vorhersagegraphen erstellen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anbindung_anderer_applikationen">
<a class="anchor" href="#_anbindung_anderer_applikationen"></a>9. Anbindung anderer Applikationen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Prometheus integrieren</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Datadog integrieren</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: Statusdaten auf Karten und Diagrammen</a></p>
</li>
<li>
<p><a href="ntop.html">ntopng in Checkmk integrieren</a></p>
</li>
<li>
<p><a href="grafana.html">Checkmk in Grafana integrieren</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Metriken an InfluxDB und Graphite senden</a></p>
</li>
<li>
<p><a href="nagstamon.html">Nagstamon mit Checkmk verbinden</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_besonderheiten_in_den_editionen">
<a class="anchor" href="#_besonderheiten_in_den_editionen"></a>10. Besonderheiten in den Editionen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Die Standard Edition</a></p>
</li>
<li>
<p><a href="cce.html">Die Cloud Edition</a></p>
</li>
<li>
<p><a href="managed.html">Die Managed Services Edition</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support Diagnostics</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatisierung_und_programmierung">
<a class="anchor" href="#_automatisierung_und_programmierung"></a>11. Automatisierung und Programmierung</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_zur_automatisierung">
<a class="anchor" href="#_apis_zur_automatisierung"></a>11.1. APIs zur Automatisierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Die Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Statusdaten abrufen via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus Befehlsreferenz</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_zur_programmierung">
<a class="anchor" href="#_apis_zur_programmierung"></a>11.2. APIs zur Programmierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">Die Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_programmierung_von_check_plugins">
<a class="anchor" href="#_programmierung_von_check_plugins"></a>11.3. Programmierung von Check-Plugins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Erweiterungen für Checkmk entwickeln</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Agentenbasierte Check-Plugins schreiben</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">SNMP-basierte Check-Plugins schreiben</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konzepte">
<a class="anchor" href="#_konzepte"></a>12. Konzepte</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Grundlagen des Monitorings mit Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_der_checkmk_micro_core_cmc">
<a class="anchor" href="#_der_checkmk_micro_core_cmc"></a>12.1. Der Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">Der Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Besonderheiten des CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration auf den CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">Dateien und Verzeichnisse des CMC</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_die_checkmk_appliance">
<a class="anchor" href="#_die_checkmk_appliance"></a>13. Die Checkmk Appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Schnellstart-Anleitung für Checkmk-Racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Schnellstart-Anleitung für Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Virtuelle Appliance installieren</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Appliance einrichten und nutzen</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in der Appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance im Cluster-Betrieb</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Besonderheiten der Hardware-Appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Die Bakery-API</h1>
<div class="details">
<span id="revdate">Last modified on 02-Dec-2021</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.2.0/src/onprem/de/bakery_api.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">Dies ist eine am 2025-01-07 22:12:14 +0000 für die Offline-Nutzung exportierte Seite. Sie spiegelt möglicherweise nicht den aktuellen Stand der Checkmk Dokumentation wider. Um eine täglich aktualisierte Version dieser Seite anzusehen, rufen Sie bitte <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a> auf.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="wato_monitoringagents.html">Monitoring-Agenten</a>
<a href="agent_deployment.html">Automatische Agenten-Updates</a>
<a href="devel_intro.html">Erweiterungen für Checkmk entwickeln</a>
<a href="mkps.html">Checkmk-Erweiterungspakete (MKPs)</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_intro">
<span class="hidden-anchor sr-only" id="intro"></span>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span> In den kommerziellen Editionen können Sie die Bakery-API nutzen, um eigene, sogenannte <em>Bakery Plugins</em> zu schreiben, die Funktionen in die Agentenpakete der <a href="wato_monitoringagents.html#bakery">Agentenbäckerei</a> (<em>Agent Bakery</em>) einbinden.
In den meisten Fällen handelt es sich bei diesen Funktionen um Agentenplugins, d.h. um zusätzliche Skripte, die vom Checkmk-Agenten ausgeführt werden sollen, sowie deren Konfigurationsdateien.
Sie können aber auch auf die Funktionen des Paketmanagers Einfluss nehmen, sofern diese abgebildet werden können durch das Einbinden von Dateien, das Ausführen von Paket-Skriptlets (für die Paketformate RPM, DEB und Solaris PKG) oder die Angabe von spezifischen Konfigurationseinträgen für den Windows-Agenten (in YAML).
All diese „Artefakte“ können mit der Bakery-API in einer einheitlichen Syntax beschrieben werden.</p></div>
<div class="paragraph"><p>Ein Anwendungsfall ist zum Beispiel der folgende:
Sie haben die Einführung in die <a href="devel_intro.html">Entwicklung von Erweiterungen für Checkmk</a> gelesen und davon inspiriert Ihr eigenes <a href="devel_check_plugins.html">agentenbasiertes Check-Plugin</a> mit zugehörigem Agentenplugin geschrieben.
Beide haben Sie dann zu einem <a href="mkps.html">Checkmk-Erweiterungspaket (MKP)</a> zusammengefasst.
In der Checkmk Exchange haben wir für dieses Beispiel das MKP <a href="https://exchange.checkmk.com/p/hello-world" target="_blank">Hello world!</a> als ein einfaches Template hinterlegt.</p></div>
<div class="paragraph"><p>Nun wollen Sie das Agentenplugin konfigurierbar machen (z.B. nur von bestimmten Benutzern oder auf bestimmten Hosts ausführen lassen) und zusätzlich Aktionen bei der Installation oder Deinstallation des Agentenpakets durchführen.
Dazu können Sie die Bakery-API nutzen — als Paketierungs- und Verteilungshilfe, wie wir in diesem Artikel an einem Beispielszenario zeigen werden.
Dabei werden zwei neue Dateien erstellt, die dann zusammen mit den vorhandenen Plugin-Dateien zu einem neuen MKP geschnürt werden können.
Auch dafür finden Sie in der Checkmk Exchange ein ausführlich kommentiertes Beispiel: das <a href="https://exchange.checkmk.com/p/hello-bakery" target="_blank">Hello bakery!</a> MKP, welches eng an das in diesem Artikel vorgestellte Beispielszenario angelehnt ist.</p></div>
<div class="paragraph"><p><strong>Hinweis:</strong> Die Bakery-API stellt keine Funktionen zur Verfügung für die Konfiguration des Bakery Plugins, d.h. für die Erstellung des zugehörigen Regelsatzes, und auch nicht für die <em>Inhalte</em> der mit dem Plugin bereitgestellten Dateien, also z.B. die Agentenplugins.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_api_doc">
<span class="hidden-anchor sr-only" id="api_doc"></span>2. Die API-Dokumentation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_versioning">
<span class="hidden-anchor sr-only" id="versioning"></span>2.1. Versionierung</h3>
<div class="paragraph"><p>Software und Dokumentation der Bakery-API stammen aus der gleichen Quelle.
Daher passt die API-Dokumentation stets zur Software und beschreibt genau das, was die API kann — und deshalb ist es auch nicht nötig, den Referenzteil der verfügbaren Funktionen, Klassen, Parameter etc. im Checkmk-Handbuch zu beschreiben.
Stattdessen finden Sie die API-Dokumentation außerhalb dieses Handbuchs, direkt in ihrer Checkmk-Instanz.</p></div>
<div class="paragraph"><p>Die API mit ihrer Dokumentation ist versioniert und nutzt dabei eine zweistufige Nummerierung nach dem <a href="https://semver.org/lang/de/" target="_blank">Semantic Versioning 2.x</a> Standard im Format <code>X.Y</code>, wobei <code>X</code> für eine Main Version steht und <code>Y</code> für eine Minor Version.
Eine neue Minor Version enthält neue, rückwärtskompatible Funktionen.
Eine neue Main Version kann dagegen Änderungen enthalten, die die API inkompatibel mit der vorherigen Main Version machen.</p></div>
<div class="paragraph"><p>Die Version <code>1</code> ist die aktuelle Version der Bakery-API, die in diesem Artikel beschrieben wird.
Jedes Plugin deklariert beim <a href="#access_api">Zugriff auf die API</a> explizit die API-Version, auf der es basiert.</p></div>
<div class="paragraph"><p>Die API folgt einer anderen Versionierung als die Checkmk-Software.
Trotzdem ist die Zuordnung der Versionen von API-Dokumentation und Checkmk-Software sehr einfach, wie Sie im nächsten Kapitel erfahren.</p></div>
</div>
<div class="sect2">
<h3 id="heading_access_doc">
<span class="hidden-anchor sr-only" id="access_doc"></span>2.2. Zugriff auf die API-Dokumentation</h3>
<div class="paragraph"><p>Die Bakery-API-Dokumentation steht im HTML-Format zur Ansicht im Web-Browser bereit und kann über die Checkmk-GUI geöffnet werden: über die Navigationsleiste im Menü <span class="guihint">Help &gt; APIs &gt; Plugin API reference</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/bakeryapi_help_menu.png" alt="Help-Menü in der Navigationsleiste." width="65%"></div></div>
<div class="paragraph"><p>Die Plugin-API-Dokumentation wird in einem neuen Browser-Fenster (bzw. Browser-Tab) angezeigt:</p></div>
<div class="imageblock border"><div class="content"><img src="../images/bakeryapi_sphinx.png" alt="Beispielseite der Bakery-API-Dokumentation."></div></div>
<div class="paragraph"><p>In diesem Fenster wird die für die Entwicklung von Checkmk-Plugins relevante API-Dokumentation angezeigt,
d.h. Sie finden hier neben der Dokumentation zur Bakery-API auch die zur Check-API.
Die API-Dokumentation wird mit <a href="https://www.sphinx-doc.org/" target="_blank">Sphinx</a> generiert und angezeigt.</p></div>
<div class="paragraph"><p>Sie finden die Dokumentation der Bakery-API in den Versionen, die in der Checkmk-Version unterstützt werden, die in Ihrer Instanz installiert ist.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_using">
<span class="hidden-anchor sr-only" id="using"></span>3. Die API nutzen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_example">
<span class="hidden-anchor sr-only" id="example"></span>3.1. Ein Beispielszenario</h3>
<div class="paragraph"><p>Wir werden den Gebrauch der API an folgendem Beispielszenario demonstrieren:</p></div>
<div class="ulist"><ul>
<li><p>Für den Checkmk-Agenten wird ein Plugin bereitgestellt mit dem Namen <code>hello_bakery</code>.</p></li>
<li><p>Das Agentenplugin gibt es in drei Varianten für Linux, Solaris und Windows und soll auch für diese drei Betriebssysteme in die Agentenpakete eingebunden werden.
Die zugehörigen Dateien liegen vor und heißen <code>hello_bakery</code> (für Linux), <code>hello_bakery.solaris.ksh</code> (für Solaris) und <code>hello_bakery.cmd</code> (für Windows).<br>
Python-, Shell- und CMD-Skripte sind nur Beispiele. Ein Agentenplugin kann eine beliebige, auf dem Zielsystem ausführbare Datei sein.<br>
Der Inhalt der Dateien interessiert uns hier nicht.
Die Funktion der Agentenplugins ist nicht Gegenstand der Bakery-API.
Mehr dazu erfahren Sie in der Einführung zum <a href="devel_check_plugins.html">Schreiben eigener agentenbasierter Check-Plugins.</a></p></li>
<li><p>Es soll konfigurierbar sein, ob die Ausgabe des Plugins zwischengespeichert werden soll (<em>caching</em>), d.h. in diesem Fall wird das Plugin vom Agenten erst nach Ablauf der konfigurierten Zeit wieder ausgeführt.</p></li>
<li><p>Das Plugin soll im <a href="wato.html">Setup-Menü</a> über Einstellungen der Agentenbäckerei mit den Variablen <code>user</code> und <code>content</code> konfiguriert werden.
Das Linux-Plugin liest die Konfiguration aus der Konfigurationsdatei <code>hello_bakery.json</code> und das Solaris-Plugin aus der Datei <code>hello_bakery.cfg</code>.
Das Windows-Plugin liest die Einträge <code>hello_bakery.user</code> und <code>hello_bakery.content</code> aus der YAML-Konfigurationsdatei des Windows-Agenten ein.<br>
Der Zugriff auf diese Ressourcen muss jeweils im Agentenplugin umgesetzt werden und ist nicht Gegenstand der Bakery-API.</p></li>
<li><p>Für Linux und Solaris gibt es zusätzlich ein Programm <code>some_binary</code>, das mit ausgeliefert werden soll z.B. ein kleines Shell-Skript, um das Plugin auch per Kommando unabhängig vom Checkmk-Agenten starten zu können.</p></li>
<li><p>Unter Linux und Solaris soll nach der Installation des Agenten per Paketmanager-Routine in das Syslog geschrieben werden, dass <code>hello_bakery</code> installiert wurde.
Nach der Deinstallation des Agenten soll analog in Syslog geschrieben werden, dass <code>hello_bakery</code> deinstalliert wurde.<br>
Üblich sind unter Linux <code>postinst</code>- und <code>prerm</code>-Skripte: im <code>postinst</code>-Skript erstellt man beispielsweise einen Cache und startet einen Daemon, im <code>prerm</code>-Skript kann man dann den Daemon wieder stoppen und den Cache löschen. Weitere Informationen zur Verwendung von „Maintainer Scripts“ finden Sie in der <a href="https://www.debian.org/doc/debian-policy/ch-maintainerscripts.html" target="_blank">Debian-Dokumentation</a>.</p></li>
</ul></div>
</div>
<div class="sect2">
<h3 id="heading_create_plugin">
<span class="hidden-anchor sr-only" id="create_plugin"></span>3.2. Plugin-Datei erstellen</h3>
<div class="paragraph"><p>Die Plugin-Datei <code>hello_bakery.py</code> wird im lokalen Teil der Instanzverzeichnisstruktur erstellt unter <code>local/lib/check_mk/base/cee/plugins/bakery/</code>.</p></div>
<div class="paragraph"><p>Ein Bakery Plugin wird in Form einer Datei angelegt, die als Python 3-Modul importiert wird.
Nach Checkmk-Konvention beginnen daher auch Plugin-Dateien mit den folgenden Zeilen:</p></div>
<div class="listingblock">
<div class="title">hello_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-ch">#!/usr/bin/env python3</span>
<span class="tok-c1"># -*- coding: utf-8 -*-</span></code></pre></div>
</div>
<div class="paragraph"><p>Da es sich um ein Modul handelt, müssen alle benötigten Namen zu Beginn importiert werden.</p></div>
</div>
<div class="sect2">
<h3 id="heading_access_api">
<span class="hidden-anchor sr-only" id="access_api"></span>3.3. Auf die API zugreifen</h3>
<div class="paragraph"><p>Alle Objekte der Bakery-API stehen unter <code>cmk.base.cee.plugins.bakery.bakery_api.vX</code> zur Verfügung, wobei X die API-Versionsnummer bezeichnet, im Beispiel <code>1</code>.
Da die Plugin-Datei selbst im Namespace <code>cmk.base.cee.plugins.bakery</code> liegt, funktioniert auch ein relativer Import aus <code>.bakery_api.v1</code>:</p></div>
<div class="listingblock">
<div class="title">hello_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">from</span> <span class="tok-nn">.bakery_api.v1</span> <span class="tok-kn">import</span> <span class="tok-p">(</span>
   <span class="tok-n">OS</span><span class="tok-p">,</span>
   <span class="tok-n">DebStep</span><span class="tok-p">,</span>
   <span class="tok-n">RpmStep</span><span class="tok-p">,</span>
   <span class="tok-n">SolStep</span><span class="tok-p">,</span>
   <span class="tok-n">Plugin</span><span class="tok-p">,</span>
   <span class="tok-n">PluginConfig</span><span class="tok-p">,</span>
   <span class="tok-n">SystemBinary</span><span class="tok-p">,</span>
   <span class="tok-n">Scriptlet</span><span class="tok-p">,</span>
   <span class="tok-n">WindowsConfigEntry</span><span class="tok-p">,</span>
   <span class="tok-n">register</span><span class="tok-p">,</span>
   <span class="tok-n">FileGenerator</span><span class="tok-p">,</span>
   <span class="tok-n">ScriptletGenerator</span><span class="tok-p">,</span>
   <span class="tok-n">WindowsConfigGenerator</span><span class="tok-p">,</span>
   <span class="tok-n">quote_shell_string</span><span class="tok-p">,</span>
<span class="tok-p">)</span></code></pre></div>
</div>
<div class="paragraph"><p>Im obigen Beispiel werden nur die Namen importiert, die für das Beispielszenario benötigt werden.</p></div>
</div>
<div class="sect2">
<h3 id="heading_objects">
<span class="hidden-anchor sr-only" id="objects"></span>3.4. Die verfügbaren Objekte der API</h3>
<div class="paragraph"><p>Die Namen, die in der Bakery-API zur Verfügung stehen, werden in der <a href="#api_doc">API-Dokumentation</a> detailliert beschrieben.
In diesem Kapitel werden die Objekte trotzdem kurz vorgestellt, da dies hilfreich ist, um die Umsetzung des Beispielszenarios nachvollziehen zu können.</p></div>
<div class="sect3">
<h4 id="heading_enums">
<span class="hidden-anchor sr-only" id="enums"></span>Identifier / Aufzählungen</h4>
<div class="paragraph"><p>Zur Spezifikation der einzelnen Plugin-<a href="#artefacts">Artefakte</a> stehen Aufzählungen (<em>enumerations</em>, <code>Enum</code>) zur Verfügung, mit denen verschiedene Eigenschaften, meist in Form eines Arguments, angegeben werden können:</p></div>
<div class="ulist"><ul>
<li><p><code>OS</code> - Das Betriebssystem im Kontext der Bakery-API.</p></li>
<li><p><code>DebStep</code> - Ein Transaktionsschritt für ein DEB „Maintainer Script“.</p></li>
<li><p><code>RpmStep</code> - Ein Transaktionsschritt für ein RPM „Scriptlet“.</p></li>
<li><p><code>SolStep</code> - Ein Transaktionsschritt für ein Solaris PKG „Installation Script“.</p></li>
</ul></div>
</div>
<div class="sect3">
<h4 id="heading_artefacts">
<span class="hidden-anchor sr-only" id="artefacts"></span>Artefakte</h4>
<div class="paragraph"><p>Artefakte werden die Dateien und Dateiinhalte genannt, die die eigentlichen Bestandteile eines Plugins sind.
Sie werden mit Hilfe von geeigneten Klassen beschrieben, die sich in folgende Kategorien unterteilen lassen:</p></div>
<div class="ulist"><ul>
<li><p>Dateien (<code>Plugin</code>, <code>SystemBinary</code>, <code>PluginConfig</code>, <code>SystemConfig</code>) -
Jede Datei, die dem Checkmk-Agenten bereitgestellt werden soll, wird mit einem Objekt beschrieben.
Der Dateityp wird durch die Klasse beschrieben.
Dabei muss für jedes Betriebssystem, auf dem die Datei bereitgestellt werden soll, ein separates Objekt definiert werden.</p></li>
<li><p>Skriptlets (<code>Scriptlet</code>) -
Ein DEB „Maintainer Script“, RPM „Scriptlet“ oder Solaris PKG „Installation Script“, das bei der Installation, Deinstallation oder Update des Agentenpakets zum angegebenem Transaktionsschritt (z.B. <code>preinstall</code>, <code>postremove</code>) ausgeführt werden soll.</p></li>
<li><p>Windows-Konfigurationseinträge (<code>WindowsConfigEntry</code>, <code>WindowsConfigItems</code>, <code>WindowsGlobalConfigEntry</code>, <code>WindowsSystemConfigEntry</code>) -
Einträge in der YAML-Konfigurationsdatei für den Windows-Agenten werden ebenfalls mit Hilfe geeigneter Klassen beschrieben.</p></li>
</ul></div>
<div class="paragraph"><p>Diese Artefakte werden jeweils in Callback-Funktionen beschrieben, die ihrer Kategorie entsprechen.
Die einzelnen Funktionen werden der <a href="#register_function">Registrierungsfunktion</a> mit den Argumenten <code>files_function</code>, <code>scriptlets_function</code>, <code>windows_config_function</code> übergeben.
Dabei handelt es sich um Generatorfunktionen, die die einzelnen spezifizierten Artefakte zurückgeben.
Die Auswertung übernimmt die Agent Bakery.</p></div>
<div class="paragraph"><p>Den Funktionen werden als Argumente verschiedene Parameter übergeben, die zur Konstruktion und der Bestimmung der zurückgegebenen Artefakte ausgewertet werden können.
Bei den Parametern handelt es sich zum einen um die GUI-Konfiguration des jeweiligen Agenten, der gerade gebacken werden soll (<code>conf</code>) und zum anderen um den Hash der aktuellen Agentenkonfiguration und Plugin-Dateien (<code>aghash</code>).</p></div>
</div>
<div class="sect3">
<h4 id="heading_register_function">
<span class="hidden-anchor sr-only" id="register_function"></span>Registrierungsfunktion</h4>
<div class="paragraph"><p>Die Registrierung erfolgt mit der Funktion <code>register</code>, die beim Import des Bakery Plugins als Modul aufgerufen wird.</p></div>
<div class="paragraph"><p>Der Funktion werden als Argumente die einzelnen Bestandteile des Bakery Plugins übergeben:
der Plugin-Name (<code>name</code>) und die Funktionen (<code>files_function</code>, <code>scriptlets_function</code>, <code>windows_config_function</code>), die jeweils eine Kategorie der Artefakte zurückliefern.</p></div>
</div>
<div class="sect3">
<h4 id="heading_annotations">
<span class="hidden-anchor sr-only" id="annotations"></span>Typ-Annotationen</h4>
<div class="paragraph"><p>Namen für Typ-Annotationen (<code>FileGenerator</code>, <code>ScriptletGenerator</code>, <code>WindowsConfigGenerator</code>, <code>WindowsConfigContent</code>) können optional zur Typisierung der spezifizierten Funktionen verwendet werden, z.B. so:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">get_files</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-nb">dict</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">FileGenerator</span><span class="tok-p">:</span>
  	<span class="tok-k">yield</span> <span class="tok-n">Plugin</span><span class="tok-p">(</span><span class="tok-o">...</span><span class="tok-p">)</span>
  	<span class="tok-k">yield</span> <span class="tok-n">PluginConfig</span><span class="tok-p">(</span><span class="tok-o">...</span><span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">get_scriptlets</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-nb">dict</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">ScriptletGenerator</span><span class="tok-p">:</span>
  	<span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-o">...</span><span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">get_windows_config</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-nb">dict</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">WindowsConfigGenerator</span><span class="tok-p">:</span>
  	<span class="tok-n">content</span><span class="tok-p">:</span> <span class="tok-n">WindowsConfigContent</span> <span class="tok-o">=</span> <span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s2">"some_entry"</span><span class="tok-p">]</span>
   <span class="tok-k">yield</span> <span class="tok-n">WindowsGlobalConfigEntry</span><span class="tok-p">(</span><span class="tok-n">name</span><span class="tok-o">=</span><span class="tok-s2">"some_name"</span><span class="tok-p">,</span><span class="tok-n">content</span><span class="tok-o">=</span><span class="tok-n">content</span><span class="tok-p">)</span></code></pre></div></div>
</div>
<div class="sect3">
<h4 id="heading_utilities">
<span class="hidden-anchor sr-only" id="utilities"></span>Hilfsfunktionen</h4>
<div class="paragraph"><p>Die folgenden Hilfsfunktionen können verwendet werden:</p></div>
<div class="ulist"><ul>
<li><p><code>quote_shell_string</code> - Mit dieser Funktion lässt sich ein String-Ausdruck so umsetzen, dass er in der resultierenden Datei von der Shell als Ausdruck korrekt erkannt wird — ohne dass im Python-Code die Anführungszeichen manuell maskiert werden müssen.</p></li>
<li><p><code>password_store</code> - Dieses Modul erlaubt den Zugriff auf Passwörter, die im Checkmk-Passwortspeicher abgelegt sind.</p></li>
</ul></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_register">
<span class="hidden-anchor sr-only" id="register"></span>3.5. Registrieren</h3>
<div class="paragraph"><p>Die Registrierung des Plugins bei Checkmk mit Plugin-Namen und Funktionen erfolgt über die Funktion <code>register.bakery_plugin</code>:</p></div>
<div class="listingblock">
<div class="title">hello_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code><span></span>register.bakery_plugin(
   name="hello_bakery",
   files_function=get_hello_bakery_plugin_files,
   scriptlets_function=get_hello_bakery_scriptlets,
   windows_config_function=get_hello_bakery_windows_config,
)</code></pre></div>
</div>
<div class="paragraph"><p>Die hier festgelegten Funktionen <code>get_hello_bakery_windows_config</code>, <code>get_hello_bakery_scriptlets</code> und <code>get_hello_bakery_plugin_files</code> werden in den folgenden Kapiteln näher erläutert.</p></div>
</div>
<div class="sect2">
<h3 id="heading_windows_config_function">
<span class="hidden-anchor sr-only" id="windows_config_function"></span>3.6. Konfiguration für den Windows-Agenten</h3>
<div class="paragraph"><p>Im Beispiel soll das Intervall zur Ausführung festgelegt werden und die Konfiguration des Plugins über zwei Variablen erfolgen können:</p></div>
<div class="listingblock">
<div class="title">hello_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">class</span> <span class="tok-nc">HelloBakeryConfig</span><span class="tok-p">(</span><span class="tok-n">TypedDict</span><span class="tok-p">,</span> <span class="tok-n">total</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">):</span>
   <span class="tok-n">interval</span><span class="tok-p">:</span> <span class="tok-nb">int</span>
   <span class="tok-n">user</span><span class="tok-p">:</span> <span class="tok-nb">str</span>
   <span class="tok-n">content</span><span class="tok-p">:</span> <span class="tok-nb">str</span>

<span class="tok-k">def</span> <span class="tok-nf">get_hello_bakery_windows_config</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-n">HelloBakeryConfig</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">WindowsConfigGenerator</span><span class="tok-p">:</span>
   <span class="tok-k">yield</span> <span class="tok-n">WindowsConfigEntry</span><span class="tok-p">(</span><span class="tok-n">path</span><span class="tok-o">=</span><span class="tok-p">[</span><span class="tok-s2">"hello_bakery"</span><span class="tok-p">,</span> <span class="tok-s2">"user"</span><span class="tok-p">],</span> <span class="tok-n">content</span><span class="tok-o">=</span><span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s2">"user"</span><span class="tok-p">])</span>
   <span class="tok-k">yield</span> <span class="tok-n">WindowsConfigEntry</span><span class="tok-p">(</span><span class="tok-n">path</span><span class="tok-o">=</span><span class="tok-p">[</span><span class="tok-s2">"hello_bakery"</span><span class="tok-p">,</span> <span class="tok-s2">"content"</span><span class="tok-p">],</span> <span class="tok-n">content</span><span class="tok-o">=</span><span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s2">"content"</span><span class="tok-p">])</span>
<span class="tok-p">)</span></code></pre></div>
</div>
<div class="paragraph"><p>In der <code>get_hello_bakery_windows_config</code> Funktion greifen wir über das <code>conf</code> Argument auf die Konfiguration zu, die über den <a href="#ruleset">Regelsatz</a> in der Setup-GUI festgelegt wird:
das Zeitintervall für die erneute Ausführung bei zwischengespeicherter Ausgabe (<code>interval</code>) und die beiden Variablen, mit denen das Plugin konfiguriert werden kann (<code>user</code>, <code>content</code>).
Dabei gehen wir davon aus, dass die Konfiguration des Regelsatzes als ein <code>dict</code> geliefert wird. Über das <code>TypedDict</code> der Klasse <code>HelloBakeryConfig</code> können wir uns einen typisierten Zugriff darauf einrichten.</p></div>
<div class="paragraph"><p>Anschließend werden mit <code>WindowsConfigEntry</code> die Einträge in der YAML-<a href="agent_windows.html#agent_architecture">Konfigurationsdatei des Windows-Agenten</a> festgelegt, aus denen die Werte für <code>user</code> und <code>content</code> gelesen werden.</p></div>
</div>
<div class="sect2">
<h3 id="heading_scriptlets_function">
<span class="hidden-anchor sr-only" id="scriptlets_function"></span>3.7. Installationsskripte für Linux</h3>
<div class="paragraph"><p>Unter Linux und Solaris soll bei der Installation und Deinstallation des Agenten Syslog-Meldungen geschrieben werden.
Wir zeigen hier nur die Implementierung für die Linux-Distribution Debian:</p></div>
<div class="listingblock">
<div class="title">hello_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">get_open_iscsi_scriptlets</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-n">Any</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">ScriptletGenerator</span><span class="tok-p">:</span>
   <span class="tok-n">installed_lines</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s1">'logger -p local3.info "Installed hello_bakery"'</span><span class="tok-p">]</span>
   <span class="tok-n">uninstalled_lines</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s1">'logger -p local3.info "Uninstalled hello_bakery"'</span><span class="tok-p">]</span>
   <span class="tok-c1"># Passen Sie die Priorität -p nach Ihren Bedürfnissen an.</span>

   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">DebStep</span><span class="tok-o">.</span><span class="tok-n">POSTINST</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">installed_lines</span><span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">DebStep</span><span class="tok-o">.</span><span class="tok-n">POSTRM</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">uninstalled_lines</span><span class="tok-p">)</span>
   <span class="tok-c1"># yield Scriptlet(step=RpmStep.POST, lines=installed_lines)</span>
   <span class="tok-c1"># yield Scriptlet(step=RpmStep.POSTUN, lines=uninstalled_lines)</span>
   <span class="tok-c1"># yield Scriptlet(step=SolStep.POSTINSTALL, lines=installed_lines)</span>
   <span class="tok-c1"># yield Scriptlet(step=SolStep.POSTREMOVE, lines=uninstalled_lines)</span></code></pre></div>
</div>
<div class="paragraph"><p>Zuerst werden die Befehle für die Syslog-Meldungen definiert und anschließend die Installationsskripte für Debian (<code>DebStep</code>), die nach der Installation (<code>POSTINST</code>) und nach der Deinstallation (<code>POSTRM</code>) ausgeführt werden sollen. In den Kommentaren darunter finden Sie auch noch die entsprechenden Zeilen für Distributionen, die RPM verwenden und für Solaris.</p></div>
<div class="paragraph"><p><strong>Hinweis:</strong> Nach den von Ihnen eingefügten Befehlszeilen werden die Installationsskripte von Checkmk mit weiteren Befehlen befüllt.
Schließen Sie daher Ihren Befehlssatz nicht mit einem <code>exit 0</code> ab, damit auch alle Befehle der Skripte ausgeführt werden.</p></div>
</div>
<div class="sect2">
<h3 id="heading_files_function">
<span class="hidden-anchor sr-only" id="files_function"></span>3.8. Agentenplugin für Linux</h3>
<div class="paragraph"><p>Die Konfiguration für das Linux-Agentenplugin sieht so aus:</p></div>
<div class="listingblock">
<div class="title">hello_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">get_hello_bakery_plugin_files</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-n">HelloBakeryConfig</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">FileGenerator</span><span class="tok-p">:</span>
   <span class="tok-n">interval</span> <span class="tok-o">=</span> <span class="tok-n">conf</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">(</span><span class="tok-s1">'interval'</span><span class="tok-p">)</span>

   <span class="tok-k">yield</span> <span class="tok-n">Plugin</span><span class="tok-p">(</span>
      <span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">LINUX</span><span class="tok-p">,</span>
      <span class="tok-n">source</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery'</span><span class="tok-p">),</span>
      <span class="tok-n">target</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery'</span><span class="tok-p">),</span>
      <span class="tok-n">interval</span><span class="tok-o">=</span><span class="tok-n">interval</span><span class="tok-p">,</span>
   <span class="tok-p">)</span>

   <span class="tok-k">yield</span> <span class="tok-n">PluginConfig</span><span class="tok-p">(</span><span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">LINUX</span><span class="tok-p">,</span>
                     <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">_get_linux_cfg_lines</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s1">'user'</span><span class="tok-p">],</span> <span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s1">'content'</span><span class="tok-p">]),</span>
                     <span class="tok-n">target</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery.json'</span><span class="tok-p">),</span>
                     <span class="tok-n">include_header</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">)</span>

   <span class="tok-k">for</span> <span class="tok-n">base_os</span> <span class="tok-ow">in</span> <span class="tok-p">[</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">LINUX</span><span class="tok-p">]:</span>
      <span class="tok-k">yield</span> <span class="tok-n">SystemBinary</span><span class="tok-p">(</span>
            <span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">base_os</span><span class="tok-p">,</span>
            <span class="tok-n">source</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'some_binary'</span><span class="tok-p">),</span>
      <span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">_get_linux_cfg_lines</span><span class="tok-p">(</span><span class="tok-n">user</span><span class="tok-p">:</span> <span class="tok-nb">str</span><span class="tok-p">,</span> <span class="tok-n">content</span><span class="tok-p">:</span> <span class="tok-nb">str</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">List</span><span class="tok-p">[</span><span class="tok-nb">str</span><span class="tok-p">]:</span>
   <span class="tok-n">config</span> <span class="tok-o">=</span> <span class="tok-n">json</span><span class="tok-o">.</span><span class="tok-n">dumps</span><span class="tok-p">({</span><span class="tok-s1">'user'</span><span class="tok-p">:</span> <span class="tok-n">user</span><span class="tok-p">,</span> <span class="tok-s1">'content'</span><span class="tok-p">:</span> <span class="tok-n">content</span><span class="tok-p">})</span>
   <span class="tok-k">return</span> <span class="tok-n">config</span><span class="tok-o">.</span><span class="tok-n">split</span><span class="tok-p">(</span><span class="tok-s1">'</span><span class="tok-se">\n</span><span class="tok-s1">'</span><span class="tok-p">)</span></code></pre></div>
</div>
<div class="paragraph"><p>In der Funktion <code>get_hello_bakery_plugin_files</code> wird zuerst die Python-Datei <code>hello_bakery</code> als <code>Plugin</code> definiert, d.h. als ausführbare Datei, die vom Checkmk-Agenten als Agentenplugin ausgeführt werden soll.
Dann wird mit <code>PluginConfig</code> die zu generierende Konfigurationsdatei <code>hello_bakery.json</code> für das Linux-Agentenplugin mit den Einträgen <code>user</code> und <code>content</code> festgelegt.</p></div>
<div class="paragraph"><p>Mit der zweiten Funktion <code>_get_linux_cfg_lines</code> werden diese Zeilen im JSON-Format geschrieben.
Dabei enthält das Python Dictionary <code>conf</code> die mit dem <a href="#ruleset">Regelsatz</a> der Setup-GUI gesetzten Werte, die dann über einen kleinen Umweg in eine JSON-Datei verpackt werden.</p></div>
<div class="paragraph"><p>Schließlich soll das zusätzlich auszuliefernde Shell-Skript <code>some_binary</code> als <code>SystemBinary</code> auf dem Zielsystem im Verzeichnis für Benutzerprogramme abgelegt werden (standardmäßig <code>/usr/bin</code>).</p></div>
</div>
<div class="sect2">
<h3 id="heading_plugin_code">
<span class="hidden-anchor sr-only" id="plugin_code"></span>3.9. Die Plugin-Datei zum Beispielszenario</h3>
<div class="paragraph"><p>Setzt man die bisher vorgestellten Teile zusammen — und komplettiert sie, dann sieht ein mögliches, vollständiges Plugin für das <a href="#example">Beispielszenario</a> so aus:</p></div>
<div class="listingblock">
<div class="title">hello_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-ch">#!/usr/bin/env python3</span>
<span class="tok-c1"># -*- coding: utf-8 -*-</span>

<span class="tok-kn">import</span> <span class="tok-nn">json</span>
<span class="tok-kn">from</span> <span class="tok-nn">pathlib</span> <span class="tok-kn">import</span> <span class="tok-n">Path</span>
<span class="tok-kn">from</span> <span class="tok-nn">typing</span> <span class="tok-kn">import</span> <span class="tok-n">Iterable</span><span class="tok-p">,</span> <span class="tok-n">TypedDict</span><span class="tok-p">,</span> <span class="tok-n">List</span>

<span class="tok-kn">from</span> <span class="tok-nn">.bakery_api.v1</span> <span class="tok-kn">import</span> <span class="tok-p">(</span>
   <span class="tok-n">OS</span><span class="tok-p">,</span>
   <span class="tok-n">DebStep</span><span class="tok-p">,</span>
   <span class="tok-n">RpmStep</span><span class="tok-p">,</span>
   <span class="tok-n">SolStep</span><span class="tok-p">,</span>
   <span class="tok-n">Plugin</span><span class="tok-p">,</span>
   <span class="tok-n">PluginConfig</span><span class="tok-p">,</span>
   <span class="tok-n">SystemBinary</span><span class="tok-p">,</span>
   <span class="tok-n">Scriptlet</span><span class="tok-p">,</span>
   <span class="tok-n">WindowsConfigEntry</span><span class="tok-p">,</span>
   <span class="tok-n">register</span><span class="tok-p">,</span>
   <span class="tok-n">FileGenerator</span><span class="tok-p">,</span>
   <span class="tok-n">ScriptletGenerator</span><span class="tok-p">,</span>
   <span class="tok-n">WindowsConfigGenerator</span><span class="tok-p">,</span>
   <span class="tok-n">quote_shell_string</span><span class="tok-p">,</span>
<span class="tok-p">)</span>

<span class="tok-k">class</span> <span class="tok-nc">HelloBakeryConfig</span><span class="tok-p">(</span><span class="tok-n">TypedDict</span><span class="tok-p">,</span> <span class="tok-n">total</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">):</span>
   <span class="tok-n">interval</span><span class="tok-p">:</span> <span class="tok-nb">int</span>
   <span class="tok-n">user</span><span class="tok-p">:</span> <span class="tok-nb">str</span>
   <span class="tok-n">content</span><span class="tok-p">:</span> <span class="tok-nb">str</span>

<span class="tok-k">def</span> <span class="tok-nf">get_hello_bakery_plugin_files</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-n">HelloBakeryConfig</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">FileGenerator</span><span class="tok-p">:</span>
   <span class="tok-n">interval</span> <span class="tok-o">=</span> <span class="tok-n">conf</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">(</span><span class="tok-s1">'interval'</span><span class="tok-p">)</span>

   <span class="tok-k">yield</span> <span class="tok-n">Plugin</span><span class="tok-p">(</span>
      <span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">LINUX</span><span class="tok-p">,</span>
      <span class="tok-n">source</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery'</span><span class="tok-p">),</span>
      <span class="tok-n">target</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery'</span><span class="tok-p">),</span>
      <span class="tok-n">interval</span><span class="tok-o">=</span><span class="tok-n">interval</span><span class="tok-p">,</span>
   <span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Plugin</span><span class="tok-p">(</span>
      <span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">SOLARIS</span><span class="tok-p">,</span>
      <span class="tok-n">source</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery.solaris.ksh'</span><span class="tok-p">),</span>
      <span class="tok-n">target</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery'</span><span class="tok-p">),</span>
      <span class="tok-n">interval</span><span class="tok-o">=</span><span class="tok-n">interval</span><span class="tok-p">,</span>
   <span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Plugin</span><span class="tok-p">(</span>
      <span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">WINDOWS</span><span class="tok-p">,</span>
      <span class="tok-n">source</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery.cmd'</span><span class="tok-p">),</span>
      <span class="tok-n">target</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery.bat'</span><span class="tok-p">),</span>
      <span class="tok-n">interval</span><span class="tok-o">=</span><span class="tok-n">interval</span><span class="tok-p">,</span>
   <span class="tok-p">)</span>

   <span class="tok-k">yield</span> <span class="tok-n">PluginConfig</span><span class="tok-p">(</span><span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">LINUX</span><span class="tok-p">,</span>
                     <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">_get_linux_cfg_lines</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s1">'user'</span><span class="tok-p">],</span> <span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s1">'content'</span><span class="tok-p">]),</span>
                     <span class="tok-n">target</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery.json'</span><span class="tok-p">),</span>
                     <span class="tok-n">include_header</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">PluginConfig</span><span class="tok-p">(</span><span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">SOLARIS</span><span class="tok-p">,</span>
                     <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">_get_solaris_cfg_lines</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s1">'user'</span><span class="tok-p">],</span> <span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s1">'content'</span><span class="tok-p">]),</span>
                     <span class="tok-n">target</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'hello_bakery.cfg'</span><span class="tok-p">),</span>
                     <span class="tok-n">include_header</span><span class="tok-o">=</span><span class="tok-kc">True</span><span class="tok-p">)</span>

   <span class="tok-k">for</span> <span class="tok-n">base_os</span> <span class="tok-ow">in</span> <span class="tok-p">[</span><span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">LINUX</span><span class="tok-p">,</span> <span class="tok-n">OS</span><span class="tok-o">.</span><span class="tok-n">SOLARIS</span><span class="tok-p">]:</span>
      <span class="tok-k">yield</span> <span class="tok-n">SystemBinary</span><span class="tok-p">(</span>
            <span class="tok-n">base_os</span><span class="tok-o">=</span><span class="tok-n">base_os</span><span class="tok-p">,</span>
            <span class="tok-n">source</span><span class="tok-o">=</span><span class="tok-n">Path</span><span class="tok-p">(</span><span class="tok-s1">'some_binary'</span><span class="tok-p">),</span>
      <span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">_get_linux_cfg_lines</span><span class="tok-p">(</span><span class="tok-n">user</span><span class="tok-p">:</span> <span class="tok-nb">str</span><span class="tok-p">,</span> <span class="tok-n">content</span><span class="tok-p">:</span> <span class="tok-nb">str</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">List</span><span class="tok-p">[</span><span class="tok-nb">str</span><span class="tok-p">]:</span>
   <span class="tok-n">config</span> <span class="tok-o">=</span> <span class="tok-n">json</span><span class="tok-o">.</span><span class="tok-n">dumps</span><span class="tok-p">({</span><span class="tok-s1">'user'</span><span class="tok-p">:</span> <span class="tok-n">user</span><span class="tok-p">,</span> <span class="tok-s1">'content'</span><span class="tok-p">:</span> <span class="tok-n">content</span><span class="tok-p">})</span>
   <span class="tok-k">return</span> <span class="tok-n">config</span><span class="tok-o">.</span><span class="tok-n">split</span><span class="tok-p">(</span><span class="tok-s1">'</span><span class="tok-se">\n</span><span class="tok-s1">'</span><span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">_get_solaris_cfg_lines</span><span class="tok-p">(</span><span class="tok-n">user</span><span class="tok-p">:</span> <span class="tok-nb">str</span><span class="tok-p">,</span> <span class="tok-n">content</span><span class="tok-p">:</span> <span class="tok-nb">str</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">List</span><span class="tok-p">[</span><span class="tok-nb">str</span><span class="tok-p">]:</span>
   <span class="tok-c1"># To be loaded with 'source' in Solaris shell script</span>
   <span class="tok-k">return</span> <span class="tok-p">[</span>
      <span class="tok-sa">f</span><span class="tok-s1">'USER=</span><span class="tok-si">{</span><span class="tok-n">quote_shell_string</span><span class="tok-p">(</span><span class="tok-n">user</span><span class="tok-p">)</span><span class="tok-si">}</span><span class="tok-s1">'</span><span class="tok-p">,</span>
      <span class="tok-sa">f</span><span class="tok-s1">'CONTENT=</span><span class="tok-si">{</span><span class="tok-n">quote_shell_string</span><span class="tok-p">(</span><span class="tok-n">user</span><span class="tok-p">)</span><span class="tok-si">}</span><span class="tok-s1">'</span><span class="tok-p">,</span>
   <span class="tok-p">]</span>

<span class="tok-k">def</span> <span class="tok-nf">get_hello_bakery_scriptlets</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-n">HelloBakeryConfig</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">ScriptletGenerator</span><span class="tok-p">:</span>
   <span class="tok-n">installed_lines</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s1">'logger -p local3.info "Installed hello_bakery"'</span><span class="tok-p">]</span>
   <span class="tok-n">uninstalled_lines</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s1">'logger -p local3.info "Uninstalled hello_bakery"'</span><span class="tok-p">]</span>

   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">DebStep</span><span class="tok-o">.</span><span class="tok-n">POSTINST</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">installed_lines</span><span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">DebStep</span><span class="tok-o">.</span><span class="tok-n">POSTRM</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">uninstalled_lines</span><span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">RpmStep</span><span class="tok-o">.</span><span class="tok-n">POST</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">installed_lines</span><span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">RpmStep</span><span class="tok-o">.</span><span class="tok-n">POSTUN</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">uninstalled_lines</span><span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">SolStep</span><span class="tok-o">.</span><span class="tok-n">POSTINSTALL</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">installed_lines</span><span class="tok-p">)</span>
   <span class="tok-k">yield</span> <span class="tok-n">Scriptlet</span><span class="tok-p">(</span><span class="tok-n">step</span><span class="tok-o">=</span><span class="tok-n">SolStep</span><span class="tok-o">.</span><span class="tok-n">POSTREMOVE</span><span class="tok-p">,</span> <span class="tok-n">lines</span><span class="tok-o">=</span><span class="tok-n">uninstalled_lines</span><span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">get_hello_bakery_windows_config</span><span class="tok-p">(</span><span class="tok-n">conf</span><span class="tok-p">:</span> <span class="tok-n">HelloBakeryConfig</span><span class="tok-p">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">WindowsConfigGenerator</span><span class="tok-p">:</span>
   <span class="tok-k">yield</span> <span class="tok-n">WindowsConfigEntry</span><span class="tok-p">(</span><span class="tok-n">path</span><span class="tok-o">=</span><span class="tok-p">[</span><span class="tok-s2">"hello_bakery"</span><span class="tok-p">,</span> <span class="tok-s2">"user"</span><span class="tok-p">],</span> <span class="tok-n">content</span><span class="tok-o">=</span><span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s2">"user"</span><span class="tok-p">])</span>
   <span class="tok-k">yield</span> <span class="tok-n">WindowsConfigEntry</span><span class="tok-p">(</span><span class="tok-n">path</span><span class="tok-o">=</span><span class="tok-p">[</span><span class="tok-s2">"hello_bakery"</span><span class="tok-p">,</span> <span class="tok-s2">"content"</span><span class="tok-p">],</span> <span class="tok-n">content</span><span class="tok-o">=</span><span class="tok-n">conf</span><span class="tok-p">[</span><span class="tok-s2">"content"</span><span class="tok-p">])</span>

<span class="tok-n">register</span><span class="tok-o">.</span><span class="tok-n">bakery_plugin</span><span class="tok-p">(</span>
   <span class="tok-n">name</span><span class="tok-o">=</span><span class="tok-s2">"hello_bakery"</span><span class="tok-p">,</span>
   <span class="tok-n">files_function</span><span class="tok-o">=</span><span class="tok-n">get_hello_bakery_plugin_files</span><span class="tok-p">,</span>
   <span class="tok-n">scriptlets_function</span><span class="tok-o">=</span><span class="tok-n">get_hello_bakery_scriptlets</span><span class="tok-p">,</span>
   <span class="tok-n">windows_config_function</span><span class="tok-o">=</span><span class="tok-n">get_hello_bakery_windows_config</span><span class="tok-p">,</span>
<span class="tok-p">)</span></code></pre></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_ruleset">
<span class="hidden-anchor sr-only" id="ruleset"></span>3.10. Regelsatz erstellen</h3>
<div class="paragraph"><p>Zu einem Bakery Plugin muss es einen Regelsatz für das Setup geben, mit dem das Plugin über die GUI konfiguriert werden kann.
Im einfachsten Fall ist dies die Aktivierung des Plugins.
Im allgemeinen Fall kann die Konfiguration innerhalb der Funktionen <code>files_function</code>, <code>scriptlets_function</code> und <code>windows_config_function</code> beliebig ausgewertet werden und auf die zurückgegebenen <a href="#artefacts">Artefakte</a> Einfluss nehmen, um z.B. den Benutzernamen in die Konfiguration zu schreiben.
Den eben genannten Funktionen steht die Konfiguration des Plugins dabei über das Argument <code>conf</code> zur Verfügung.</p></div>
<div class="paragraph"><p>Der benötigte Regelsatz muss als Plugin-Datei spezifiziert und ebenfalls abgelegt werden.</p></div>
<div class="paragraph"><p>Die Erstellung eines Regelsatz ist nicht Bestandteil der Bakery-API.
Sie finden zu diesem Thema eine Einführung im Artikel zum <a href="devel_check_plugins.html#rule_set">Schreiben eigener agentenbasierter Check-Plugins.</a>
Da der Regelsatz aber eng mit dem Bakery Plugin verknüpft ist, zeigen wir eine mögliche Implementierung zum Beispielszenario:</p></div>
<div class="listingblock">
<div class="title">hellobakery_bakery.py</div>
<div class="content"><pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-ch">#!/usr/bin/env python3</span>
<span class="tok-c1"># -*- coding: utf-8 -*-</span>

<span class="tok-kn">from</span> <span class="tok-nn">cmk.gui.i18n</span> <span class="tok-kn">import</span> <span class="tok-n">_</span>
<span class="tok-kn">from</span> <span class="tok-nn">cmk.gui.plugins.wato</span> <span class="tok-kn">import</span> <span class="tok-p">(</span>
   <span class="tok-n">HostRulespec</span><span class="tok-p">,</span>
   <span class="tok-n">rulespec_registry</span><span class="tok-p">,</span>
<span class="tok-p">)</span>
<span class="tok-kn">from</span> <span class="tok-nn">cmk.gui.cee.plugins.wato.agent_bakery.rulespecs.utils</span> <span class="tok-kn">import</span> <span class="tok-n">RulespecGroupMonitoringAgentsAgentPlugins</span>
<span class="tok-kn">from</span> <span class="tok-nn">cmk.gui.valuespec</span> <span class="tok-kn">import</span> <span class="tok-p">(</span>
   <span class="tok-n">Age</span><span class="tok-p">,</span>
   <span class="tok-n">Dictionary</span><span class="tok-p">,</span>
   <span class="tok-n">TextAscii</span><span class="tok-p">,</span>
<span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">_valuespec_hello_bakery</span><span class="tok-p">():</span>
   <span class="tok-k">return</span> <span class="tok-n">Dictionary</span><span class="tok-p">(</span>
      <span class="tok-n">title</span><span class="tok-o">=</span><span class="tok-n">_</span><span class="tok-p">(</span><span class="tok-s2">"Hello bakery! (Linux, Solaris, Windows)"</span><span class="tok-p">),</span>
      <span class="tok-n">help</span><span class="tok-o">=</span><span class="tok-n">_</span><span class="tok-p">(</span><span class="tok-s2">"This will deploy my example plugin."</span><span class="tok-p">),</span>
      <span class="tok-n">elements</span><span class="tok-o">=</span><span class="tok-p">[</span>
         <span class="tok-p">(</span><span class="tok-s2">"user"</span><span class="tok-p">,</span> <span class="tok-n">TextAscii</span><span class="tok-p">(</span>
            <span class="tok-n">title</span><span class="tok-o">=</span><span class="tok-n">_</span><span class="tok-p">(</span><span class="tok-s2">"User for example plugin"</span><span class="tok-p">),</span>
            <span class="tok-n">allow_empty</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">,</span>
         <span class="tok-p">)),</span>
         <span class="tok-p">(</span><span class="tok-s2">"content"</span><span class="tok-p">,</span> <span class="tok-n">TextAscii</span><span class="tok-p">(</span>
            <span class="tok-n">title</span><span class="tok-o">=</span><span class="tok-n">_</span><span class="tok-p">(</span><span class="tok-s2">"The actual content"</span><span class="tok-p">),</span>
            <span class="tok-n">allow_empty</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">,</span>
         <span class="tok-p">)),</span>
         <span class="tok-p">(</span><span class="tok-s2">"interval"</span><span class="tok-p">,</span>
          <span class="tok-n">Age</span><span class="tok-p">(</span>
            <span class="tok-n">title</span><span class="tok-o">=</span><span class="tok-n">_</span><span class="tok-p">(</span><span class="tok-s2">"Run asynchronously"</span><span class="tok-p">),</span>
            <span class="tok-n">label</span><span class="tok-o">=</span><span class="tok-n">_</span><span class="tok-p">(</span><span class="tok-s2">"Interval for collecting data"</span><span class="tok-p">),</span>
            <span class="tok-n">default_value</span><span class="tok-o">=</span><span class="tok-mi">300</span><span class="tok-p">,</span> <span class="tok-c1"># default: 5 minutes</span>
          <span class="tok-p">)),</span>
      <span class="tok-p">],</span>
      <span class="tok-n">optional_keys</span><span class="tok-o">=</span><span class="tok-p">[</span><span class="tok-s2">"interval"</span><span class="tok-p">],</span>
   <span class="tok-p">)</span>

<span class="tok-n">rulespec_registry</span><span class="tok-o">.</span><span class="tok-n">register</span><span class="tok-p">(</span>
   <span class="tok-n">HostRulespec</span><span class="tok-p">(</span>
      <span class="tok-n">group</span><span class="tok-o">=</span><span class="tok-n">RulespecGroupMonitoringAgentsAgentPlugins</span><span class="tok-p">,</span>
      <span class="tok-n">name</span><span class="tok-o">=</span><span class="tok-s2">"agent_config:hello_bakery"</span><span class="tok-p">,</span>
      <span class="tok-n">valuespec</span><span class="tok-o">=</span><span class="tok-n">_valuespec_hello_bakery</span><span class="tok-p">,</span>
   <span class="tok-p">))</span></code></pre></div>
</div>
<div class="paragraph"><p><strong>Wichtig:</strong> Die Agent Bakery ignoriert eine Definition von <code>match_type</code> im verknüpften Regelsatz und setzt <code>match_type</code> immer auf "first", was bedeutet, dass die erste passende Regel ausgeführt wird.</p></div>
<div class="paragraph"><p>Die aus diesem Regelsatz resultierende GUI zeigt das folgende Bild:</p></div>
<div class="imageblock"><div class="content"><img src="../images/bakeryapi_settings.png" alt="GUI des Regelsatzes zur Konfiguration des Plugins."></div></div>
<div class="paragraph"><p>Die Konfiguration findet über den Namen, unter dem der Regelsatz registriert wird, und dem Präfix <code>agent_config:</code> zum Bakery Plugin.</p></div>
</div>
<div class="sect2">
<h3 id="heading_deploy">
<span class="hidden-anchor sr-only" id="deploy"></span>3.11. Dateien bereitstellen</h3>
<div class="paragraph"><p>Damit ein Bakery Plugin funktionieren kann, müssen alle beteiligten Dateien an die jeweils korrekten Stelle in der lokalen Struktur des Instanzverzeichnisses abgelegt bzw. geschrieben werden.</p></div>
<div class="paragraph"><p>Dabei handelt es sich zum einen um die Plugin-Datei selbst und zum anderen um die von der <code>files_function</code> zurückgegebenen Objekte. Diese Objekte beschreiben entweder Konfigurationsdateien, die direkt vom Bakery Plugin erzeugt werden, oder sie beziehen sich auf Dateien, die richtig abgelegt werden müssen, damit sie beim Verpacken der Agentenpakete gefunden werden.</p></div>
<div class="paragraph"><p>Objekte der Klassen <code>Plugin</code> und <code>SystemBinary</code> bezeichnen existierende Dateien, die abgelegt werden müssen.
Die als <code>PluginConfig</code> und <code>SystemConfig</code> beschriebenen Dateien werden anhand des <code>lines</code>-Arguments erst noch generiert, daher müssen hier keine Dateien abgelegt werden.</p></div>
<div class="paragraph"><p>Schließlich gehört zum Satz der Dateien auch die <a href="#ruleset">Regelsatzdatei</a> zum Plugin.</p></div>
<div class="paragraph"><p>Im nächsten und letzten Kapitel finden Sie die Zusammenstellung aller Verzeichnisse.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_files">
<span class="hidden-anchor sr-only" id="files"></span>4. Dateien und Verzeichnisse</h2>
<div class="sectionbody">
<div class="paragraph"><p>In den folgenden Verzeichnissen müssen Dateien für die Bereitstellung eines Bakery Plugins abgelegt werden.
Wie immer sind alle Angaben hier relativ zum Instanzverzeichnis (z.B. <code>/omd/sites/mysite</code>).</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Pfad</th>
<th class="tableblock halign-left valign-top">Bedeutung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local/lib/check_mk/base/cee/plugins/bakery/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis für das Bakery-Plugin (im Beispiel <code>hello_bakery.py</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local/share/check_mk/agents/plugins/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis zur Ablage der unixoiden Agentenplugins.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local/share/check_mk/agents/windows/plugins</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis zur Ablage der Windows Agentenplugins.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local/share/check_mk/agents/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis für mitgelieferte Programme oder Shell-Skripte für unixoide Betriebssysteme (im Beispiel <code>some_binary</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local/share/check_mk/agents/windows/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis für mitgelieferte Programme oder Shell-Skripte für Windows.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local/share/check_mk/web/plugins/wato</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis für die Regelsatzdateien zur Konfiguration des Agentenplugins (im Beispiel <code>hellobakery_bakery.py</code>) und auch des zugehörigen Check-Plugins (z.B. für die Festlegung von Schwellwerten). Wählen Sie daher aussagekräftige Namen, um die Dateien auseinanderhalten zu können.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">Auf dieser Seite</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Einleitung</a></li>
<li>
<a href="#api_doc">2. Die API-Dokumentation</a><ul class="sectlevel1">
<li><a href="#versioning">2.1. Versionierung</a></li>
<li><a href="#access_doc">2.2. Zugriff auf die API-Dokumentation</a></li>
</ul>
</li>
<li>
<a href="#using">3. Die API nutzen</a><ul class="sectlevel1">
<li><a href="#example">3.1. Ein Beispielszenario</a></li>
<li><a href="#create_plugin">3.2. Plugin-Datei erstellen</a></li>
<li><a href="#access_api">3.3. Auf die API zugreifen</a></li>
<li>
<a href="#objects">3.4. Die verfügbaren Objekte der API</a><ul class="sectlevel2">
<li><a href="#enums">Identifier / Aufzählungen</a></li>
<li><a href="#artefacts">Artefakte</a></li>
<li><a href="#register_function">Registrierungsfunktion</a></li>
<li><a href="#annotations">Typ-Annotationen</a></li>
<li><a href="#utilities">Hilfsfunktionen</a></li>
</ul>
</li>
<li><a href="#register">3.5. Registrieren</a></li>
<li><a href="#windows_config_function">3.6. Konfiguration für den Windows-Agenten</a></li>
<li><a href="#scriptlets_function">3.7. Installationsskripte für Linux</a></li>
<li><a href="#files_function">3.8. Agentenplugin für Linux</a></li>
<li><a href="#plugin_code">3.9. Die Plugin-Datei zum Beispielszenario</a></li>
<li><a href="#ruleset">3.10. Regelsatz erstellen</a></li>
<li><a href="#deploy">3.11. Dateien bereitstellen</a></li>
</ul>
</li>
<li><a href="#files">4. Dateien und Verzeichnisse</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../../assets/js/lunr.de.js"></script>
<script src="../lunr.index.de.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
