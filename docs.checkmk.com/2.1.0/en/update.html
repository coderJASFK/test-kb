<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="No matter whether Open Source, Free Edition or Enterprise Editions: updating Checkmk has been made as easy as possible. The principles are explained here.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Updates and Upgrades">
<meta name="og:description" content="No matter whether Open Source, Free Edition or Enterprise Editions: updating Checkmk has been made as easy as possible. The principles are explained here.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Updates and Upgrades</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/de/update.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/en/update.html">2.2.0</a><a class="dropdown-item" href="../../latest/en/update.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host and service parameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Introduction to notifications</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMWare ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Performance data and graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Configuration via the Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
<li>
<p><a href="web_api.html">Configuration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Command reference for the HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Writing your own check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Updates and Upgrades</h1>
<div class="details">
<span id="revdate">Last modified on 19-May-2022</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/en/update.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="cmk_versions.html">Checkmk versions</a>
<a href="cmc.html">The Checkmk micro core (CMC)</a>
<a href="cmc_migration.html">Migration to the CMC</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>Updating Checkmk is a bit different than most other software packages that
you may be familiar with. Why is that?</p></div>
<div class="paragraph"><p>The reason is that Checkmk not only allows multiple independent <strong>sites</strong> to run on a single server, but it also allows multiple
<a href="cmk_versions.html">software versions</a> to be installed simultaneously. With
this system each site is assigned to an installed version of the software.
To illustrate, we can take the following situation on a fictional server:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update1.png" alt="update1" width="300"></div></div>
<div class="paragraph"><p>Here the site <code>mysite1</code> uses version <code>2.0.0p3.cee</code>,
but the sites <code>mysite2</code> and <code>mysite3</code> use
version <code>2.0.0p1.cre</code>. Though Checkmk-Version <code>2.0.0p1.cfe</code> is
installed, it is currently not being used.</p></div>
<div class="paragraph"><p>This example makes it clear that an update does not simply mean the installation
of a new Checkmk RPM/DEB package on a server.
Another additional step is also required. Let us take the following
situation as an example:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update2.png" alt="update2" width="300"></div></div>
<div class="paragraph"><p>Here the site <code>mysite</code> is to be updated to the
Checkmk-version <code>2.0.0p3.cee</code>. The first step is to download and install
the appropriate RPM/DEB-Packet. This is performed exactly as with the
<a href="install_packages.html">initial installation</a>. At first the newly-installed version will
not be used by any site, and it will look like this:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update3.png" alt="update3" width="300"></div></div>
<div class="paragraph"><p>The second step will now be an update of the site from <code>2.0.0p1.cre</code>
to <code>2.0.0p3.cee</code>. This is achieved with the <code>omd update</code> command,
which we will discuss in detail below:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update4.png" alt="update4" width="300"></div></div>
<div class="paragraph"><p>Following the update, the (likely) no longer required version <code>2.0.0p1.cre</code>
can be deleted by uninstalling the appropriate package.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_before_update">
<span class="hidden-anchor sr-only" id="before_update"></span>2. Before the update</h2>
<div class="sectionbody">
<div class="paragraph"><p>If you are planning to update the Checkmk version <span class="new">2.0.0</span> to <span class="new">2.1.0</span>, you should first read the <a href="update_major.html">Update to version 2.1.0</a> article, in which we have compiled the most important issues you should consider before and after such an update.</p></div>
<div class="paragraph"><p>But even if you have already installed a <span class="new">2.1.0</span> version and want to update to a new stable patch version of <span class="new">2.1.0</span>, the topics described in the following sections may be relevant.</p></div>
<div class="sect2">
<h3 id="heading_update_major_version">
<span class="hidden-anchor sr-only" id="update_major_version"></span>2.1. Update to major versions</h3>
<div class="paragraph"><p>When updating to major versions, you should always update directly to the next version and not just skip any.
For example, if you want to update from <span class="new">1.6.0</span> to <span class="new">2.1.0</span>, update to <span class="new">2.0.0</span> first.
The reason is simple: there are sometimes simply so many changes between two major versions that skipping them can cause problems.
This recommendation is enforced by <code>omd update</code> by a block and issues a warning message if necessary.
Nevertheless, you can perform such updates by enforcing the operation with the <code>-f</code> option:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>-f<span class="tok-w"> </span>update</code></pre></div></div>
<div class="paragraph"><p><strong>Attention:</strong> Sites updated in this way are no longer supported by us!</p></div>
<div class="paragraph"><p>The <code>omd update</code> command also allows updating to a <em>lower</em> version.
After such an update in the reverse direction, however, many adjustments are necessary to make configuration and runtime environment compatible again — especially, but not only, when updating to a lower major version.
Therefore, we advise against this procedure — and can no longer provide support when updating to a lower version.</p></div>
</div>
<div class="sect2">
<h3 id="heading_local_files">
<span class="hidden-anchor sr-only" id="local_files"></span>2.2. Local files</h3>
<div class="paragraph"><p>Local files allow you to customize and extend the functionality provided by Checkmk.
These files are located in the local part of the site directory structure, i.e. in <code>~/local</code>.
Local files can cause problems when updating, as they may no longer match the new Checkmk version.</p></div>
<div class="paragraph"><p>Since it is not possible for Checkmk to intercept and handle local customizations and any third-party extension during an update, you should check your Checkmk site before an update to see if and which local files you are using.</p></div>
<div class="paragraph"><p>Get an overview of the local files of your Checkmk site by executing the following command as the site user (where the <code>-L</code> option ensures that symbolic links are also followed):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>find<span class="tok-w"> </span>-L<span class="tok-w"> </span>~/local<span class="tok-w"> </span>-type<span class="tok-w"> </span>f</code></pre></div></div>
<div class="paragraph"><p>In a fresh installation of Checkmk, you will currently only see a file called <code>README.TXT</code> listed.
Anything beyond that should be at the top of your troubleshooting list in case you have problems updating.</p></div>
</div>
<div class="sect2">
<h3 id="heading_incompatible_mkps">
<span class="hidden-anchor sr-only" id="incompatible_mkps"></span>2.3. Incompatible and obsolete MKPs</h3>
<div class="paragraph"><p>The Checkmk extension packages (MKPs) can be used to extend your monitoring system quite easily and conveniently.
On the one hand, it happens that such MKPs are no longer maintained and may then no longer be compatible with new versions of Checkmk.
On the other hand, we keep adding new plug-ins and functional extensions to Checkmk, which is why MKPs sometimes become obsolete.
Their functionality is simply ensured by Checkmk itself.</p></div>
<div class="paragraph"><p>If you have installed MKPs, it is urgently recommended to check them.
This will prevent incompatible packages from interfering with the update, or of having duplicate or at least very similar services following the update.</p></div>
<div class="paragraph"><p>To do this, check your installed MKPs against our <a href="https://checkmk.com/integrations">Catalog of Check plug-ins</a> and remove packages which are now provided natively by Checkmk.
You can also take this opportunity to remove MKPs that may have only been installed for a test run.
You can find a list in the <span class="guihint">Setup</span> menu under <span class="guihint">Maintenance &gt; Extension packages.</span>
On the command line, with the following commands you can display installed extensions as well as any unpackaged files:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>find</code></pre></div></div>
<div class="paragraph"><p>Should you not be able to assign all packages via the check of the installed MKPs and the comparison with our catalog, we recommend the <a href="update_major.html#dry_run">dry run of the update</a> described below in order to identify incompatibilities and then remove these from your production monitoring before the update.</p></div>
<div class="paragraph"><p>Check the output of these commands for extensions and files that are no longer needed or that you cannot even allocate.
To check their impact on the update, you can make copies of these extensions and files and remove them from your Checkmk site, at least temporarily.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_detailed">
<span class="hidden-anchor sr-only" id="detailed"></span>3. Updating Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__installing_new_versions">
<span class="hidden-anchor sr-only" id="_installing_new_versions"></span>3.1. Installing new versions</h3>
<div class="paragraph"><p>As described in the introduction, the first step with an update is the
<a href="install_packages.html">installation</a> of the desired new <a href="cmk_versions.html">version</a> of Checkmk.
This is achieved in exactly the same way as with the initial installation — it will however proceed somewhat more quickly since most of the dependent packages
have already been installed. In the following example we are installing the
package for Ubuntu 20.04 (Focal Fossa):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>apt<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/check-mk-enterprise-2.1.0p1_0.focal_amd64.deb</code></pre></div></div>
<div class="paragraph"><p><strong>Note:</strong> When installing a local package via <code>apt install</code>, you have to state the pull path to the .deb file.</p></div>
<div class="paragraph"><p>A list of your installed Checkmk versions can be displayed at any time with the
<code>omd versions</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>versions
<span class="tok-go">1.6.0p22.cre</span>
<span class="tok-go">2.0.0p2.cre</span>
<span class="tok-go">2.1.0p1.cee (default)</span></code></pre></div></div>
<div class="paragraph"><p>One of these listed versions is marked with <code>(default)</code>.
This default version will be used automatically when creating
new sites, as long as no other version is specified with
<code>omd -V myversion create mysite</code>. The current default version can be queried with <code>omd version</code>,
and it can be altered with <code>omd setversion</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>version
<span class="tok-go">OMD - Open Monitoring Distribution Version 2.0.0p3.cee</span>
<span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>setversion<span class="tok-w"> </span><span class="tok-m">2</span>.1.0p1.cre
<span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>version
<span class="tok-go">OMD - Open Monitoring Distribution Version 2.1.0p1.cre</span></code></pre></div></div>
<div class="paragraph"><p>The default version plays no role when managing <em>existing</em> sites.
The <code>omd</code> command always starts with the version appropriate to the site for which the command is called.</p></div>
<div class="paragraph"><p>A listing of the current sites and the versions they use is provided
by the <code>omd sites</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>sites
<span class="tok-go">SITE             VERSION          COMMENTS</span>
<span class="tok-go">mysite           1.6.0p22.cre</span>
<span class="tok-go">test             2.1.0p1.cee      default version</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading_execute">
<span class="hidden-anchor sr-only" id="execute"></span>3.2. Performing the update</h3>
<div class="paragraph"><p>Once the desired new version has been installed, the site can be updated.
No <code>root</code>-permissions are required for this.
The best way to do this is as a site user:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>su<span class="tok-w"> </span>mysite</code></pre></div></div>
<div class="paragraph"><p>Ensure that the site has been stopped:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>stop</code></pre></div></div>
<div class="paragraph"><p>The update — in effect switching to a different version — can now simply be
performed with the <code>omd update</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>update</code></pre></div></div>
<div class="paragraph"><p>If more than one target version is available, a selection list will open:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_omd-update-2.png" alt="update omd update 2" width="55%"></div></div>
<div class="paragraph"><p>In the following dialogue box, confirm the selected update to the new version:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_omd-update-3.png" alt="update omd update 3" width="55%"></div></div>
<div class="paragraph"><p>When updating from a Raw Edition to the <span class="image-inline"><img src="../images/CSE.svg" alt="CSE" width="20" title="Checkmk Enterprise Standard Edition"></span> <strong>Checkmk Enterprise Standard Edition</strong> you will be reminded of this fact:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_raw_to_enterprise.png" alt="update raw to enterprise" width="55%"></div></div>
<div class="paragraph"><p>An important part of an update is the refreshing of the
originally provided configuration files. Here changes that had possibly
been made to these files by the user will not simply be discarded, rather they
will be merged. This functions very much like version control systems which
attempt to amalgamate changes made to a single file simultaneously by multiple
developers.</p></div>
<div class="paragraph"><p>Occasionally — when the changes affect the same location in the file — that won’t function, and a <em>conflict</em> occurs. How you can solve such conflicts
will be explained <a href="#conflicts">later below</a>.</p></div>
<div class="paragraph"><p>The update provides a listing of all modified files and directories (shortened in the following example):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-go">2022-05-16 16:49:42 - Updating site 'mysite' from version 2.0.0p23.cee to 2.1.0p1.cee...</span>

<span class="tok-go"> * Identical new  etc/omd</span>
<span class="tok-go"> * Installed file etc/mk-livestatus/livestatus.socket</span>
<span class="tok-go"> * Updated        etc/mk-livestatus/nagios.cfg</span>
<span class="tok-go">...</span>
<span class="tok-go"> * Vanished       etc/jmx4perl/config/websphere</span>
<span class="tok-go"> * Vanished       etc/jmx4perl/config</span>
<span class="tok-go">Creating temporary filesystem /omd/sites/mysite_update/tmp...OK</span>
<span class="tok-go">Executing update-pre-hooks script "01_mkp-disable-outdated"...OK</span>
<span class="tok-go">Executing update-pre-hooks script "02_cmk-update-config"...</span>
<span class="tok-go">-| Initializing application...</span>
<span class="tok-go">-| Updating Checkmk configuration...</span>
<span class="tok-go">-| ATTENTION: Some steps may take a long time depending on your installation, e.g. during major upgrades.</span>
<span class="tok-go">-|  1/24 Rewriting password store...</span>
<span class="tok-go">-|  2/24 Migrate Visuals context...</span>
<span class="tok-go">...</span>
<span class="tok-go">-|  24/24 Rewriting InfluxDB connections...</span>
<span class="tok-go">-| Done</span>
<span class="tok-go">OK</span>
<span class="tok-go">Updating core configuration...</span>
<span class="tok-go">Generating configuration for core (type cmc)...</span>
<span class="tok-go">Starting full compilation for all hosts Creating global helper config...OK</span>
<span class="tok-go"> Creating cmc protobuf configuration...OK</span>
<span class="tok-go">Finished update.</span></code></pre></div></div>
<div class="paragraph"><p>Once everything has been successfully processed, the site is switched
to the new version:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>version
<span class="tok-go">OMD - Open Monitoring Distribution Version 2.1.0p1.cee</span></code></pre></div></div>
<div class="paragraph"><p>… and can then be started:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>start</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading_incompatible">
<span class="hidden-anchor sr-only" id="incompatible"></span>3.3. Incompatible changes</h3>
<div class="paragraph"><p>Software development of course consists of changes. Because we are always actively
working to keep Checkmk modern, sometimes cutting dead weight and making changes
that turn out to be <em>incompatible</em> is unavoidable. That means that when
updating it may <em>possibly</em> be necessary to adapt your configuration,
or you should at least check it.</p></div>
<div class="paragraph"><p>A typical example of such a situation is with new check plug-ins which replace
existing plug-ins. If you use one of the affected plug-ins, a fresh
<a href="wato_services.html">service discovery</a> will be required on the affected host.</p></div>
<div class="paragraph"><p>An overview of all changes in Checkmk, including a search function,
can be found online in our <a href="https://checkmk.com/werks">Werks</a>.</p></div>
<div class="paragraph"><p>Even more practical however is the built-in search function in the release notes. After you have logged in to the site, you will find the link highlighted in red in the <span class="guihint">Help</span> menu:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_help_menu_incompatible_werks.png" alt="update help menu incompatible werks" width="65%"></div></div>
<div class="paragraph"><p>Checkmk keeps track of incompatible changes that occurred during the update from the original to the current version and asks you to check and then <em>acknowledge</em> them:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_incomp_werks.png" alt="update incomp werks"></div></div>
<div class="paragraph"><p>You can call up each 'Werk' individually, view it, confirm it with a mouse click — and thus successively reduce the number of open incompatible changes. In addition, you can use the <span class="guihint">Filter</span> button to show the filter bar and thus have access to the complete history of changes.</p></div>
</div>
<div class="sect2">
<h3 id="heading__the_update_in_detail">
<span class="hidden-anchor sr-only" id="_the_update_in_detail"></span>3.4. The update in detail</h3>
<div class="paragraph"><p>Are you curious about what exactly is happening ‘under the hood’ of an
update? Or have data conflicts appeared when <code>omd update</code> is running?
If so, here is some further reading.</p></div>
<div class="paragraph"><p>Three actions take place during <code>omd update</code>:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>The refreshing of the default files under <code>etc/</code> and <code>var/</code> – i.e., files created by <code>omd create</code></p></li>
<li><p>The switching of the active version to the target version by changing the symbolic link <code>version</code> which is found in the site directory</p></li>
<li><p>Post-processing by various packages (e.g., Checkmk). In particular, an
<a href="wato.html#activate_changes">Activate Changes</a> will be automatically executed in order to generate a valid configuration for the core.</p></li>
</ol></div>
<div class="sect3">
<h4 id="heading__updating_files_merging_changes">
<span class="hidden-anchor sr-only" id="_updating_files_merging_changes"></span>Updating files, merging changes</h4>
<div class="paragraph"><p>The first step is by far the most comprehensive. Here Checkmk demonstrates a
big advantage in comparison to the typical software installation — Checkmk helps you to adapt all of the standard configuration files to the
prerequisites of the new version. This resembles the procedure for updating a
Linux-Distribution, but goes further in the implementation.
Checkmk can handle a multiplicity of situations, for example:</p></div>
<div class="ulist"><ul>
<li><p>The merging of file changes with changes made locally by the user</p></li>
<li><p>Files, directories and symbolic links which are obsolete in the new version, or which have been deleted by the user</p></li>
<li><p>Changes to permissions</p></li>
<li><p>Changes to a file type (a symbolic link derived from a file or directory, or vice versa)</p></li>
<li><p>Changes to the target of a symbolic link</p></li>
</ul></div>
<div class="paragraph"><p>Checkmk always ensures that your local changes are retained, and that all
of the changes required by the new version are simultaneously implemented.</p></div>
</div>
<div class="sect3">
<h4 id="heading_conflicts">
<span class="hidden-anchor sr-only" id="conflicts"></span>Merging and conflicts</h4>
<div class="paragraph"><p>If the new version intends changing a configuration file on which the user has
also made changes, Checkmk automatically attempts to <em>merge</em> both sets of changes.
This is achieved using the same methods as used by version-control systems.</p></div>
<div class="paragraph"><p>The fewest problems are experienced when your and Checkmk’s changes have a clear
physical separation in the text (at least a few lines apart). The merge will
then be effected automatically, and without needing the user’s intervention.</p></div>
<div class="paragraph"><p>If two changes ‘collide’ because they both affect the same location in the data,
Checkmk cannot and will not decide which of the changes is more important.
In such a situation you are switched on as a user and can interactively resolve the conflict:</p></div>
<div class="imageblock"><div class="content"><img src="../images/omd-update.png" alt="omd update" width="85%"></div></div>
<div class="paragraph"><p>In the situation shown above, you now have the following options:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 95%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>d</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This shows the differences between the new default version and your version of the file in the form of a ‘unified diff’ (<code>diff -u</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>y</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is similar to the above, but based on the preceding default version shows which changes you have made to the file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>n</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This third option in effect ‘closes the triangle’ by showing the changes which Checkmk intends making to the file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>e</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolve the conflict manually in an editor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>t</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By selecting <strong>t</strong>, your original file – without the already successfully-merged changes – will be opened in an editor. Now edit the file in order to bypass possible conflicts. Once the editor has been closed Checkmk will reattempt the merge.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>k</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Here you can decide whether to accept the data ‘as is’. The successfully inserted changes are retained. Apart from this the file remains as customized by the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>r</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With this you can fall back to the old version of your file, and go without Checkmk’s update for this file. Any customizations that may be required must be performed manually.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>i</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Install the new default file version: your changes in the old file will be lost.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>s</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you are uncertain, you can open a shell with <strong>s</strong>. You will find yourself in a directory containing the relevant file, and there can get a picture of the situation. Quit the shell with Ctrl+D in order to proceed with the update.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>a</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abort the update. The site retains the old version. Files that have already been changed during the update however remain changed! A new update attempt can be started at any time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="heading__further_conflict_situations">
<span class="hidden-anchor sr-only" id="_further_conflict_situations"></span>Further conflict situations</h4>
<div class="paragraph"><p>Alongside the content-merging of files there is a whole series of further
situations in which Checkmk requires your decisions. Some of these are very
unusual situations, that nevertheless need to be handled correctly.
In these cases Checkmk will always give you the choice of keeping your version,
or of adopting the new default version. What is more, there is always the option
of aborting an update, or of opening a shell.
Examples of such ‘difficult’ situations are:</p></div>
<div class="ulist"><ul>
<li><p>conflicting changes to file types (e.g., when a file is replaced by a symbolic link)</p></li>
<li><p>conflicting changes to file permissions</p></li>
<li><p>changed files that are not required by the new sofware version</p></li>
<li><p>files, directories or links created by a user, which conflict with a new version’s files/directories/links</p></li>
</ul></div>
</div>
<div class="sect3">
<h4 id="heading__explanation_of_the_output_during_an_update">
<span class="hidden-anchor sr-only" id="_explanation_of_the_output_during_an_update"></span>Explanation of the output during an update</h4>
<div class="paragraph"><p>The update procedure will always output a line of explanation when it makes
a change to a file automatically. The following situations are possible –
files are referred to here, but this also applies analogously to links and directories:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A file has been changed with the new version. Since you have not made a change to the file, Checkmk simply installs the new default version of the file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merged</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A file has been changed with the new version, and at the same time the user has made other changes to the file. Both versions of the file can be merged into one without conflict.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A file has been changed in the new version, and at the same time the user has already made identical changes to the file. Checkmk must not perform any action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The new version includes a new configuration file which has just now been installed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identical new</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The new version includes a file, an identical copy of which the user has already installed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The new version has obsoleted a file (also applies to a link or a directory). The user has anyway already deleted it. No action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vanished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Another file is obsolete in the new Checkmk, and the user has neither deleted nor changed the existing version. Checkmk deletes this file automatically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unwanted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user has deleted a file which is normally present. Because the version in the new Checkmk has no changes from the last version of the file, Checkmk allows the file to be absent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user has already deleted a file, but in the new Checkmk this file contains changes from the previous version. Checkmk installs the new file, and logs a notification of this action to the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkmk has updated a file’s permissions because different permissions are set in the new version.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="heading__updating_without_user_interaction">
<span class="hidden-anchor sr-only" id="_updating_without_user_interaction"></span>3.5. Updating without user interaction</h3>
<div class="paragraph"><p>Would you like to automate Checkmk’s software updates? You may at first
have difficulties with the interactive responses from <code>omd update</code>.
There is a simple solution for this scenario: the command has options that
have been especially conceived for use in scripts:</p></div>
<div class="ulist"><ul>
<li><p>The options <code>-f</code> or <code>--force</code> directly following <code>omd</code> inhibit all types of "Are you sure…​ ?" questions.</p></li>
<li><p>The option <code>--conflict=</code> directly following <code>update</code> determines the desired behavior if a file conflict occurs.</p></li>
</ul></div>
<div class="paragraph"><p>Possible values for <code>--conflict=</code> are:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=keepold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the case of a conflict, the user’s own modified version of the file is retained. It is however possible that Checkmk may not be executable, and that manual rectification will be required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=install</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the event of a conflict, the new standard version of the file will be installed. With this, local changes to the file will be at least partly lost.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=abort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the event of a conflict the update is stopped. That does <strong>not</strong> necessarily mean that <em>everything</em> will fall back to the old state. A number of configuration files may have already been updated. The software version will however remain the old version.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=ask</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the standard procedure, so in this form the option is actually superfluous.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Below is an example of the complete command for an automated update
to version <code>2.1.0p1.cee</code> of <code>mysite</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>stop<span class="tok-w"> </span>mysite<span class="tok-w"> </span><span class="tok-p">;</span><span class="tok-w"> </span>omd<span class="tok-w"> </span>-f<span class="tok-w"> </span>-V<span class="tok-w"> </span><span class="tok-m">2</span>.1.0p1.cee<span class="tok-w"> </span>update<span class="tok-w"> </span>--conflict<span class="tok-o">=</span>install<span class="tok-w"> </span>mysite<span class="tok-w"> </span><span class="tok-o">&amp;&amp;</span><span class="tok-w"> </span>omd<span class="tok-w"> </span>start<span class="tok-w"> </span>mysite</code></pre></div></div>
<div class="paragraph"><p>Through the <code>&amp;&amp;</code> before <code>omd start</code> a restarting of the
site will be prevented if the <code>omd update</code> is aborted by an error.
Replace the <code>&amp;&amp;</code> with a semicolon (<code>;</code>)
if a start should definitely be attempted even in such a situation.</p></div>
<div class="paragraph"><p>If you are certain that only a single Checkmk site is running on the server,
the name to be used in a shell script can simply be trapped in a variable:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>sites<span class="tok-w"> </span>--bare
<span class="tok-go">mysite</span>
<span class="tok-gp">root@linux# SITENAME=$</span><span class="tok-o">(</span>omd<span class="tok-w"> </span>sites<span class="tok-w"> </span>--bare<span class="tok-o">)</span>
<span class="tok-gp">root@linux# echo $</span>SITENAME
<span class="tok-go">mysite</span></code></pre></div></div>
<div class="paragraph"><p>This enables the above line to be independent of the site’s name.
For example, a small shell script could look like this:</p></div>
<div class="listingblock">
<div class="title">update.sh</div>
<div class="content"><pre class="pygments highlight"><code><span></span>#!/bin/bash
SITE=$(omd sites --bare)
VERSION=2.1.0p1.cee

omd stop $SITE
omd -f -V $VERSION update --conflict=install $SITE  &amp;&amp; omd start $SITE</code></pre></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_updatedocker">
<span class="hidden-anchor sr-only" id="updatedocker"></span>4. Updating the Docker container</h2>
<div class="sectionbody">
<div class="paragraph"><p>The update of a Checkmk site in the Docker container is very simple.
The following are the only requirements:</p></div>
<div class="ulist"><ul>
<li><p>The container is not deleted when the container is stopped — i.e., the <code>--rm</code> option was not used at startup.</p></li>
<li><p>You know the ID of the <em>volume</em> for the container. Normally you should have given its storage a unique ID when you started the container. If you are unsure of your volume’s ID, you can retrieve information about the container named <code>myContainer</code> with the <a href="managing_docker.html#commands">command</a> <code>docker inspect myContainer</code>.</p></li>
</ul></div>
<div class="paragraph"><p>If you followed the <a href="introduction_docker.html">installation guide for Checkmk in Docker</a>
you should automatically meet the requirements.</p></div>
<div class="paragraph"><p>The update process is performed in 3 steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Stop the container. If the Checkmk container is called <code>myContainer</code>, the command will be: <code>docker stop myContainer</code>.</p></li>
<li><p>Remove the container. The command is: <code>docker rm myContainer</code>.</p></li>
<li><p>Start a new container with the command <code>docker container run</code> with the desired version, and mount the known volume. If your volume is called <code>myVolume</code>, the corresponding option is <code>-v myVolume:/omd/sites</code>. All options of the command can be found in <a href="introduction_docker.html">installation guide for Checkmk in Docker</a>.</p></li>
</ol></div>
<div class="paragraph"><p>Checkmk will then automatically do the rest — updating and starting your Checkmk site.
Afterwards you will be able to log in as usual.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_updatedemo">
<span class="hidden-anchor sr-only" id="updatedemo"></span>5. Upgrading the Free Edition to the full version</h2>
<div class="sectionbody">
<div class="paragraph"><p>Was your first installation of Checkmk the Free Edition?
Once you have a Standard Edition or Managed Services Edition subscription, you can simply upgrade your existing
sites to the full version.</p></div>
<div class="paragraph"><p>The procedure is exactly the same as that for a ‘normal’ update.
The only difference is that a version’s name with the <code>.cfe</code> suffix
is upgraded to a name with the <code>.cee</code> suffix.
Simply install the desired package of the full version, and switch the existing
site to this with <code>omd update</code>.</p></div>
<div class="paragraph"><p>This upgrade can be most easily performed if both versions are identical,
apart from the <code>.cfe</code> and <code>.cee</code> suffixes respectively.
What this means for the functionality is that the Free Edition is completely
identical to the full version. Thus an upgrade makes no difference at all.</p></div>
<div class="paragraph"><p>A simultaneous upgrade with a change of version is however quite possible.
The fundamentals remain valid as for a <a href="#detailed">normal update of Checkmk</a>.</p></div>
<div class="sect2">
<h3 id="heading_upgrade">
<span class="hidden-anchor sr-only" id="upgrade"></span>5.1. Upgrading the Checkmk Appliance</h3>
<div class="paragraph"><p>You can also upgrade the Free Edition appliance to a full version of one of the Enterprise Editions without data loss.
For this you must also upgrade the firmware of the appliance!</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p><a href="appliance_usage.html#cma_webconf_firmware">First upgrade the firmware</a> of the appliance via its web interface from the <em>demo version</em> to the current firmware of the <em>full version</em>.</p></li>
<li><p><a href="appliance_usage.html#manage_cmk">Install the Checkmk software</a> of the Standard Edition or the Managed Services Edition on the appliance.</p></li>
<li><p>In the <a href="appliance_usage.html#site_management">site management</a> of the appliance, switch the sites to the full version.</p></li>
</ol></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_updateraw">
<span class="hidden-anchor sr-only" id="updateraw"></span>6. Upgrading the Raw Edition to one of the Enterprise Editions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__introduction_2">
<span class="hidden-anchor sr-only" id="_introduction_2"></span>6.1. Introduction</h3>
<div class="paragraph"><p>An upgrade of the <span class="image-inline"><img src="../images/CRE.svg" alt="CRE" width="20" title="Checkmk Raw Edition"></span> <strong>Checkmk Raw Edition</strong> to one of the Enterprise Editions is also possible. Here as well, the
procedure is the same as before: install the desired package, and upgrade
the sites with <code>omd update</code>.</p></div>
<div class="paragraph"><p>Since a number of modules and features of the Enterprise Editions are not available in the Raw Edition,
following a changeover there are a couple of points to be aware of.
The key point is that when creating <em>new</em> sites of Raw Edition or Enterprise Editions
<em>different default settings</em> are set.</p></div>
</div>
<div class="sect2">
<h3 id="heading__nagios_vs_cmc">
<span class="hidden-anchor sr-only" id="_nagios_vs_cmc"></span>6.2. Nagios vs. CMC</h3>
<div class="paragraph"><p>Since the Raw Edition only supports Nagios as its core, this is preinstalled in sites
created by the Raw Edition. This is retained when an upgrade to the <span class="image-inline"><img src="../images/CSE.svg" alt="CSE" width="20" title="Checkmk Enterprise Standard Edition"></span> <strong>Checkmk Enterprise Standard Edition</strong> is made.
That means that after an upgrade, processing will initially continue with
a Nagios core. A migration to the CMC is performed with <code>omd config</code>,
and this procedure will be described in its <a href="cmc_migration.html">own article</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__rrd_format">
<span class="hidden-anchor sr-only" id="_rrd_format"></span>6.3. RRD-Format</h3>
<div class="paragraph"><p>The Enterprise Editions support an alternative format for saving historic performance data,
one which requires significantly less hard drive-I/O. This is preinstalled
in new Enterprise Editions sites. Raw Edition sites will not be changed over automatically
by an upgrade. How the migration can be performed is described in its own
<a href="graphing.html#rrdformat">chapter</a> in the article covering
<a href="graphing.html">Performance data and graphing</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__notification_spooler">
<span class="hidden-anchor sr-only" id="_notification_spooler"></span>6.4. Notification spooler</h3>
<div class="paragraph"><p>The Raw Edition has no notification spooler. Thus following the changeover to one of the Enterprise Editions
it is not active at first. How to activate it can be learned
<a href="distributed_monitoring.html#activatemknotifyd">here</a>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__uninstalling_checkmk">
<span class="hidden-anchor sr-only" id="_uninstalling_checkmk"></span>7. Uninstalling Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__overview">
<span class="hidden-anchor sr-only" id="_overview"></span>7.1. Overview</h3>
<div class="paragraph"><p>The uninstallation of no longer required Checkmk versions is performed using the
operating system’s package manager. To do this, enter the installed package’s
name – NOT the file name of the original RPM/DEB file. Important: Only delete
Checkmk versions that are no longer being used by any site!</p></div>
<div class="paragraph"><p>Checkmk sites that are no longer required can simply be removed with <code>omd rm</code>
(thereby deleting all data as well!):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>rm<span class="tok-w"> </span>mysite</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__sles_redhat_centos">
<span class="hidden-anchor sr-only" id="_sles_redhat_centos"></span>7.2. SLES, RedHat, CentOS</h3>
<div class="paragraph"><p>Here is how to identify which Checkmk packages are being used in RPM-based systems:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>rpm<span class="tok-w"> </span>-qa<span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>grep<span class="tok-w"> </span>check-mk
<span class="tok-go">check-mk-enterprise-2.1.0p1-el8-38.x86_64</span>
<span class="tok-go">check-mk-raw-2.0.0p2-el8-38.x86_64</span>
<span class="tok-go">check-mk-raw-1.6.0p22-el8-38.x86_64</span></code></pre></div></div>
<div class="paragraph"><p>The deletion is performed with <code>rpm -e</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>rpm<span class="tok-w"> </span>-e<span class="tok-w"> </span>check-mk-raw-1.6.0p22-el8-38.x86_64</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__debian_ubuntu">
<span class="hidden-anchor sr-only" id="_debian_ubuntu"></span>7.3. Debian, Ubuntu</h3>
<div class="paragraph"><p>Use the below to identify which packets are installed:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>dpkg<span class="tok-w"> </span>-l<span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>grep<span class="tok-w"> </span>check-mk
<span class="tok-go">ii  check-mk-enterprise-2.1.0p1  0.focal  amd64  Checkmk - Best-in-class infrastructure &amp; application monitoring</span>
<span class="tok-go">ii  check-mk-enterprise-2.0.0p3  0.focal  amd64  Checkmk - Best-in-class infrastructure &amp; application monitoring</span>
<span class="tok-go">ii  check-mk-raw-2.0.0p2         0.focal  amd64  Checkmk - Best-in-class infrastructure &amp; application monitoring</span></code></pre></div></div>
<div class="paragraph"><p>The uninstallation is performed with <code>dpkg --purge</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>dpkg<span class="tok-w"> </span>--purge<span class="tok-w"> </span>check-mk-raw-1.6.0p22
<span class="tok-gp tok-gp-VirtualEnv">(Reading database ... 567850 files and directories currently installed.)</span>
<span class="tok-go">Removing check-mk-raw-1.6.0p22 (0.focal) ...</span>
<span class="tok-go">...</span></code></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_diagnose">
<span class="hidden-anchor sr-only" id="diagnose"></span>8. Fault Diagnosis</h2>
<div class="sectionbody">
<div class="paragraph"><p>If an error occurs when updating Checkmk, it is usually due to one of the following three causes, which have already been mentioned in the previous chapters:</p></div>
<div class="ulist"><ul>
<li><p>The manual intervention required by an <a href="#incompatible">incompatible change</a> has not been performed.</p></li>
<li><p>You have installed an <a href="#incompatible_mkps">incompatible extension package (MKP)</a>.</p></li>
<li><p>There are incompatible scripts in the <a href="#local_files">local files</a> of the site directory structure.</p></li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="heading__files_and_directories">
<span class="hidden-anchor sr-only" id="_files_and_directories"></span>9. Files and directories</h2>
<div class="sectionbody">
<div class="paragraph"><p>The files and directories relevant to this article can be found here.
As always, paths that do not begin with <code>‘/’</code> apply after the site’s home
directory (<code>/omd/sites/mysite</code>).</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Path name</th>
<th class="tableblock halign-left valign-top">Function</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbolic link to the installation of the Checkmk version used by this site.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/omd/versions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In this directory a subdirectory exists for every installed Checkmk version. The files belonging to <code>root</code> and are never changed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/omd/sites</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In this directory, for every site there is a home directory containing its configuration files and variable data. This data belongs to the site’s user, and can be changed by configuration and operations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/bin/omd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Management command for Checkmk sites. This is a symbolic link to the default version’s <code>bin</code>-directory. When a particular site is accessed the <code>omd</code>-command substitutes itself with that of the appropriate version.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li>
<a href="#before_update">2. Before the update</a><ul class="sectlevel1">
<li><a href="#update_major_version">2.1. Update to major versions</a></li>
<li><a href="#local_files">2.2. Local files</a></li>
<li><a href="#incompatible_mkps">2.3. Incompatible and obsolete MKPs</a></li>
</ul>
</li>
<li>
<a href="#detailed">3. Updating Checkmk</a><ul class="sectlevel1">
<li><a href="#_installing_new_versions">3.1. Installing new versions</a></li>
<li><a href="#execute">3.2. Performing the update</a></li>
<li><a href="#incompatible">3.3. Incompatible changes</a></li>
<li>
<a href="#_the_update_in_detail">3.4. The update in detail</a><ul class="sectlevel2">
<li><a href="#_updating_files_merging_changes">Updating files, merging changes</a></li>
<li><a href="#conflicts">Merging and conflicts</a></li>
<li><a href="#_further_conflict_situations">Further conflict situations</a></li>
<li><a href="#_explanation_of_the_output_during_an_update">Explanation of the output during an update</a></li>
</ul>
</li>
<li><a href="#_updating_without_user_interaction">3.5. Updating without user interaction</a></li>
</ul>
</li>
<li><a href="#updatedocker">4. Updating the Docker container</a></li>
<li>
<a href="#updatedemo">5. Upgrading the Free Edition to the full version</a><ul class="sectlevel1"><li><a href="#upgrade">5.1. Upgrading the Checkmk Appliance</a></li></ul>
</li>
<li>
<a href="#updateraw">6. Upgrading the Raw Edition to one of the Enterprise Editions</a><ul class="sectlevel1">
<li><a href="#_introduction_2">6.1. Introduction</a></li>
<li><a href="#_nagios_vs_cmc">6.2. Nagios vs. CMC</a></li>
<li><a href="#_rrd_format">6.3. RRD-Format</a></li>
<li><a href="#_notification_spooler">6.4. Notification spooler</a></li>
</ul>
</li>
<li>
<a href="#_uninstalling_checkmk">7. Uninstalling Checkmk</a><ul class="sectlevel1">
<li><a href="#_overview">7.1. Overview</a></li>
<li><a href="#_sles_redhat_centos">7.2. SLES, RedHat, CentOS</a></li>
<li><a href="#_debian_ubuntu">7.3. Debian, Ubuntu</a></li>
</ul>
</li>
<li><a href="#diagnose">8. Fault Diagnosis</a></li>
<li><a href="#_files_and_directories">9. Files and directories</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
