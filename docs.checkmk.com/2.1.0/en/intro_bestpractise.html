<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="Best practices can help you avoid problems in Checkmk, e.g. when monitoring Windows services, the Internet connection or HTTP/HTTPS services.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Best practices, tips &amp; tricks">
<meta name="og:description" content="Best practices can help you avoid problems in Checkmk, e.g. when monitoring Windows services, the Internet connection or HTTP/HTTPS services.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Best practices, tips &amp; tricks</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/de/intro_bestpractise.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/en/intro_bestpractise.html">2.2.0</a><a class="dropdown-item" href="../../latest/en/intro_bestpractise.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host and service parameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Introduction to notifications</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMWare ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Performance data and graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Configuration via the Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
<li>
<p><a href="web_api.html">Configuration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Command reference for the HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Writing your own check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Best practices, tips &amp; tricks</h1>
<div class="details">
<span id="revdate">Last modified on 24-Aug-2022</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/en/intro_bestpractise.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="heading_cpu_single_core">
<span class="hidden-anchor sr-only" id="cpu_single_core"></span>1. Monitoring the individual CPU utilization in all cores</h2>
<div class="sectionbody">
<div class="paragraph"><p>Checkmk automatically sets up a service under both Linux and Windows that monitors the average CPU usage over the course of the last minute.
On the one hand, this makes sense, but on the other hand it does not recognize some errors, for example, that a single process runs amok and continuously utilizes <strong>one</strong> CPU at 100 %.
In a system with 16 CPUs, however, a CPU only contributes 6.25 % to the overall performance, and so even in the extreme case described, a total utilization of only 6.25 % is recorded — which does not trigger a notification.</p></div>
<div class="paragraph"><p>For this reason, Checkmk provides the option (for Linux and for Windows) of monitoring all available CPUs individually and determining whether any of their cores is constantly busy over a longer period of time.
Setting up this check has turned out to be a good idea.</p></div>
<div class="paragraph"><p>To set up this check for your Windows servers, you need for the <span class="guihint">CPU utilization</span> service the <span class="guihint">CPU utilization for simple devices</span> rule set, which you can find under the <span class="guihint">Service monitoring rules</span>.
This rule set is responsible for monitoring <strong>all</strong> CPUs — but it also has this option: <span class="guihint">Levels over an extended time period on a single core CPU utilization</span>.</p></div>
<div class="paragraph"><p>Create a new rule and activate only this option in it:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_cpu_single_core.png" alt="Dialog for defining the monitoring of CPU utilization of individual cores for Windows servers."></div></div>
<div class="paragraph"><p>Define the condition so that it only applies to the Windows servers, for instance by using a suitable folder or host tag.
This rule will not affect other rules of the same rule set if they set other options, such as the thresholds for the total CPU utilization.</p></div>
<div class="paragraph"><p>For Linux servers, this is the responsibility of the <span class="guihint">CPU utilization on Linux/UNIX</span> rule set, in which you can set the same option.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_windows_services">
<span class="hidden-anchor sr-only" id="windows_services"></span>2. Monitoring Windows services</h2>
<div class="sectionbody">
<div class="paragraph"><p>By default, Checkmk does not monitor any services on your Windows servers.
Why not?
This is simply because Checkmk does not know which services are important to you.</p></div>
<div class="paragraph"><p>If you do not want to go to the trouble of manually determining for each server which services are important, you can also set up a check that simply checks whether all services with the start type "automatic" are in fact running.
In addition, you can be informed whether services are running that were started manually — out of order, so to speak.
These will no longer run after a reboot — which could be a problem.</p></div>
<div class="paragraph"><p>To implement this, you first need the <span class="guihint">Windows Services</span> rule set which you can find under the <span class="guihint">Service monitoring rules</span>, by using the search function <span class="guihint">Setup &gt; General &gt; Rule search</span>, for example.
The crucial option in the new rule is <span class="guihint">Service states</span>.
Activate this and add three new elements for the states of the services:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_windows_services_rule.png" alt="Dialog for defining the Windows server services to be monitored depending on their status."></div></div>
<div class="paragraph"><p>This allows you to implement the following monitoring:</p></div>
<div class="ulist"><ul>
<li><p>A service with the start type <span class="guihint">auto</span>, and which is running, is considered to be <span class="state0">OK</span>.</p></li>
<li><p>A service with the start type <span class="guihint">auto</span> that is not running is considered to be <span class="state2">CRIT</span>.</p></li>
<li><p>A service with the start type <span class="guihint">demand</span>, and which is running is considered to be <span class="state1">WARN</span>.</p></li>
</ul></div>
<div class="paragraph"><p>However, this rule only applies to services that are actually being monitored.
Therefore, we need a second step and a second rule, this time from the <span class="guihint">Windows service discovery</span> rule set, with which you define which Windows services Checkmk should monitor as services.</p></div>
<div class="paragraph"><p>When you create this rule, you can first enter the regular expression <code>.*</code> in the <span class="guihint">Services (Regular Expressions)</span> option, which will then be applied to all services.</p></div>
<div class="paragraph"><p>After saving the rule, switch to the service configuration for a suitable host.
There you will find a large number of new services — one for each Windows service.</p></div>
<div class="paragraph"><p>To limit the number of monitored services to those of interest to you, return to the rule and refine the search terms as needed.
This is case-sensitive.
Here is an example of a customized service selection:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_windows_service_discovery.png" alt="Dialog for defining the names of the Windows services to be monitored."></div></div>
<div class="paragraph"><p>If you have previously included services that do not match the new search expressions now in the monitoring, they will appear as vanished in the service configuration.
With the <span class="guihint">Rescan</span> button you can clear the air and have the entire service list recreated.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_internet">
<span class="hidden-anchor sr-only" id="internet"></span>3. Monitoring Internet connections</h2>
<div class="sectionbody">
<div class="paragraph"><p>Your organization’s access to the Internet is certainly very important to everybody.
Monitoring the connection to 'the Internet' is a bit difficult to implement, as it involves the billions of computers which could (hopefully) be accessible — or not.
Nevertheless, you can still set up an efficient monitoring system, based on the following construction plan:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Select several computers on the Internet that should normally be reachable via a <code>ping</code> command and note their IP addresses.</p></li>
<li><p>Create a new host in Checkmk, for example with the name <code>internet</code> and configure it as follows:
For <span class="guihint">IPv4 address</span> enter one of the noted IP addresses.
Under <span class="guihint">Additional IPv4 addresses</span> enter the remaining IP addresses.
Under <span class="guihint">Monitoring agents</span>, enable <span class="guihint">Checkmk agent / API integrations</span> and select <span class="guihint">No API integrations, no Checkmk agent</span> there.
Save the host without service discovery.</p></li>
<li><p>Create a new rule from the <span class="guihint">Check hosts with PING (ICMP Echo Request)</span> rule set that only applies to the new host <code>internet</code> (for example, via the <span class="guihint">Explicit hosts</span> condition, or a matching host tag).
Configure the rule as follows:
Enable <span class="guihint">Service Description</span> and enter <code>Internet connection</code>.
Enable <span class="guihint">Alternate address to ping</span> and select <span class="guihint">Ping all IPv4 addresses</span> there.
Enable <span class="guihint">Number of positive responses required for OK state</span> and enter <code>1</code>.</p></li>
<li><p>Create another rule that also only applies to the host <code>internet</code>, this time from the <span class="guihint">Host Check Command</span> rule set.
There, select as <span class="guihint">Host Check Command</span> the <span class="guihint">Use the status of the service…​</span> option and enter <code>Internet connection</code> as its name - the same name you chose as the service name in the previous step.</p></li>
</ol></div>
<div class="paragraph"><p>If you now activate the changes, you will get the new host <code>internet</code> with the single service <code>Internet connection</code> in the monitoring.</p></div>
<div class="paragraph"><p>If at least one of the ping destinations is reachable, the host will have the state <span class="hstate0">UP</span> and the service will have the state <span class="state0">OK</span>.
At the same time, the service provides you with performance data for a typical packet — its <em>round trip time</em> — and packet loss for each of the specified IP addresses.
This will give you an indication of the quality of your connection over time:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_service_internet.png" alt="List entry of a service for monitoring the Internet connection to several IP addresses."></div></div>
<div class="paragraph"><p>The fourth and final step is necessary so that the host does not enter the <span class="hstate1">DOWN</span> state if the first IP address is not reachable via <code>ping</code>.
Instead, the host will acquire the state of its only service.</p></div>
<div class="paragraph"><p><strong>Important:</strong> Since a service basically does not notify when its host is <span class="hstate1">DOWN</span>, it is important that you control the notifications via the host — and not via the service.
As well, in this particular case, you should use a notification method that does not require an internet connection.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_http">
<span class="hidden-anchor sr-only" id="http"></span>4. Monitoring HTTP/HTTPS services</h2>
<div class="sectionbody">
<div class="paragraph"><p>Let’s say you want to check the accessibility of a website or web service.
The <a href="wato_monitoringagents.html#agents">Checkmk agent</a> does not offer a solution here, as it does not display this information — and besides, you may not even have the possibility of installing an agent on the server.</p></div>
<div class="paragraph"><p>The solution is a so-called <strong>active check</strong>.
This is one that is not performed by an agent, rather by directly contacting a network protocol at the target host — in this case HTTP(S).</p></div>
<div class="paragraph"><p>The procedure is as follows:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>First create a new host for the web server in Checkmk, for <code>checkmk.com</code> for example.
Under <span class="guihint">Monitoring agents</span>, enable <span class="guihint">Checkmk agent / API integrations</span> and select <span class="guihint">No API integrations, no Checkmk agent</span> there.
Save the host without service discovery.</p></li>
<li>
<p>Then create a new rule from the <span class="guihint">Check HTTP service</span> rule set that will only apply to the new host (e.g. via the <span class="guihint">Explicit hosts</span> condition).</p>
<div class="openblock"><div class="content">
<div class="paragraph"><p>In the <span class="guihint">Check HTTP service</span> box you will find numerous options for carrying out the check. Please note the following points:</p></div>
<div class="ulist"><ul>
<li><p>For <span class="guihint">Service name</span>, give the service a name, e.g. <code>Homepage</code>.</p></li>
<li><p>At <span class="guihint">Host settings &gt; Virtual host</span> you may need to specify the domain of the server if this hosts more than one domain.</p></li>
<li><p><span class="guihint">Mode of the Check &gt; Use SSL/HTTPS for the connection</span> enables HTTPS monitoring.</p></li>
<li><p>With <span class="guihint">Mode of the Check &gt; Expected response time</span> you can have the service set to <span class="state1">WARN</span> or even <span class="state2">CRIT</span> if the response time is too slow.</p></li>
<li><p>With <span class="guihint">Mode of the Check &gt; Fixed string to expect in the content</span> you can check whether a certain text occurs in the response — i.e. in the delivered page.
This allows you to check a relevant part of the content so that a simple error message from the server is not interpreted as a positive response.</p></li>
</ul></div>
</div></div>
</li>
<li><p>Save the rule and activate the changes.</p></li>
</ol></div>
<div class="paragraph"><p>You will now have a new host with a service that checks access via HTTP(S).</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_http_service.png" alt="List entry of a service for monitoring the HTTP/HTTPS services on a host."></div></div>
<div class="paragraph"><p>You can of course also perform this check on a host that is already being monitored with Checkmk via an agent.
In this case, you will not need to create the host, and you will only need to create this new, additional rule for the host.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_magic_factor">
<span class="hidden-anchor sr-only" id="magic_factor"></span>5. Customizing file system thresholds 'magically'</h2>
<div class="sectionbody">
<div class="paragraph"><p>Finding good thresholds for monitoring file systems can be tedious.
After all, a threshold of 90 % is much too low for a very large hard disk and is perhaps already too marginal for a small one.
We have already introduced the facility for setting thresholds depending on a files system’s size in the <a href="intro_finetune.html#filesystems">chapter on fine-tuning monitoring</a> — and hinted then
that Checkmk has another, even cleverer option on offer — the <strong>magic factor</strong>.</p></div>
<div class="paragraph"><p>You set up the magic factor like this:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>In the <span class="guihint">Filesystems (used space and growth)</span> rule set, you create just a single rule.</p></li>
<li><p>In this rule, enable <span class="guihint">Levels for filesystem</span> and leave the default for the thresholds at 80 %, or 90 % unchanged.</p></li>
<li><p>In addition, activate <span class="guihint">Magic factor (automatic level adaptation for large filesystems)</span> and confirm the 0.8 default value.</p></li>
<li><p>Also set <span class="guihint">Reference size for magic factor</span> to 20 Gbyte.
Since 20 Gbyte is the default value, it will take effect even without you explicitly activating the option.</p></li>
</ol></div>
<div class="paragraph"><p>The result will look like this:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_magic_factor.png" alt="Dialog for setting the magic factor for file system thresholds."></div></div>
<div class="paragraph"><p>If you now save this rule and activate the change, you will have threshold values that vary automatically depending on the size of the file system:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>File systems that are exactly 20 Gbyte in size are given the thresholds 80 % / 90 %.</p></li>
<li><p>File systems smaller than 20 Gbyte are given lower thresholds.</p></li>
<li><p>File systems larger than 20 Gbyte are given higher thresholds.</p></li>
</ol></div>
<div class="paragraph"><p>Exactly how high the threshold values are is, well — magical!
The factor (here 0.8) determines how much the values are adjusted.
A factor of 1.0 changes nothing, and all file systems get the same values.
Smaller values have a greater effect on the adjustment of the values.
The default values for Checkmk used in this chapter have proven themselves in practice with very many installations.</p></div>
<div class="paragraph"><p>You can see exactly which thresholds apply for each service in its <span class="guihint">Summary</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/intro_magic_factor_services.png" alt="List with two file system services and their thresholds."></div></div>
<div class="paragraph"><p>The following table shows some examples of the effect of the magic factor (mf) with a reference value of 20 Gbyte / 80 %:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 17%;">
<col style="width: 13.8333%;">
<col style="width: 13.8333%;">
<col style="width: 13.8333%;">
<col style="width: 13.8333%;">
<col style="width: 13.8333%;">
<col style="width: 13.8335%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">File system size</th>
<th class="tableblock halign-left valign-top">mf = 1.0</th>
<th class="tableblock halign-left valign-top">mf = 0.9</th>
<th class="tableblock halign-left valign-top">mf = 0.8</th>
<th class="tableblock halign-left valign-top">mf = 0.7</th>
<th class="tableblock halign-left valign-top">mf = 0.6</th>
<th class="tableblock halign-left valign-top">mf = 0.5</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 Gbyte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">77 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">74 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">70 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60 %</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Gbyte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">79 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">77 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">75 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">74 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">72 %</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Gbyte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">50 Gbyte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">82 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">83 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">87 %</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100 Gbyte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">83 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">89 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91 %</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">300 Gbyte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">88 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">91 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95 %</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">800 Gbyte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80 %</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">93 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">95 %</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">97 %</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>With this chapter on the magic factor, we conclude our Beginner’s Guide.
We hope that you have been able to set up a solid foundation for your Checkmk system — with or without magic.
For nearly all the topics we have covered in this Beginner’s guide, you will find more in-depth information in other articles in the User guide.</p></div>
<div class="paragraph"><p>We wish you every success with Checkmk in the future!</p></div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#cpu_single_core">1. Monitoring the individual CPU utilization in all cores</a></li>
<li><a href="#windows_services">2. Monitoring Windows services</a></li>
<li><a href="#internet">3. Monitoring Internet connections</a></li>
<li><a href="#http">4. Monitoring HTTP/HTTPS services</a></li>
<li><a href="#magic_factor">5. Customizing file system thresholds 'magically'</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
