<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="Extensions created by the Checkmk community can be easily packaged and then shared with others.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Checkmk extension packages (MKPs) - Integrating extensions from the community into Checkmk">
<meta name="og:description" content="Extensions created by the Checkmk community can be easily packaged and then shared with others.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Checkmk extension packages (MKPs) - Integrating extensions from the community into Checkmk</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/de/mkps.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/en/mkps.html">2.2.0</a><a class="dropdown-item" href="../../latest/en/mkps.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host and service parameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Introduction to notifications</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMWare ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Performance data and graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Configuration via the Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
<li>
<p><a href="web_api.html">Configuration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Command reference for the HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Writing your own check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Checkmk extension packages (MKPs)</h1>
<div class="details">
<span id="revdate">Last modified on 02-Mar-2023</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/en/mkps.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="https://checkmk.com/integrations" target="_blank">Catalog of Check Plug-ins</a>
<a href="localchecks.html">Local checks</a>
<a href="devel_check_plugins.html">Writing your own check plug-ins</a>
<a href="dev_guidelines.html">Guidelines for coding check plug-ins</a>
<a href="bakery_api.html">The Bakery API</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>Checkmk has a very modular structure, and those with a knowledge of Python programming can extend it in many places.
Among other things it is possible to extend Checkmk with the following elements:</p></div>
<div class="ulist"><ul>
<li><p>Own checks and agent plug-ins, including input masks for the configuration environment.</p></li>
<li><p>Own plug-ins for the Checkmk <a href="inventory.html">HW/SW inventory</a></p></li>
<li><p>Extensions for the GUI (views, dashboards, columns, icons, etc.).</p></li>
<li><p>Definitions of graphs or Perf-o-Meters</p></li>
<li><p>Notification and alert handler scripts (also in shell or other scripting languages).</p></li>
</ul></div>
<div class="paragraph"><p>All of these these extensions can be implemented by placing additional files in the <code>~/local</code> directory within the Checkmk site.
To manage these extensions, to roll them out in distributed environments and also share them with other users, Checkmk provides its own package format the <strong>Checkmk extension package</strong> — in short <strong>MKP</strong>.</p></div>
<div class="paragraph"><p>An MKP can include any desired set of extensions — for example, a set of check plug-ins including associated manual pages, threshold configuration environments and associated metric definitions.
It can furthermore contain settings for distribution via the Agent Bakery. An MKP has a name, a version number and can be installed or removed with a simple action.</p></div>
<div class="paragraph"><p><strong>Note:</strong> The two-step install/uninstall process described in this article applies to Checkmk <span class="new">2.1.0</span>p21.
Earlier versions use a one-step install/uninstall.
This new process was retrofitted to facilitate upgrading from <span class="new">2.0.0</span> to <span class="new">2.1.0</span> (and later from <span class="new">2.1.0</span> to <span class="new">2.2.0</span>).</p></div>
<div class="sect2">
<h3 id="heading_exchange">
<span class="hidden-anchor sr-only" id="exchange"></span>1.1. The Checkmk Exchange</h3>
<div class="paragraph"><p>On the <a href="https://exchange.checkmk.com" target="_blank">Checkmk Exchange</a>, programmers of plug-ins can provide packages for other Checkmk users and exchange these amongst themselves.
From the Exchange you can download and use extensions for free.
Please note that packages from the Exchange are shared voluntarily by other users and are without any warranty.
Improperly programmed plug-ins can lead to increased CPU/system loads and memory requirements.
In addition, it is possible that an MKP was developed for older versions of CMK and thus may not be fully compatible
(from version <span class="new">1.6.0</span> to <span class="new">2.0.0</span> Checkmk changed from Python 2 to Python 3).
In extreme cases there can be a risk of data or service loss.
We therefore strongly recommend that before using third-party MKPs in a production environment, they should first be installed on a test site.</p></div>
</div>
<div class="sect2">
<h3 id="heading__tools_for_mkps">
<span class="hidden-anchor sr-only" id="_tools_for_mkps"></span>1.2. Tools for MKPs</h3>
<div class="paragraph"><p>There are two tools for managing MKPs:</p></div>
<div class="ulist"><ul>
<li><p>The <a href="#commandline">command line command</a> <code>mkp</code>.</p></li>
<li><p>The Setup menu item <span class="guihint">Extension Packages</span> (<span class="image-inline"><img src="../images/CEE.svg" alt="CEE" width="20" title="Checkmk Enterprise Editions"></span> <strong>Checkmk Enterprise Editions</strong> only)</p></li>
</ul></div>
<div class="paragraph"><p>We will now introduce both management tools in more detail.
They are compatible with each other so that you can use the command line command and <span class="guihint">Extension Packages</span> without "messing anything up".</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_wato">
<span class="hidden-anchor sr-only" id="wato"></span>2. Managing extension packages via the Setup menu</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span> The function for managing MKPs via the GUI is available only in the Enterprise Editions of Checkmk.
In the <span class="guihint">Setup</span> menu you enter the management of MKPs via <span class="guihint">Setup &gt; Maintenance &gt; Extension packages</span>.
Here you can add, modify or create new MKPs:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_sidebar.png" alt="mkp manager sidebar" width="30%"></div></div>
<div class="sect2">
<h3 id="heading__adding_an_mkp">
<span class="hidden-anchor sr-only" id="_adding_an_mkp"></span>2.1. Adding an MKP</h3>
<div class="paragraph"><p>An MKP that you have downloaded from the Exchange, for example, can be uploaded to Checkmk by clicking the <span class="guihint">Upload package</span> button and will then be made available for installation.
To do this, the file must be present on the machine that is also running your web browser.
The file extension of the package must be <code>.mkp</code>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_upload.png" alt="mkp manager upload"></div></div>
<div class="paragraph"><p>Following an installation, the extension package will initially be <em>available</em>. It is located under <span class="guihint">All packages (enabled or disabled)</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_present_not_active.png" alt="mkp manager present not active"></div></div>
</div>
<div class="sect2">
<h3 id="heading__activating_an_mkp">
<span class="hidden-anchor sr-only" id="_activating_an_mkp"></span>2.2. Activating an MKP</h3>
<div class="paragraph"><p>Only with a click on the plug icon <span class="image-inline"><img src="../images/icons/icon_install.png" alt="icon install"></span> will an available package also be activated.
During activation, the files are installed in a folder hierarchy under <code>~/local/</code>.
The package description file is also placed in <code>~/var/check_mk/packages/</code>.
After activation, the package will also appear in the list of <em>enabled and active</em> MKPs — <span class="guihint">Enabled (active on this site)</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_list_active.png" alt="mkp manager list active"></div></div>
<div class="paragraph"><p>Now perform an <a href="wato.html#activate_changes">activation of changes</a>, after which all functions from the package will be anchored in the system and ready for use.</p></div>
</div>
<div class="sect2">
<h3 id="heading__disabling_and_removing_packages">
<span class="hidden-anchor sr-only" id="_disabling_and_removing_packages"></span>2.3. Disabling and removing packages</h3>
<div class="paragraph"><p>The complete deletion of a package is also done in two stages.
With the <span class="image-inline"><img src="../images/icons/icon_disabled.png" alt="icon disabled"></span> button you first deactivate a package in the list of active packages.
In this step the installed files are removed, but the MKP is still kept — this step only reverses the <em>activation</em>.</p></div>
<div class="paragraph"><p>Using the <span class="image-inline"><img src="../images/icons/icon_delete.png" alt="icon delete"></span> icon in the list of all packages, you can again delete installed and unused packages.
When deleting, the package is deleted and with it the extension is completely removed — i.e. the opposite of <em>adding a package</em>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_distr_wato">
<span class="hidden-anchor sr-only" id="distr_wato"></span>2.4. MKPs in distributed environments</h3>
<div class="paragraph"><p>In the case of a <a href="distributed_monitoring.html#distr_wato">distributed setup</a>, it is sufficient to make the packages available on the central site.
For each remote site associated with the central site, you can then separately determine whether the customizations should be propagated to that remote site.
All you have to do is activate the <span class="guihint">Replicate extensions</span> option.
After that, the MKPs and all other changes below the <code>~/local</code> directory will also be transferred during synchronization.</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_distr_wato.png" alt="mkp distr wato"></div></div>
<div class="paragraph"><p>If a transfer is not desired, simply turn off the option for this or all sites.</p></div>
<div class="paragraph"><p><strong>Important</strong>: The customizations for the distributed setup will only be transferred if the <span class="guihint">Enable replication</span> option is set to <span class="guihint">Push configuration to this site</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_enabled_inactive">
<span class="hidden-anchor sr-only" id="enabled_inactive"></span>2.5. Special case: Enabled but inactive packages</h3>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p><strong>Risk of loss of settings!</strong>
When updating the major version, Checkmk deletes rules that are no longer required.
If you uninstall packages <em>before</em> the update in order to install a new version <em>after</em> the update, settings that are still required may be lost.
Instead, always install new and old packages in parallel as described in this section and only remove old packages after the update.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>A special case is the attempted activation of a package that does not match the Checkmk version used. Such a package that is enabled, but whose activation fails because of an incompatible Checkmk version, will end up in the <span class="guihint">Enabled (inactive on this site)</span> list.</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_all_states.png" alt="mkp manager all states"></div></div>
<div class="paragraph"><p>But why install packages that do not match the Checkmk version you are using?
There are two good reasons:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>An <a href="update_major.html">update of the Checkmk version</a>:
You have the possibility of storing packages for both the old and the new versions — when you next perform an update, the newer package will be activated automatically.</p></li>
<li><p><a href="distributed_monitoring.html#distr_wato">Distributed Monitoring</a>:
To facilitate updates, the Checkmk major version of remote sites may be one higher than that of the central site.
However, this previously made it difficult to distribute MKPs because these had to be compatible with both major versions.
With the ability to unlock mismatched packages, you can keep packages on the central site that match both the source and target versions.
The newer version will then be automatically activated during an update.</p></li>
</ol></div>
<div class="paragraph"><p>From the version numbers shown in the above screenshot, you can see that it is a Checkmk <span class="new">2.1.0</span> central site that provides packages for remote sites that have already been upgraded to <span class="new">2.2.0</span>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__mkps_for_developers">
<span class="hidden-anchor sr-only" id="_mkps_for_developers"></span>3. MKPs for developers</h2>
<div class="sectionbody">
<div class="paragraph"><p>If you are programming or modifying your own plug-ins for Checkmk, please see the articles on the existing
<a href="devel_check_plugins.html">programming interfaces and the file system structure</a>,
the <a href="bakery_api.html">integration into the Agent Bakery</a>
and the <a href="dev_guidelines.html">guidelines for check plug-ins</a>.</p></div>
<div class="sect2">
<h3 id="heading__unpacking_packages">
<span class="hidden-anchor sr-only" id="_unpacking_packages"></span>3.1. Unpacking packages</h3>
<div class="paragraph"><p>The <span class="image-inline"><img src="../images/icons/icon_release_mkp.png" alt="icon release mkp"></span> unpack icon unpacks the packaged files under <code>~/local/</code> and only removes the package description.
As a result, the files will be unpackaged and the extensions will remain active.
This is the opposite of creating a package from previously unpackaged files.</p></div>
<div class="paragraph"><p>In practice, you will most likely need to unpackage when you want to customize an extension and later repackage it with any changes.
For example, you can use our <a href="https://exchange.checkmk.com/p/hello-world" target="_blank">Hello world!</a> example, which does nothing useful, but can serve as a template to help you get started with your first custom package.</p></div>
</div>
<div class="sect2">
<h3 id="heading__creating_packages">
<span class="hidden-anchor sr-only" id="_creating_packages"></span>3.2. Creating packages</h3>
<div class="paragraph"><p>Creating your own MKP is very easy once the <a href="devel_check_plugins.html">programming work</a> has been completed.
The starting point is that you have created your own files in the appropriate directories under <code>~/local/</code>.
For example, for custom, agent-based check plug-ins, the correct directory is <code>~/local/lib/check_mk/base/plugins/agent_based</code>.
These files do not initially belong to any package and are therefore listed under <span class="guihint">Unpackaged files</span>:</p></div>
<div class="imageblock">
<div class="content"><img src="../images/mkps_unpackaged.png" alt="mkps unpackaged"></div>
<div class="title">List of <span class="guihint">Unpackaged files</span> and the <span class="guihint">Create package</span> button.</div>
</div>
<div class="paragraph"><p>The <span class="image-inline"><img src="../images/icons/icon_new_mkp.png" alt="icon new mkp"></span> <span class="guihint">Create package</span> button will open the dialog for creating a new package:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkps_create.png" alt="mkps create"></div></div>
<div class="paragraph"><p>Besides the obvious information, it is important that you select at least one file to be packed. When creating a package, a description is added under <code>~/var/check_mk/packages/</code>, which, in addition to the general information, also contains the list of the included files.
The highest supported Checkmk version is of course difficult to predict without a crystal ball.
As a rule of thumb it can be assumed that something that was programmed for <span class="new">2.0.0</span> without using old APIs will also run with <span class="new">2.1.0</span> and <span class="new">2.2.0</span>.
Therefore the highest Checkmk version is used to identify older packages, which require more intensive testing and possibly customization.</p></div>
<div class="paragraph"><p>You can now use this package — e.g. to transfer it to another system or upload it to the Exchange — or, with the <span class="image-inline"><img src="../images/icons/icon_download.png" alt="icon download"></span> icon in the package list, to download it as an MKP file.</p></div>
<div class="paragraph"><p>When making changes to packaged files, the package <em>does not</em> need to be rebuilt.
Click <span class="image-inline"><img src="../images/icons/icon_edit.png" alt="icon edit"></span> to change the version number, save the modified package and re-download it if necessary.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_commandline">
<span class="hidden-anchor sr-only" id="commandline"></span>4. MKPs on the command line</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can also perform all of the above actions on the command line.
For this use the <code>mkp</code> command (which is actually an abbreviation for <code>cmk -P</code>):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp
<span class="tok-go">Usage: check_mk [-v] -P|--package COMMAND [ARGS]</span>

<span class="tok-go">Available commands are:</span>
<span class="tok-go">   create NAME             ...  Collect unpackaged files into new package NAME</span>
<span class="tok-go">   pack NAME               ...  Create package file from installed package</span>
<span class="tok-go">   release NAME            ...  Drop installed package NAME, release packaged files</span>
<span class="tok-go">   find                    ...  Find and display unpackaged files</span>
<span class="tok-go">   list                    ...  Show a table of all known packages</span>
<span class="tok-go">   list NAME               ...  List files of installed package</span>
<span class="tok-go">   list PACK.mkp           ...  List files of uninstalled package file</span>
<span class="tok-go">   show NAME               ...  Show information about installed package</span>
<span class="tok-go">   show PACK.mkp           ...  Show information about uninstalled package file</span>
<span class="tok-go">   install PACK.mkp        ...  Install or update package from file PACK.mkp</span>
<span class="tok-go">   remove NAME VERSION     ...  Uninstall and delete package NAME</span>
<span class="tok-go">   disable NAME [VERSION]  ...  Disable package NAME</span>
<span class="tok-go">   enable NAME VERSION     ...  Enable previously disabled package NAME</span>
<span class="tok-go">   disable-outdated        ...  Disable outdated packages</span>

<span class="tok-go">   -v  enables verbose output</span>

<span class="tok-go">Package files are located in /omd/sites/mysite/var/check_mk/packages.</span></code></pre></div></div>
<div class="sect2">
<h3 id="heading__installing_an_mkp">
<span class="hidden-anchor sr-only" id="_installing_an_mkp"></span>4.1. Installing an MKP</h3>
<div class="paragraph"><p>The installation of a package is accomplished with the <code>mkp install</code> command.
For this, first you must of course load the MKP file onto the Checkmk server (e.g. with <code>scp</code>).
After that the installation is performed with the following command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/hello_world-0.2.1.mkp</code></pre></div></div>
<div class="paragraph"><p>You can list the installed packages with the <code>mkp list</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- -----------------------------</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Enabled (active on this site)</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__disabling_and_removing_packages_2">
<span class="hidden-anchor sr-only" id="_disabling_and_removing_packages_2"></span>4.2. Disabling and removing packages</h3>
<div class="paragraph"><p>Uninstalling a package is done in two stages.
First, the package is disabled with <code>mkp disable</code>.
This deletes installed files, but still keeps the package — for example for a later reactivation.
The specification of the version number is only required in the event that the name alone is <a href="#enabled_inactive_cli">not unique</a>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>disable<span class="tok-w"> </span>hello_world<span class="tok-w"> </span><span class="tok-m">0</span>.2.1</code></pre></div></div>
<div class="paragraph"><p>In the package list you will now see this package has the <span class="guihint">Disabled</span> state when you again call <code>mkp list</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- --------</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Disabled</span></code></pre></div></div>
<div class="paragraph"><p>A subsequent <code>mkp remove</code> command will then irrevocably delete the package:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>remove<span class="tok-w"> </span>hello_world<span class="tok-w"> </span><span class="tok-m">0</span>.2.1</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading_enabled_inactive_cli">
<span class="hidden-anchor sr-only" id="enabled_inactive_cli"></span>4.3. Special case: Enabled but inactive packages</h3>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p><strong>Risk of loss of settings!</strong>
When updating the major version, Checkmk deletes rules that are no longer required.
If you uninstall packages <em>before</em> the update in order to install a new version <em>after</em> the update, settings that are still required may be lost.
Instead, always install new and old packages in parallel as described in this section and only remove old packages after the update.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>A special situation is the installation of a package that does not match the Checkmk version in use:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/hello_world-0.2.2.mkp
<span class="tok-go">The package requires Check_MK version 2.2.0, but you have 2.1.0p21 installed.</span></code></pre></div></div>
<div class="paragraph"><p>A package which has been enabled, but whose activation fails due to an incompatible Checkmk version, will be identified with the <span class="guihint">Enabled (inactive on this site)</span> state.</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- -------------------------------</span>
<span class="tok-go">hello_world 0.2.2   Hello world! 2.2.0        2.2.999       6     Enabled (inactive on this site)</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Enabled (active on this site)</span></code></pre></div></div>
<div class="paragraph"><p><a href="#enabled_inactive">Above</a> we explained the reasons for installing incompatible packages — i.e. for updates and distributed environments.
Similarly, as in setup, use <code>mkp enable packagename version</code> to enable a package, or <code>mkp disable packagename version</code> to disable an existing enabled package.</p></div>
</div>
<div class="sect2">
<h3 id="heading__unpacking_packages_2">
<span class="hidden-anchor sr-only" id="_unpacking_packages_2"></span>4.4. Unpacking packages</h3>
<div class="paragraph"><p>You can unpack an existing and active package (<span class="guihint">State: Enabled (active on this site)</span>) with the <code>mkp release</code> command.
The extension files will be retained and only the download package and its description will be deleted:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>release<span class="tok-w"> </span>mypackage</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__creating_packages_2">
<span class="hidden-anchor sr-only" id="_creating_packages_2"></span>4.5. Creating packages</h3>
<div class="paragraph"><p>The procedure for creating MKPs on the command line is analogous to that using the Setup menu.
First you create your extensions in the appropriate directories within <code>~/local/</code>.
You then list all unpackaged files with <code>mkp find</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>find
<span class="tok-go">/omd/sites/mysite/local/lib/check_mk/base/plugins/agent_based/mycheck</span>
<span class="tok-go">/omd/sites/mysite/local/lib/check_mk/base/plugins/agent_based/mycheck_manpage</span></code></pre></div></div>
<div class="paragraph"><p>Now create a package configuration with the <code>mkp create</code> command, which (for now) contains all of these files.
Specify the desired name of the new package:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>create<span class="tok-w"> </span>mypackage</code></pre></div></div>
<div class="paragraph"><p>You now edit the properties of the package with a text editor.
The file for this is located in <code>~/var/check_mk/packages/mypackage</code>:</p></div>
<div class="listingblock">
<div class="title">~/var/check_mk/packages/mypackage</div>
<div class="content"><pre class="pygments highlight"><code><span></span>{'author': 'myName',
 'description': u'This package contains a check plugin',
 'download_url': 'http://www.example.com',
 'files': {'agent_based': [],
           'agents': [],
           'checkman': ['mycheck'],
           'checks': ['mycheck'],
           'doc': [],
           'inventory': [],
           'lib': [],
           'notifications': [],
           'pnp-templates': [],
           'web': []},
 'name': 'myPackage',
 'num_ files': 2,
 'title': 'My own check plugin',
 'version': '1.0',
 'version.min_required': '2.0.0',
 'version.packaged': '2.0.0p23'
 'version.usable_until': '2.1.999'}</code></pre></div>
</div>
<div class="paragraph"><p>Edit this file according to your needs.
Make sure you use the correct Python syntax. Unicode strings — i.e. texts containing non-ASCII characters, such as umlauts — must be prefixed with a lower-case <code>u</code>.</p></div>
<div class="paragraph"><p>At the entry <code>files</code> you can remove files which should not be be packaged.
Under <code>version.min_required</code> you enter the minimum version of Checkmk that is required to use the package.</p></div>
<div class="paragraph"><p>Afterwards you can create a MKP file using <code>mkp pack</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>pack<span class="tok-w"> </span>mypackage
<span class="tok-gp">OMD[mysite]:~$ </span>ll<span class="tok-w"> </span>*.mkp
<span class="tok-go">-rw-rw-r-- 1 mysite mysite 495 Dez 22 13:36 mypackage-1.0.mkp</span></code></pre></div></div>
</div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li>
<a href="#_introduction">1. Introduction</a><ul class="sectlevel1">
<li><a href="#exchange">1.1. The Checkmk Exchange</a></li>
<li><a href="#_tools_for_mkps">1.2. Tools for MKPs</a></li>
</ul>
</li>
<li>
<a href="#wato">2. Managing extension packages via the Setup menu</a><ul class="sectlevel1">
<li><a href="#_adding_an_mkp">2.1. Adding an MKP</a></li>
<li><a href="#_activating_an_mkp">2.2. Activating an MKP</a></li>
<li><a href="#_disabling_and_removing_packages">2.3. Disabling and removing packages</a></li>
<li><a href="#distr_wato">2.4. MKPs in distributed environments</a></li>
<li><a href="#enabled_inactive">2.5. Special case: Enabled but inactive packages</a></li>
</ul>
</li>
<li>
<a href="#_mkps_for_developers">3. MKPs for developers</a><ul class="sectlevel1">
<li><a href="#_unpacking_packages">3.1. Unpacking packages</a></li>
<li><a href="#_creating_packages">3.2. Creating packages</a></li>
</ul>
</li>
<li>
<a href="#commandline">4. MKPs on the command line</a><ul class="sectlevel1">
<li><a href="#_installing_an_mkp">4.1. Installing an MKP</a></li>
<li><a href="#_disabling_and_removing_packages_2">4.2. Disabling and removing packages</a></li>
<li><a href="#enabled_inactive_cli">4.3. Special case: Enabled but inactive packages</a></li>
<li><a href="#_unpacking_packages_2">4.4. Unpacking packages</a></li>
<li><a href="#_creating_packages_2">4.5. Creating packages</a></li>
</ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
