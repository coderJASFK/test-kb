<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="The Checkmk HTTP API (or Web API) is an interface to configure Checkmk over HTTP - and this article introduces how to use this API.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Configuration via HTTP-API">
<meta name="og:description" content="The Checkmk HTTP API (or Web API) is an interface to configure Checkmk over HTTP - and this article introduces how to use this API.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Configuration via HTTP-API</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/de/web_api.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/en/web_api.html">2.2.0</a><a class="dropdown-item" href="../../latest/en/web_api.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host and service parameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Introduction to notifications</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMWare ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Performance data and graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Configuration via the Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
<li>
<p><a href="web_api.html">Configuration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Command reference for the HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Writing your own check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Configuration via HTTP-API</h1>
<div class="details">
<span id="revdate">Last modified on 14-Dec-2017</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/en/web_api.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody">
<div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="web_api_references.html">Command reference for the HTTP-API</a>
<a href="rest_api.html">Configuration via the Checkmk REST API</a>
<a href="wato_user.html">Users, roles and permissions</a>
<a href="wato.html">Configuring Checkmk</a>
</div>
</div>
</div>
<div class="paragraph"><p><strong>Important:</strong> <em>The Web-API (also called HTTP-API) is deprecated and will be removed in the next Checkmk version <span class="new">2.2.0</span>. The Web-API will be replaced by the <a href="rest_api.html">REST API</a>. For more information, see the <a href="update_major.html#rest-api">update to version <span class="new">2.1.0</span></a> article.</em></p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>The Web-API enables configuration tasks that are normally performed manually in <a href="wato.html">Checkmk’s configuration environment</a> by using the <span class="guihint">Setup</span> menu to be automated using HTTP-invocation. The complete Setup menu functionality is in fact not available via API, but the most important things, such as the managing of hosts, folders, instances, users, groups and more is already possible. A full list of all API functions can be found <a href="web_api_references.html">here</a>.</p></div>
<div class="paragraph"><p>Most users utilise the Web-API for connecting existing configuration management databases (CMDBs) or for automatically
linking hosts that are created automatically in a dynamic environment.</p></div>
<div class="paragraph"><p>A basic knowledge of Python and its <a href="#format">Data structures</a> are needed
for reading this article. The article is of course written as simply as possible
so that the subject is also understandable to beginners.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading__the_basics_and_requirements">
<span class="hidden-anchor sr-only" id="_the_basics_and_requirements"></span>2. The basics and requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_automation">
<span class="hidden-anchor sr-only" id="automation"></span>2.1. The automation user</h3>
<div class="paragraph"><p>To use the Web-API from a client, an automation user must be set up on the Checkmk server. Only this user is permitted to execute commands over the Web-API.</p></div>
<div class="paragraph"><p>For the authentication you need the user name and the corresponding so-called "automation secret for machine accounts", i.e. the password of the automation user. Both information must be transmitted to the Checkmk server in every command.</p></div>
<div class="paragraph"><p>On a newly-created site the <span class="guihint">automation</span> user already exists. It can be found, like other users, in <span class="guihint">Setup &gt; Users &gt; Users</span>. Make sure that the roles and the associated permissions for the automation user are set to allow the execution of your commands</p></div>
<div class="paragraph"><p>In this article the default automation user will always be used as an example.</p></div>
</div>
<div class="sect2">
<h3 id="heading_url">
<span class="hidden-anchor sr-only" id="url"></span>2.2. The URL structure</h3>
<div class="paragraph"><p>The following examples always draw on the <code>curl</code> command line program
to clarify the general syntax of the invocations. If you are using another
technology adapt the invocations as appropriate.</p></div>
<div class="paragraph"><p>For the actual URL <code>http://myserver/mysite/check_mk/webapi.py</code> various
parameters are required.
These parameters contain the access data for the automated users, and the
information regarding the tasks to be performed. If the invocation is to draw on
a particular element in Checkmk, this data will be transferred as a <em>payload</em>:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The automated users login name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_secret</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The automation password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the task to be performed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request_format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The syntax for the <code>request</code>-data. <code>python</code> or <code>json</code> are possible</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">output_format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The syntax of the answer. Here <code>python</code> and <code>json</code> are also possible</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data to be transferred if required by the <code>action</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>With <code>curl</code> the first five parameters can be transferred directly in the URL.
They begin with a <code>?</code> and are linked with a <code>&amp;</code>, and they can be coded in any order:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>curl<span class="tok-w"> </span><span class="tok-s2">"http://myserver/mysite/check_mk/webapi.py?action=get_all_hosts&amp;_username=automation&amp;_secret=mysecret&amp;output_format=python"</span>
<span class="tok-go">{'result': {'myserver123': {'attributes': {'ipaddress': '192.168.0.42'}, 'hostname': 'myserver123', 'path': ''}, 'myserver456': {'attributes': {'ipaddress': '192.168.0.73'}, 'hostname': 'myserver456', 'path': 'windows'}}, 'result_code': 0}</span></code></pre></div></div>
<div class="paragraph" id="result_code"><p>On the one hand, the answer will contain a <code>result_code</code> – this will
show if an error has occurred during the query. If the query was successful a
0 will be returned, if there has been an error a 1 will be returned.
On the other hand there is the (<code>result</code>) itself, in which the site’s
response is found. This response can be an error message if the query has failed,
or it can contain the desired data if the query has been successful.
If a command has been directed to the Checkmk server the <code>result</code> field
can under some circumstances be empty, or respectively, a <code>'None'</code> value
can be returned.</p></div>
<div class="paragraph"><p>Some commands require the <code>request</code> parameter. This contains the required
data – for example, to query a specific host’s configuration.
The switch <code>-d</code> is used to transfer this data:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>curl<span class="tok-w"> </span><span class="tok-s2">"http://myserver/mysite/check_mk/webapi.py?action=get_host&amp;_username=automation&amp;_secret=mysecret&amp;output_format=python"</span><span class="tok-w"> </span>-d<span class="tok-w"> </span><span class="tok-s1">'request={'</span>hostname<span class="tok-s1">':'</span>myserver123<span class="tok-s1">'}'</span>
<span class="tok-go">{'result': {'myserver123': {'attributes': {'ipaddress': '192.168.0.42'}, 'hostname': 'myserver123', 'path': ''}}, 'result_code': 0}</span></code></pre></div></div>
<div class="paragraph"><p><strong>Important</strong>: In the following examples and in the
<a href="web_api_references.html">Command reference</a> the input and answer are often spread
over several lines to improve readability and the overview in general.
In practice both the input and the answer will be coded without line breaks.</p></div>
</div>
<div class="sect2">
<h3 id="heading_format">
<span class="hidden-anchor sr-only" id="format"></span>2.3. Data format for the inputs and answers</h3>
<div class="paragraph"><p>The API recognises two parameters for defining the input or answer data format.
The input format is defined by <code>request_format</code>, and the answer is defined
by <code>output_format</code>.
If these parameters are not used API defaults to JSON format.</p></div>
<div class="paragraph"><p>These days however the support of JSON in Checkmk has become generally
experimental/obsolete.
Even though many commands use JSON without errors, Python should always
be used for inputs and answers.
Below is a practical example in which, for example, tuples are used in the answer:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>curl<span class="tok-w"> </span><span class="tok-s2">"http://myserver/mysite/check_mk/webapi.py?action=get_host&amp;_username=automation&amp;_secret=myautomationsecret&amp;output_format=python"</span><span class="tok-w"> </span>-d<span class="tok-w"> </span><span class="tok-s1">'request={"hostname":"myserver123"}'</span>
<span class="tok-go">{'result': {'myserver123': {'attributes': {'ipaddress': '192.168.0.42', 'management_snmp_community': ('authPriv', 'md5', 'myuser', 'mypassword', 'DES', 'myprivacypassword')}, 'hostname': 'myserver123', 'path': ''}}, 'result_code': 0}</span></code></pre></div></div>
<div class="paragraph"><p>JSON and Python have a few other differences in their data formats.
These are:</p></div>
<div class="ulist"><ul>
<li><p>In JSON the zero value is <code>'null'</code>, and in Python <code>'None'</code>.</p></li>
<li><p>As already mentioned, tuples are not used in JSON. They are used by some commands in API, and are converted to simple lists in JSON. If in the further processing a list instead of a tuple is submitted, then the data integrity in Checkmk cannot be guaranteed and the transfer of a configuration will be aborted with an error message.</p></li>
<li><p>JSON accepts only double quotes, while Python only requires the paired characters to be the same.</p></li>
<li><p>Boolean values (True and False) are coded as uppercase in Python, and as lowercase in JSON.</p></li>
</ul></div>
</div>
<div class="sect2">
<h3 id="heading_test">
<span class="hidden-anchor sr-only" id="test"></span>2.4. Testing the API locally</h3>
<div class="paragraph"><p>So that Web-API commands can be tested directly from the Checkmk server,
it makes sense to work as an instance user. You can then access local variables
and also directly read the automated user’s password.
In the following example the variables <code>$OMD_SITE</code> and <code>$OMD_ROOT</code>
which refer to the site’s name and home directory are used. The password will be
directly output with <code>cat</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>curl<span class="tok-w"> </span><span class="tok-s2">"http://localhost/</span><span class="tok-nv">$OMD_SITE</span><span class="tok-s2">/check_mk/webapi.py?action=get_all_hosts&amp;_username=automation&amp;_secret=</span><span class="tok-k">$(</span>cat<span class="tok-w"> </span><span class="tok-nv">$OMD_ROOT</span>/var/check_mk/web/automation/automation.secret<span class="tok-k">)</span><span class="tok-s2">&amp;output_format=python"</span></code></pre></div></div>
<div class="paragraph"><p>As long as the <code>automation</code> user is present this invocation will work
on every site. You could could simply copy the above example and
test it on your own site, for example. This of course can only work if the
command is executed as an instance user on the Checkmk server.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_requests">
<span class="hidden-anchor sr-only" id="requests"></span>3. Using commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__introduction_2">
<span class="hidden-anchor sr-only" id="_introduction_2"></span>3.1. Introduction</h3>
<div class="paragraph"><p>Checkmk uses a number of commands for managing the configurations of hosts,
rules and much more. Have a look in the <a href="web_api_references.html">Command reference</a>
for a description of all of the commands.</p></div>
<div class="paragraph"><p>To illustrate working with the API using a simple example, we will create a
host with its services via the Web-API using only three commands.
In principle you can proceed in exactly the same way as with Checkmk’s <a href="wato.html">Setup</a>:</p></div>
<div class="ulist"><ul>
<li><p>Create a host</p></li>
<li><p>Execute a Service Discovery on the host</p></li>
<li><p>Activate the changes</p></li>
</ul></div>
</div>
<div class="sect2">
<h3 id="heading__creating_a_host">
<span class="hidden-anchor sr-only" id="_creating_a_host"></span>3.2. Creating a host</h3>
<div class="paragraph"><p>A host can be created in Checkmk with the <a href="web_api_references.html#hosts"><code>add_host</code></a> command.
For this the minimum requirement is a host name and the directory where it
is to be stored. Additionally, available attributes such as, for example,
a host’s IP-address, can also be explicitly defined.
The <code>request</code>-component will look like this, for example:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-go">{'hostname': 'myserver123',</span>
<span class="tok-go"> 'folder': '',</span>
<span class="tok-go"> 'attributes': {'ipaddress': '192.168.0.42',</span>
<span class="tok-go">                'site': 'mysite',</span>
<span class="tok-go">                'tag_agent': 'cmk-agent'}}</span></code></pre></div></div>
<div class="paragraph"><p>In the above example the host <code>myserver123</code> will be stored in the main
directory. In the process it will receive an IP-address, and additionally be
defined as a host that receives its data from a Checkmk agent,
and it will be assigned to the instance <code>mysite</code>.
To test on the command line, the host can be created as follows
(substitute your own real values for the placeholders):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>curl<span class="tok-w"> </span><span class="tok-s2">"http://myserver/mysite/check_mk/webapi.py?action=add_host&amp;_username=automation&amp;_secret=myautomationsecret&amp;request_format=python"</span><span class="tok-w"> </span>-d<span class="tok-w"> </span><span class="tok-s1">'request={"hostname":"myserver123","folder":"","attributes":{"ipaddress":"192.168.0.42","site":"mysite","tag_agent":"cmk-agent"}}'</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__executing_a_service_discovery">
<span class="hidden-anchor sr-only" id="_executing_a_service_discovery"></span>3.3. Executing a Service Discovery</h3>
<div class="paragraph"><p>Once the host has been created, services can be added to it.
Here enter the host name, and specify
<a href="web_api_references.html#discover_services">the type of Service Discovery</a> as required.
If nothing is entered only the newly-discovered services will be added:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>curl<span class="tok-w"> </span><span class="tok-s2">"http://myserver/mysite/check_mk/webapi.py?action=discover_services&amp;_username=automation&amp;_secret=myautomationsecret"</span><span class="tok-w"> </span>-d<span class="tok-w"> </span><span class="tok-s1">'request={"hostname":"myserver123"}'</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__activating_changes">
<span class="hidden-anchor sr-only" id="_activating_changes"></span>3.4. Activating changes</h3>
<div class="paragraph"><p>Finally, the changes can be activated as in Checkmk’s <a href="wato.html#activate_changes">Setup</a>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>curl<span class="tok-w"> </span><span class="tok-s2">"http://myserver/mysite/check_mk/webapi.py?_secret=myautomationsecret&amp;_username=automation&amp;action=activate_changes"</span><span class="tok-w"> </span>-d<span class="tok-w"> </span><span class="tok-s1">'request={"sites":["mysite"]}'</span></code></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__securing_a_web_api">
<span class="hidden-anchor sr-only" id="_securing_a_web_api"></span>4. Securing a Web-API</h2>
<div class="sectionbody">
<div class="paragraph"><p>Since an access over the Web-API can contain sensitive data, and it could –
depending on the automated user’s permissions – perform comprehensive
alterations to Checkmk, it would be desirable to have appropriate security
for the access. The following are a couple of options for this security:</p></div>
<div class="ulist"><ul>
<li><p><a href="omd_https.html">Checkmk over HTTPS</a>: Use the Web-API exclusively over Hypertext Transfer Protocol Secure (HTTPS), otherwise user names, passwords and also configuration data will be transmitted over the web in plain text.</p></li>
<li><p>Give the automated user a password of sufficient length. Because as a rule this will only need to be coded once in a script it is no problem to assign a very long one.</p></li>
<li><p>Pay close attention to the authorisation concept for scripts. Sensitive data such as configuration data, passwords, etc., can be  included in them. Ensure that only authorised users and groups can read these scripts.</p></li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="heading__error_handling">
<span class="hidden-anchor sr-only" id="_error_handling"></span>5. Error handling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__overview">
<span class="hidden-anchor sr-only" id="_overview"></span>5.1. Overview</h3>
<div class="paragraph"><p>As explained <a href="#result_code">above</a>, a query returns an error code
if it was unsuccessful. This is contained in the <code>result_code</code>.
A description of the error is included in the <code>result</code> itself.
This is a good place to start an analysis of the problem.</p></div>
<div class="paragraph"><p>Also check whether the following requirements have been met:</p></div>
<div class="ulist"><ul>
<li><p>The automated user has the necessary permissions for reading or setting configuration data.</p></li>
<li><p>The individual parameters have a leading question mark (?), and are linked with an ampersand (&amp;). Also note that the <code><em>username</em></code> and <code>_secret</code> begin with an underscore ().</p></li>
<li><p>The <code>request</code>-component has the correct syntax.</p></li>
</ul></div>
</div>
<div class="sect2">
<h3 id="heading__permissions">
<span class="hidden-anchor sr-only" id="_permissions"></span>5.2. Permissions</h3>
<div class="paragraph"><p>As already mentioned an automated user’s permissions can be a source of errors if,
for example, configuration data is to be retrieved.
The <span class="guihint">automation</span> user supplied with Checkmk has the <span class="guihint">Administrator</span> role
and it can thus see and process everything.
Because every available <a href="wato_user.html#roles">role</a> can be assigned to an automated user,
the <a href="wato_user.html#wato_permissions">contact groups</a> must be adapted as appropriate
to be able to query or process specific hosts. In the case of an error,
check that these permissions are correct for the relevant automated user.</p></div>
</div>
<div class="sect2">
<h3 id="heading__command_syntax">
<span class="hidden-anchor sr-only" id="_command_syntax"></span>5.3. Command syntax</h3>
<div class="paragraph"><p>When testing with <code>curl</code> it will quickly become confusing in the
<code>request</code>-component. Therefore always check whether the syntax is correct
(even if you are not using <code>curl</code>).</p></div>
<div class="paragraph"><p>Coding the <code>request</code>-component in a file can be quite a good method
to aid with visualisation:</p></div>
<div class="listingblock">
<div class="title">~/home/myuser/pattern.txt</div>
<div class="content"><pre class="pygments highlight"><code><span></span>{"users": {"myuser": {"alias": "My User",
                      "email": "myuser@mycompany.org",
                      "language": None,
                      "pager": "01374-12233456",
                      "password": "mypassword"}}}</code></pre></div>
</div>
<div class="paragraph"><p>These lines can also be copied into a Python-Prompt, and then they can be
output in one line with the <code>print</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>python
<span class="tok-go">&gt;&gt;&gt; print {"users": {"myuser": {"alias": "My User",</span>
<span class="tok-go">...                       "email": "<a href="mailto:myuser@mycompany.org">myuser@mycompany.org</a>",</span>
<span class="tok-go">...                       "language": None,</span>
<span class="tok-go">...                       "pager": "01374-12233456",</span>
<span class="tok-go">...                       "password": "mypassword"}}}</span>
<span class="tok-go">{'users': {'myuser': {'alias': 'My User', 'password': 'mypassword', 'pager': '01374-12233456', 'email': '<a href="mailto:myuser@mycompany.org">myuser@mycompany.org</a>', 'language': None}}}</span></code></pre></div></div>
<div class="paragraph"><p>By the way, the blank characters can remain in the <code>curl</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>curl<span class="tok-w"> </span><span class="tok-s2">"<a class="bare" href="http://localhost/">localhost/</a></span><span class="tok-nv">$OMD_SITE</span><span class="tok-s2">/check_mk/webapi.py?action=add_users&amp;_username=automation&amp;_secret=</span><span class="tok-k">$(</span>cat<span class="tok-w"> </span><span class="tok-nv">$OMD_ROOT</span>/var/check_mk/web/automation/automation.secret<span class="tok-k">)</span><span class="tok-s2">&amp;output_format=python&amp;request_format=python"</span><span class="tok-w"> </span>-d<span class="tok-w"> </span><span class="tok-s2">"request={'users': {'myuser': {'alias': 'My User', 'password': 'mypassword', 'pager': '01374-12233456', 'email': '<a href="mailto:myuser@mycompany.org">myuser@mycompany.org</a>', 'language': None}}}"</span>
<span class="tok-go">{'result': None, 'result_code': 0}</span></code></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__files_and_directories">
<span class="hidden-anchor sr-only" id="_files_and_directories"></span>6. Files and directories</h2>
<div class="sectionbody"><table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Function</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/conf.d/wato/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The directories stored here are the directories which are displayed with their hosts in the <span class="guihint">Main directory</span>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/conf.d/wato/.wato</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A directory’s attributes and title are defined in this file. It is found in every directory under <code>WATO</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/conf.d/wato/hosts.mk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Here the host’s configuration which will be assigned to the appropriate directory is defined. This file is also present in every directory under <code>WATO</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/conf.d/wato/group.mk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All defined groups are found here – including contact, service and host groups. There is only one version of this file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/multisite.d/wato/users.mk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User settings in Checkmk are defined in this file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/conf.d/wato/rules.mk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In this file the rules defined for every directory under <code>WATO</code> are held.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/multisite.d/wato/hosttags.mk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All host tags and auxiliary tags are defined here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">etc/check_mk/multisite.d/sites.mk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All sites with their attributes are listed here. The local site will also be held here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">var/check_mk/agents/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Created/baked agents are stored here. For every host there is a link stored here which identifies the host’s installation packet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">var/check_mk/web/myuser/user_custom_graphs.mk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Self-created graphs are stored with the respective user. In the example shown here it is the user ‘myuser’.</p></td>
</tr>
</tbody>
</table></div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li>
<a href="#_the_basics_and_requirements">2. The basics and requirements</a><ul class="sectlevel1">
<li><a href="#automation">2.1. The automation user</a></li>
<li><a href="#url">2.2. The URL structure</a></li>
<li><a href="#format">2.3. Data format for the inputs and answers</a></li>
<li><a href="#test">2.4. Testing the API locally</a></li>
</ul>
</li>
<li>
<a href="#requests">3. Using commands</a><ul class="sectlevel1">
<li><a href="#_introduction_2">3.1. Introduction</a></li>
<li><a href="#_creating_a_host">3.2. Creating a host</a></li>
<li><a href="#_executing_a_service_discovery">3.3. Executing a Service Discovery</a></li>
<li><a href="#_activating_changes">3.4. Activating changes</a></li>
</ul>
</li>
<li><a href="#_securing_a_web_api">4. Securing a Web-API</a></li>
<li>
<a href="#_error_handling">5. Error handling</a><ul class="sectlevel1">
<li><a href="#_overview">5.1. Overview</a></li>
<li><a href="#_permissions">5.2. Permissions</a></li>
<li><a href="#_command_syntax">5.3. Command syntax</a></li>
</ul>
</li>
<li><a href="#_files_and_directories">6. Files and directories</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
