<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="Here you will get a quick overview of how to monitor servers, switches, and other devices – and how the agent works.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Monitoring agents - Monitoring devices in a network with Checkmk">
<meta name="og:description" content="Here you will get a quick overview of how to monitor servers, switches, and other devices – and how the agent works.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Monitoring agents - Monitoring devices in a network with Checkmk</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/de/wato_monitoringagents.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/en/wato_monitoringagents.html">2.2.0</a><a class="dropdown-item" href="../../latest/en/wato_monitoringagents.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host and service parameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Introduction to notifications</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMWare ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Performance data and graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Configuration via the Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
<li>
<p><a href="web_api.html">Configuration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Command reference for the HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Writing your own check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Monitoring agents</h1>
<div class="details">
<span id="revdate">Last modified on 21-Jul-2022</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/en/wato_monitoringagents.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="agent_linux.html">Monitoring Linux</a>
<a href="agent_windows.html">Monitoring Windows</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>For a monitoring system to receive more information from an endpoint other than that it is simply accessible, help is required from the target system.
For example — how else can Checkmk know how full a server’s storage volume is without that system somehow providing the information?
The component that provides this information is always an active piece of software — namely a <em>monitoring agent</em>, usually just referred to as an <em>agent.</em>
An agent collects data relevant to monitoring from a host at specified intervals and transmits that data to the monitoring server.</p></div>
<div class="paragraph"><p>For servers and workstations, Checkmk provides its own agents, these are known as <em>Checkmk agents</em>.
Checkmk agents are available for a wide variety of operating systems — from the commonplace such as Windows and Linux to exotics such as OpenVMS.
The agents are passive and listen on TCP port 6556.
Only on receiving a Checkmk server query will these agents be activated and respond with the required data.</p></div>
<div class="paragraph"><p>All of the Checkmk agents can be found via the web interface in the <span class="guihint">Setup</span> menu.
From there you can download the agents and install them on the target system.
You can learn how to install, configure and extend Checkmk agents in this article.</p></div>
<div class="paragraph"><p>However, there are situations where one does not need to <em>install</em> an agent for monitoring — since one that can be used is already present.
The best example is SNMP:
All manageable network devices and appliances have a built-in <a href="snmp.html">SNMP agent</a>.
Checkmk accesses this SNMP agent and retrieves details about the system state with active queries (GET).</p></div>
<div class="paragraph"><p>Some systems however allow neither an agent installation, nor do they support SNMP in a usable form.
Instead of these they offer application programming interfaces for management, so-called <em>APIs</em>, based on Telnet, SSH or HTTP/XML.
Checkmk queries such interfaces via these so-called <a href="datasource_programs.html#specialagents">special agents</a> running on the Checkmk server.</p></div>
<div class="paragraph"><p>Finally, a special scenario is the monitoring of network services such as HTTP, SMTP or IMAP.
In the case of a network service the obvious procedure is to query and to monitor the service over the network.
For this Checkmk sometimes uses its own, sometimes existing plug-ins originally developed for Nagios.
These are also called <a href="active_checks.html">active checks</a>.
For example, <code>check_http</code> is very popular for querying websites.
But even in this case there is usually an additional agent in use which provides supplementary server data to the monitoring.</p></div>
<div class="paragraph"><p>The following image shows the various ways that Checkmk can access systems to be monitored:</p></div>
<div class="imageblock border"><div class="content"><img src="../images/monitoringagents_agent_access.png" alt="Illustration of the ways Checkmk accesses monitored systems."></div></div>
<div class="paragraph"><p>Until now we have only discussed <em>active</em> monitoring — Checkmk’s showpiece discipline.
There is also the reverse method: namely that by which the target system itself sends messages to the monitoring, for example, via syslog or SNMP traps.
For these functions Checkmk has its <em>Event Console</em> which is described in its <a href="ec.html">own article</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_agents">
<span class="hidden-anchor sr-only" id="agents"></span>2. The Checkmk agent</h2>
<div class="sectionbody">
<div class="paragraph"><p>To monitor a server or workstation you need a small program, the Checkmk agent, which must be installed on the host.</p></div>
<div class="paragraph"><p>The agent is a simple shell script that is minimalistic, secure, and easily extendable.
From Checkmk version <span class="new">2.1.0</span>, there is a new agent that extends the shell script.
More precisely, the <strong>agent script</strong> is joined by a new component: the <strong>Agent Controller</strong>.
The Agent Controller precedes the agent script, queries it and communicates with the Checkmk server on the script’s behalf.
To do this, the Agent Controller registers with the <strong>Agent Receiver</strong>, which is also a new process running on the Checkmk server.</p></div>
<div class="imageblock border">
<div class="content"><img src="../images/monitoringagents_communication_flow.png" alt="Illustration of communication between agent and site."></div>
<div class="title">Interaction of the software components</div>
</div>
<div class="paragraph"><p>This architecture is identical for both the <a href="agent_linux.html#agent_architecture">Linux agent</a> and the <a href="agent_windows.html#agent_architecture">Windows agent</a>.
Only the technical implementation is specific to each operating system.</p></div>
<div class="paragraph"><p>The <strong>agent script</strong> is:</p></div>
<div class="ulist"><ul>
<li><p>minimalistic, since it only needs minimal resources of RAM, CPU, disk space and network.</p></li>
<li><p>secure, because it does not allow any access from the network.</p></li>
<li><p>easily extendable, because you can write plug-ins in any programming or scripting language and have them executed by the agent script.</p></li>
</ul></div>
<div class="paragraph"><p>The <strong>Agent Controller</strong> is the component within the agent that is responsible for transporting the data collected by the agent script.
It listens on TCP port 6556 for incoming connections from the Checkmk site and queries the agent script.</p></div>
<div class="paragraph"><p>So why is the Agent Controller needed — the system has been working just fine without it up until now?
Well, the software architecture of the agent is the prerequisite for providing new features that cannot be implemented with the minimalistic design of the agent script, such as encryption of the communication via Transport Layer Security (TLS), data compression and reversal of the communication direction.
Until now, it was always the Checkmk server that initiated the communication and requested the data from the agent — in what is known as <em>pull mode</em>.</p></div>
<div class="paragraph"><p>Adding the Agent Controller satisfies the prerequisite for a future implementation of the <em>push mode</em>, in which a transfer is initiated by an agent.
Push mode is required for a cloud-based configuration and in some compartmentalized networks.
In both cases, the Checkmk server cannot access a network in which the hosts to be monitored are located.
The agent therefore periodically sends the data to the Checkmk server on a standalone basis.
The Agent Controller and Agent Receiver are already prepared for push mode, even though this mode will be available only with the next Checkmk version for the new Checkmk Plus Edition (CPE).</p></div>
<div class="paragraph"><p>The <strong>Agent Receiver</strong> is the Checkmk server component that serves as the general endpoint for the Agent Controller’s communication, e.g. for registering a connection.
It will continue to receive data sent by the Agent Controller in push mode.
In pull mode, data is exchanged with the fetchers on the site, in the Enterprise Editions these are the <a href="cmc_differences.html#fetcher_checker">Checkmk Fetchers</a>.</p></div>
<div class="paragraph"><p>TLS encryption and data compression are achieved via the Agent Controller and Agent Receiver, i.e. both the Checkmk server and agent must be of version <span class="new">2.1.0</span> or higher.
The first step after an installation is the registration of the Agent Controller with the Checkmk site’s Agent Receiver, which establishes a trust relationship.
The TLS encryption of the communication process will be set up during this registration.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_download_page">
<span class="hidden-anchor sr-only" id="download_page"></span>3. Downloading the agent from the download page</h2>
<div class="sectionbody">
<div class="paragraph"><p>Agents for eleven different operating system families are currently maintained in the Checkmk project.
All of these agents are components in Checkmk, and are available for downloading via the Checkmk server’s web interface.
These agents are accessed via via <span class="guihint">Setup &gt; Agents</span>.</p></div>
<div class="paragraph"><p>In the <span class="image-inline"><img src="../images/CRE.svg" alt="CRE" width="20" title="Checkmk Raw Edition"></span> <strong>Checkmk Raw Edition</strong>, the menu items <span class="guihint">Linux</span>, <span class="guihint">Windows</span> and <span class="guihint">Other operating systems</span> will take you directly to the download pages where you will find the pre-configured agents and agent plug-ins, in the following example to the download page for <span class="guihint">Linux, Solaris, AIX</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_download_linux_cre.png" alt="List of Linux agents for download in the Raw Edition."></div></div>
<div class="paragraph"><p>In the <span class="image-inline"><img src="../images/CEE.svg" alt="CEE" width="20" title="Checkmk Enterprise Editions"></span> <strong>Checkmk Enterprise Editions</strong>, the menu item <span class="guihint">Windows, Linux, Solaris, AIX</span> takes you to a page that also gives you access to the <a href="#bakery">Agent Bakery</a>.
From this page, the <span class="guihint">Related</span> menu item will take you to the agent files pages as in the Raw Edition.</p></div>
<div class="paragraph"><p>The packaged agents for Linux (in RPM and DEB file formats) and for Windows (in MSI file format) are found right in the first box of the corresponding download page.
In these software packages you will find the new agent with Agent Controller since version <span class="new">2.1.0</span>.
The installation and configuration is described in detail in the articles on <a href="agent_linux.html#install">Linux agents</a> and <a href="agent_windows.html#install">Windows agents</a>.</p></div>
<div class="paragraph"><p>In the <span class="guihint">Agents</span> box you can find the appropriate agent scripts for the various operating systems.
For operating systems on which the agent must be set up in the legacy mode (i.e., without an Agent Controller), there are the articles on <a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a> and <a href="agent_freebsd.html">Monitoring FreeBSD</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_bakery">
<span class="hidden-anchor sr-only" id="bakery"></span>4. The Agent Bakery</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__introduction_2">
<span class="hidden-anchor sr-only" id="_introduction_2"></span>4.1. Introduction</h3>
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span>
If you use one of the <span class="image-inline"><img src="../images/CEE.svg" alt="CEE" width="20" title="Checkmk Enterprise Editions"></span> <strong>Checkmk Enterprise Editions</strong> you can package personalized agents with the <em>Agent Bakery</em>.
In this way, alongside the existing agents, you can also create (or ‘bake‘) agent packages that contain custom configurations and additional or optional plug-ins.
You can install these packages with a single command.
Such packages are ideal for automatic distribution and installation.
You can even create personalized agents for folders or specific groups of hosts.
This allows great flexibility through the use of the <a href="agent_deployment.html">automatic agent updates</a>.</p></div>
<div class="paragraph"><p>While it is true that the Checkmk agent can function ‘naked’ immediately — without needing configuration, and without plug-ins — nonetheless in some cases the agent does need to be set up.
Some examples:</p></div>
<div class="ulist"><ul>
<li><p>Restriction of access to specific IP addresses</p></li>
<li><p>Monitoring of Oracle databases (a plug-in and configuration are required)</p></li>
<li><p>Monitoring of text log files (a plug-in, data names and a text-patterns are required)</p></li>
<li><p>Utilization of the <a href="inventory.html">hardware/software inventory</a> (a plug-in required)</p></li>
</ul></div>
</div>
<div class="sect2">
<h3 id="heading_bakery_download">
<span class="hidden-anchor sr-only" id="bakery_download"></span>4.2. Downloading the agent</h3>
<div class="paragraph"><p>You can access the Agent Bakery via <span class="guihint">Setup &gt; Agents &gt; Windows, Linux, Solaris, AIX</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_agent_bakery_main.png" alt="Entry page to the Agent Bakery."></div></div>
<div class="paragraph"><p>Checkmk supports Windows, Linux, Solaris and AIX operating systems with the Agent Bakery.
For Linux you have a choice between the package formats RPM (for Red Hat Enterprise Linux (RHEL) based systems, SLES) and DEB (for Debian, Ubuntu),
as well as a so-called 'tarball' in the TGZ file format that is simply unpacked as <code>root</code> under <code>/</code>.
Likewise, a tarball is available for AIX, however this does not include automatic integration into the <code>inetd</code>.
The integration must be performed manually as a one-off action.
For Solaris there is again the tarball and a PKG package.</p></div>
<div class="paragraph"><p>If you have not yet made any settings for specific hosts, there is only one default agent configuration.
An explanation of the various possible agent configurations will be provided in the next two sections.</p></div>
<div class="paragraph"><p>Every agent configuration has an explicit ID: its <span class="guihint">hash</span>.
A hash’s first eight characters are displayed in the GUI.
This hash will be a part of the package version and embedded in the package file name.
Whenever you change something in a package’s configuration or update Checkmk, the package’s hash will also be changed.
In this way the operating system’s package manager recognizes that it is a different package and perform an update.
Checkmk’s version number would not suffice to distinguish here.</p></div>
<div class="paragraph"><p>Baked packages for Linux and Windows are installed in the same way as the packages available on the <a href="#download_page">Checkmk download page</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__configuration_using_rules">
<span class="hidden-anchor sr-only" id="_configuration_using_rules"></span>4.3. Configuration using rules</h3>
<div class="paragraph"><p>The agent’s configuration can be altered — as is so often the case in Checkmk — via <a href="wato_rules.html">rules</a>.
These offer you the possibility of equipping different hosts with differing settings or plug-ins.
The <span class="guihint">Agent rules</span> button takes you to a page which lists all of the rule sets that affect the agents:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_agent_rules.png" alt="List of rules for the agents."></div></div>
<div class="paragraph"><p>Let’s take the following example:
you wish to limit the list of IP addresses that are permitted to access the agent.
For this you select the <span class="guihint">Generic Options &gt; Allowed agent access via IP address (Linux, Windows)</span> rule set.
Enter one or more IP addresses as the rule’s value:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_agent_rule_ipaccess.png" alt="Rule to restrict IP addresses to access the agent."></div></div>
<div class="paragraph"><p>Leave the default values in the <span class="guihint">Conditions</span> box unchanged so that this rule applies to all hosts.
Save the new rule.</p></div>
</div>
<div class="sect2">
<h3 id="heading_agent_configurations">
<span class="hidden-anchor sr-only" id="agent_configurations"></span>4.4. The agent configurations</h3>
<div class="paragraph"><p>After saving, go back to the <span class="guihint">Windows, Linux, Solaris, AIX</span> page.
The <span class="image-inline"><img src="../images/icons/button_bake_agents.png" alt="Icon for baking the agents."></span> button ensures that the agent will be freshly-baked.
The result — you now have two individual configurations:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_agent_bakery_agentlist.png" alt="List with two agent configurations to download."></div></div>
<div class="paragraph"><p>In the <span class="guihint">Agent type</span> column you can read which hosts the respective configuration is assigned to.
For space reasons this list may not be complete.</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Vanilla (factory settings)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The agent packages contain only the default configuration and thus <strong>no</strong> single agent rule.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Folders</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The agent packages contain <strong>all</strong> agent rules in which no conditions are defined for hosts and which apply to the listed folders.<br>
Agent packages are created specifically for a folder if the attribute <span class="guihint">Bake agent packages</span> is set to <span class="guihint">Bake a generic agent package for this folder</span> in the <span class="guihint">Folder properties</span>.
This attribute applies only to the folder and is not inherited.<br>
This entry is useful for creating agents for hosts that do not yet exist in Checkmk.
The folder can even be empty — in preparation for the automatic creation of hosts that will be introduced with the Cloud Edition of Checkmk <span class="new">2.2.0</span>.
By default, agent packages are only created for the <span class="guihint">Main</span> (or <span class="guihint">root folder</span>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Hosts</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The agent packages contain <strong>all</strong> of the agent rules that apply to the hosts in the the list.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>For the example shown above, the <span class="guihint">Allowed agent access via IP address (Linux, Windows)</span> rule was created without conditions for hosts.
The new agent configuration therefore applies to the <span class="guihint">Main</span> folder and to <code>localhost</code>, currently the site’s only host.</p></div>
<div class="paragraph"><p>The more host-specific rules you deploy, the more different variants of agents will be built.
The Agent Bakery takes care to build only those configurations that are used by at least one of the existing folders or hosts.</p></div>
<div class="paragraph"><p>By the way, you can also access a host’s agent packages conveniently via the host’s properties
by clicking on the host in <span class="guihint">Setup &gt; Hosts &gt; Hosts</span> and selecting <span class="guihint">Monitoring agent</span> in the <span class="guihint">Hosts</span> menu:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_download_host_agent.png" alt="List of agents for a host to download."></div></div>
<div class="paragraph"><p>Why are packages for all operating systems provided for every host?
The answer is very simple:
if no agent is installed on a system Checkmk cannot of course recognize the operating system.
In any case, once <a href="agent_deployment.html">automatic agent updates</a> are activated you don’t need to do anything more.</p></div>
</div>
<div class="sect2">
<h3 id="heading__extending_via_plug_ins">
<span class="hidden-anchor sr-only" id="_extending_via_plug_ins"></span>4.5. Extending via plug-ins</h3>
<div class="paragraph"><p>Many rules are concerned with the installation of various <em>plug-ins</em>.
These extend the agent for the monitoring of quite specific components.
Most of these are special applications such as databases, for example.
Alongside the rule that activates a plug-in you will also find the settings for configuring the plug-in.
Here, for example, is the rule for monitoring MySQL:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_agent_rule_mysql.png" alt="Rule for the MySQL plug-in of the agent."></div></div>
</div>
<div class="sect2">
<h3 id="heading__configuration_files">
<span class="hidden-anchor sr-only" id="_configuration_files"></span>4.6. Configuration files</h3>
<div class="paragraph"><p>Be careful <strong>not to manually modify</strong> configuration files generated by the Agent Bakery on the target system.
While manual changes will work for now, the next time you update the agent, the changes will be lost again.
However it is possible to install additional plug-ins and configuration files without problems.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_agent_update">
<span class="hidden-anchor sr-only" id="agent_update"></span>5. When should an agent be updated?</h2>
<div class="sectionbody">
<div class="paragraph"><p>Regardless of whether you monitor only a handful — or even thousands of hosts — updating the Checkmk agent on all hosts is always a larger operation.
The <a href="agent_deployment.html">automatic agent update</a> in the <span class="image-inline"><img src="../images/CEE.svg" alt="CEE" width="20" title="Checkmk Enterprise Editions"></span> <strong>Checkmk Enterprise Editions</strong> is however a big help.
Nonetheless, you should really only update the agent when:</p></div>
<div class="ulist"><ul>
<li><p>the update solves a problem affecting you, or</p></li>
<li><p>the update includes required new functions.</p></li>
</ul></div>
<div class="paragraph"><p>In order for this to be possible a general rule applies in Checkmk:
Newer versions of Checkmk can basically handle the output of older agents.</p></div>
<div class="paragraph"><p><strong>Important:</strong> the reverse is not necessarily true.
If an agent’s Checkmk version is newer than that of the monitoring server it is possible that the check plug-ins there cannot interpret the agent’s output correctly.
In such a case the affected services go into an <span class="state3">UNKNOWN</span> status:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_crashed_check.png" alt="List of services in UNKNOWN status due to a failed check."></div></div>
<div class="paragraph"><p>Even if the output in the above image suggests otherwise, please do <em>not</em> send a crash report in such a case.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_diagnostics">
<span class="hidden-anchor sr-only" id="diagnostics"></span>6. Error diagnosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__testing_the_agent_via_the_command_line">
<span class="hidden-anchor sr-only" id="_testing_the_agent_via_the_command_line"></span>6.1. Testing the agent via the command line</h3>
<div class="paragraph"><p>A correctly-installed agent can be very easily queried from the command line.
The best way to do this is directly from the Checkmk site that is also actively monitoring the agent.
In this way you can be certain that the server’s IP address will be accepted by the agent.
Suitable commands are e.g. <code>telnet</code> and <code>netcat</code> (or <code>nc</code>).</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span><span class="tok-nb">echo</span><span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>nc<span class="tok-w"> </span><span class="tok-m">10</span>.1.1.2<span class="tok-w"> </span><span class="tok-m">6556</span>
<span class="tok-go">16</span></code></pre></div></div>
<div class="paragraph"><p>The <code>16</code> output indicates that the connection established via TCP port 6556 was successful and the TLS handshake can now take place.
The agent has been registered with the Checkmk site via the Agent Controller, so the communication is TLS encrypted and no agent output will be displayed.
For registration details, see the <a href="agent_linux.html#registration">Linux agent</a> and the <a href="agent_windows.html#registration">Windows agent</a> articles.</p></div>
<div class="paragraph"><p>If the communication between agent and Checkmk server is <em>still</em> unencrypted (as in legacy pull mode) or is and remains unencrypted (as in legacy mode), this command will give you the complete unencrypted agent output instead of the <code>16</code> (of which only the first lines are shown below):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span><span class="tok-nb">echo</span><span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>nc<span class="tok-w"> </span><span class="tok-m">10</span>.1.1.2<span class="tok-w"> </span><span class="tok-m">6556</span>
<span class="tok-go">&lt;&lt;&lt;check_mk&gt;&gt;&gt;</span>
<span class="tok-go">Version: 2.1.0p1</span>
<span class="tok-go">AgentOS: linux</span>
<span class="tok-go">Hostname: mycmkserver</span>
<span class="tok-go">AgentDirectory: /etc/check_mk</span>
<span class="tok-go">DataDirectory: /var/lib/check_mk_agent</span>
<span class="tok-go">SpoolDirectory: /var/lib/check_mk_agent/spool</span>
<span class="tok-go">PluginsDirectory: /usr/lib/check_mk_agent/plugins</span></code></pre></div></div>
<div class="paragraph"><p>The output always begins with the line <code>&lt;&lt;&lt;check_mk&gt;&gt;&gt;</code>.
Lines included in <code>&lt;&lt;&lt;</code> and <code>&gt;&gt;&gt;</code> are called <em>section headers</em>.
These divide the agent output into sections.
Each section contains related information and is usually simply the output from a diagnostic command.
The <code>check_mk</code> section plays a special role.
It contains general information about the agent such as e.g., its version number.</p></div>
<div class="paragraph"><p>If the host is already being monitored you can also fetch the data with the <code>cmk -d</code> <a href="cmk_commandline.html#dump_agent">command</a>.
This uses the IP address configured in the <span class="guihint">Setup</span>, allows for a possibly reconfigured port number, and also for any special agent that may be present:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>cmk<span class="tok-w"> </span>-d<span class="tok-w"> </span>mycmkserver
<span class="tok-go">&lt;&lt;&lt;check_mk&gt;&gt;&gt;</span>
<span class="tok-go">Version: 2.1.0p1</span></code></pre></div></div>
<div class="paragraph"><p>If monitoring is already running regularly for the host in question a current copy of the output can always be found in the <code>~/tmp/check_mk/cache</code> site directory:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>cat<span class="tok-w"> </span>tmp/check_mk/cache/mycmkserver
<span class="tok-go">&lt;&lt;&lt;check_mk&gt;&gt;&gt;</span>
<span class="tok-go">Version: 2.1.0p1</span></code></pre></div></div>
<div class="paragraph"><p><strong>Note:</strong> For information on more diagnostic commands that can be run on the agent host, see the <a href="agent_linux.html#test">Linux agent</a> and <a href="agent_windows.html#test">Windows agent</a> articles.</p></div>
</div>
<div class="sect2">
<h3 id="heading_diagnosticpage">
<span class="hidden-anchor sr-only" id="diagnosticpage"></span>6.2. Testing the agent via the web interface</h3>
<div class="paragraph"><p>You can also conduct a diagnosis of the agent via the web interface.
This takes all settings into consideration and also supports SNMP devices and those queried using special agents.
In effect, Checkmk always attempts to query via TCP port 6556 <strong>and</strong> SNMP simultaneously.</p></div>
<div class="paragraph"><p>You can access the connection test via the host properties:
On the <span class="guihint">Properties of host</span> page, select <span class="guihint">Host &gt; Connection tests</span> from the menu, and start the test by clicking <span class="guihint">Run tests</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoringagents_host_diag.png" alt="Result of the connection test to a host."></div></div>
<div class="paragraph"><p>You can try out quite a few of the settings (for example, the SNMP community) right away, and save them when successful.</p></div>
</div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#agents">2. The Checkmk agent</a></li>
<li><a href="#download_page">3. Downloading the agent from the download page</a></li>
<li>
<a href="#bakery">4. The Agent Bakery</a><ul class="sectlevel1">
<li><a href="#_introduction_2">4.1. Introduction</a></li>
<li><a href="#bakery_download">4.2. Downloading the agent</a></li>
<li><a href="#_configuration_using_rules">4.3. Configuration using rules</a></li>
<li><a href="#agent_configurations">4.4. The agent configurations</a></li>
<li><a href="#_extending_via_plug_ins">4.5. Extending via plug-ins</a></li>
<li><a href="#_configuration_files">4.6. Configuration files</a></li>
</ul>
</li>
<li><a href="#agent_update">5. When should an agent be updated?</a></li>
<li>
<a href="#diagnostics">6. Error diagnosis</a><ul class="sectlevel1">
<li><a href="#_testing_the_agent_via_the_command_line">6.1. Testing the agent via the command line</a></li>
<li><a href="#diagnosticpage">6.2. Testing the agent via the web interface</a></li>
</ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
