<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="How to monitor and seamlessly integrate Amazon S3, EC2, EBS, RDS and ELB or their costs into Checkmk without an agent is described here.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Monitoring Amazon Web Services (AWS)">
<meta name="og:description" content="How to monitor and seamlessly integrate Amazon S3, EC2, EBS, RDS and ELB or their costs into Checkmk without an agent is described here.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Monitoring Amazon Web Services (AWS)</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/de/monitoring_aws.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/en/monitoring_aws.html">2.2.0</a><a class="dropdown-item" href="../../latest/en/monitoring_aws.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host and service parameters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Introduction to notifications</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMWare ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Performance data and graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">The Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Configuration via the Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
<li>
<p><a href="web_api.html">Configuration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Command reference for the HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Writing your own check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Monitoring Amazon Web Services (AWS)</h1>
<div class="details">
<span id="revdate">Last modified on 06-Jan-2022</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/en/monitoring_aws.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="monitoring_azure.html">Monitoring Microsoft Azure</a>
<a href="check_plugins_catalog.html">Catalog of Check Plug-ins</a>
<a href="dcd.html">Dynamic host configuration</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="imageblock inline-image"><div class="content"><img src="../images/logo_aws.png" alt="logo aws" width="140"></div></div>
<div class="paragraph"><p>According to a survey among our users,
<a href="https://docs.aws.amazon.com/aws-technical-content/latest/aws-overview/introduction.html" target="_blank">Amazon Web Services</a>
is currently the most important provider of cloud-based
Services, so goes without saying that Checkmk must here provide excellent monitoring.</p></div>
<div class="paragraph"><p>Checkmk contains a comprehensive monitoring for AWS which consists of a connector
to AWS and an impressive collection of check plug-ins consisting of various
metrics for the retrieval and evaluation of states. Because of the amount
of check plug-ins only some of them, to show the AWS areas that Checkmk
can currently monitor:</p></div>
<div class="ulist"><ul>
<li><p><a href="https://checkmk.com/cms_check_aws_ebs_summary.html" target="_blank">AWS EBS Summary</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_ec2.html" target="_blank">AWS EC2 Instance Status</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_elb.html" target="_blank">AWS ELB Statistics</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_elbv2_application_statistics.html" target="_blank">AWS ELB Application Statistics</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_elbv2_network_statistics.html" target="_blank">AWS ELB Network Statistics</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_rds_summary_db_status.html" target="_blank">AWS RDS Database Info</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_s3_summary.html" target="_blank">AWS S3 Summary</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_glacier_summary.html" target="_blank">AWS Glacier Summary</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_cloudwatch_alarms.html" target="_blank">AWS Cloudwatch Alarms</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_costs_and_usage.html" target="_blank">AWS Costs and Usage Summary</a></p></li>
</ul></div>
<div class="paragraph"><p>For a complete, up-to-date list of all available plug-ins,
see the <a href="https://checkmk.com/cms_check_plugins_catalog.html" target="_blank">Catalog of Check plug-ins</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading__concrete_implementation_of_aws_monitoring">
<span class="hidden-anchor sr-only" id="_concrete_implementation_of_aws_monitoring"></span>2. Concrete implementation of AWS monitoring</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__hosts_and_services">
<span class="hidden-anchor sr-only" id="_hosts_and_services"></span>2.1. Hosts and services</h3>
<div class="paragraph"><p>In Checkmk all objects to be monitored are arranged in a hierarchical structure of hosts and services.
The concept of hosts does not exist in cloud-based services.
However to retain the simplicity and consistency of Checkmk,
we still map AWS objects according to the host/service schema.</p></div>
<div class="paragraph"><p>How that is achieved can best be illustrated by an example: In one region several
EC2 instances have been configured. An EC2 is usually assigned to EBS. This
constellation looks like this in Checkmk:</p></div>
<div class="ulist"><ul>
<li><p>There is a host that matches the AWS account. This host gives an overview of all EC2 instances and their status as a service.</p></li>
<li><p>The EC2 instances themselves are their own hosts.</p></li>
<li><p>On these EC2 hosts you can find services with the actual metrics.</p></li>
<li><p>The EBS are interpreted as a type of hard disk, and accordingly provide metrics to I/O (e.g., the number of bytes read or written). For this purpose, in each EBS there are separate services in Checkmk with the name <code>AWS/EBS Disk IO</code> which are assigned to the EC2 instance.</p></li>
</ul></div>
</div>
<div class="sect2">
<h3 id="heading__access_to_aws">
<span class="hidden-anchor sr-only" id="_access_to_aws"></span>2.2. Access to AWS</h3>
<div class="paragraph"><p>An agent is actually not necessary for monitoring AWS services since AWS provides an HTTP-based API over
which monitoring data is also available.</p></div>
<div class="paragraph"><p>Checkmk accesses this API via the <code>agent_aws</code> ‘special agent’ — which replaces the Checkmk agent — but in contrast this agent runs locally on the
Checkmk server.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__preparing_aws">
<span class="hidden-anchor sr-only" id="_preparing_aws"></span>3. Preparing AWS</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__creating_the_user">
<span class="hidden-anchor sr-only" id="_creating_the_user"></span>3.1. Creating the user</h3>
<div class="paragraph"><p>To enable monitoring via Checkmk, it is best to achieve it by creating a special AWS user under your root account.
<a href="https://console.aws.amazon.com" target="_blank">Log in</a> to AWS as the root user, and navigate in <span class="guihint">All services</span> to <span class="guihint">Security, Identity, &amp; Compliance &gt; IAM</span> (Identity and Access Management).
Go to <span class="guihint">Users</span> and create a new user with <span class="guihint">Add user</span>.
As a user name choose, for example, <code>check-mk</code>.
It is important that you select the <span class="guihint">Access key - Programmatic access</span> for <span class="guihint">Select AWS credential type</span>.</p></div>
<div class="imageblock border"><div class="content"><img src="../images/aws_create_user.png" alt="aws create user"></div></div>
</div>
<div class="sect2">
<h3 id="heading__permissions">
<span class="hidden-anchor sr-only" id="_permissions"></span>3.2. Permissions</h3>
<div class="paragraph"><p>The user you just created should only be used for monitoring by Checkmk and only needs read-only access to AWS.
We recommend simply assigning the policy <span class="guihint">ReadOnlyAccess</span> to this user.
To find this policy, first click <span class="guihint">Attach existing policies directly</span> and then type <code>readonlyaccess</code> in the search box.
In the list below the search field, you still have to scroll down quite far, because there are quite a few policies that contain this string.</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_create_user_policies.png" alt="aws create user policies"></div></div>
</div>
<div class="sect2">
<h3 id="heading__keys">
<span class="hidden-anchor sr-only" id="_keys"></span>3.3. Keys</h3>
<div class="paragraph"><p>After completing the user creation an access key will be generated
automatically for you. Note: The key’s secret is displayed only
once — directly after its creation. Therefore without fail copy the key and
save it, for example, in the Checkmk password store. Alternatively specify
it in plain text as a rule (see below). For Checkmk you need the <span class="guihint">Access key ID</span>
in addition to the secret. The name of the user (in our example
<code>check-mk</code>) does not matter here.</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_create_user_key.png" alt="aws create user key"></div></div>
<div class="paragraph"><p>If for some reason you should lose the secret, you can create a new access key
for the user and get a new secret:</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_create_access_key.png" alt="aws create access key"></div></div>
</div>
<div class="sect2">
<h3 id="heading__access_to_billing_information">
<span class="hidden-anchor sr-only" id="_access_to_billing_information"></span>3.4. Access to billing information</h3>
<div class="paragraph"><p>If you want Checkmk to have read access for the billing information
(in order to perform the <span class="guihint">Costs and Usage</span> global check), you need another policy for your AWS user — a policy you yourself must first define.</p></div>
<div class="paragraph"><p>Under <span class="guihint">Security, Identity, &amp; Compliance &gt; IAM &gt; Policies</span> select the <span class="guihint">Create Policy</span> button.
Select from <span class="guihint">Select a Service &gt; Service &gt; Choose a Service</span> the <span class="guihint">Billing</span> service.
Under <span class="guihint">Actions</span> tick the <span class="guihint">Read</span> checkbox.
We have to set an additional permission. Add one via the <span class="guihint">Add additional permissions</span> button.
Select from <span class="guihint">Select a Service &gt; Service &gt; Choose a Service</span> the <span class="guihint">Cost Explorer Service</span> service.
Under <span class="guihint">Actions</span> again tick the <span class="guihint">Read</span> checkbox.</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_policies.png" alt="aws policies"></div></div>
<div class="paragraph"><p>Click <span class="guihint">Review</span> to go to step two. Set <code>BillingViewAccess</code> as the <span class="guihint">Name</span>,
and save it with the <span class="guihint">Create policy</span> button.</p></div>
<div class="paragraph"><p>You must now add this new policy to the user.
Go again to <span class="guihint">Security, Identity, &amp; Compliance &gt; IAM &gt; Policies</span> — in the
<span class="guihint">Filter Policies</span> search box look for <code>BillingViewAccess</code>, select this by clicking in the circle to the left, and then go to <span class="guihint">Policy actions &gt; Attach</span>.
Here you will find your <code>check-mk</code> user,
select this and confirm it with <span class="guihint">Attach policy</span>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__configuring_the_monitoring_in_checkmk">
<span class="hidden-anchor sr-only" id="_configuring_the_monitoring_in_checkmk"></span>4. Configuring the monitoring in Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__create_a_host_for_aws_in_checkmk">
<span class="hidden-anchor sr-only" id="_create_a_host_for_aws_in_checkmk"></span>4.1. Create a host for AWS in Checkmk</h3>
<div class="paragraph"><p>Now create a host to monitor AWS in Checkmk.
You can assign the host name as you wish. Important: Because AWS is not a service
it has no IP-address or DNS name (access is granted by the special agent itself),
so you need to set the <span class="guihint">IP address family</span> to <span class="guihint">No IP</span>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/azure_wato_no_ip.png" alt="azure wato no ip"></div></div>
</div>
<div class="sect2">
<h3 id="heading_agent_rule">
<span class="hidden-anchor sr-only" id="agent_rule"></span>4.2. Create a rule for AWS agent</h3>
<div class="paragraph"><p>AWS cannot be queried through the regular Checkmk agent,
so next set up the AWS special agent. To do so,
under <span class="guihint">Setup &gt; Agents &gt; VM, Cloud, Container &gt; Amazon Web Services (AWS)</span>
add a rule whose <a href="wato_rules.html#conditions">conditions</a> apply only to the just-created
AWS host.</p></div>
<div class="paragraph"><p>In the actual content of the rule, you will first find the information for the login.
Here enter the 'Access key ID' for the newly-created AWS user <code>check-mk</code>.
Also choose here if you need a proxy to fetch the data and which global data you want to monitor,
i.e., those that are independent of a region. That is currently
only the data relating to the costs:</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_rule_1.png" alt="aws rule 1"></div></div>
<div class="paragraph"><p>In the image above you can also see the option <span class="guihint">Use STS AssumeRole to assume a different IAM role</span>.
If you do use different accounts at AWS,
you may use a single monitoring user to monitor the other accounts, too.</p></div>
<div class="paragraph"><p>But the really interesting data is assigned to regions.
Therefore here select your AWS region(s):</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_rule_2.png" alt="aws rule 2"></div></div>
<div class="paragraph"><p>Under <span class="guihint">Services by region to monitor</span> you specify which information you
want to retrieve from these regions. At default all AWS services and
the monitoring of their <a href="#limits">limits</a> are activated. In
the following image are all but one deactivated to get a better overview:</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_rule_3.png" alt="aws rule 3"></div></div>
<div class="paragraph"><p>You now can restrict the fetched data per web service or globally with
<span class="guihint">Restrict moinitoring services by one of these AWS tags</span>. The global restriction
will be overwritten, if you restrict by web service. Also you not only
have the option to restrict by AWS tags but additionally to specify the
explicit names:</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_rule_4.png" alt="aws rule 4"></div></div>
<div class="paragraph"><p>Don’t forget to assign the special agent to the previously created host by
entering that host name in <span class="guihint">Conditions &gt; Explicit hosts</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__services_on_the_aws_host_itself">
<span class="hidden-anchor sr-only" id="_services_on_the_aws_host_itself"></span>4.3. Services on the AWS host itself</h3>
<div class="paragraph"><p>Now switch to the service discovery of the newly created AWS host in Checkmk, where Checkmk should now find several services.
After you add the services and after an <a href="wato.html#activate_changes">activating changes</a> it will look something like this in monitoring:</p></div>
<div class="imageblock"><div class="content"><img src="../images/aws_services_ec.png" alt="aws services ec"></div></div>
</div>
<div class="sect2">
<h3 id="heading__create_hosts_for_the_ec2_instances">
<span class="hidden-anchor sr-only" id="_create_hosts_for_the_ec2_instances"></span>4.4. Create hosts for the EC2 instances</h3>
<div class="paragraph"><p>Services associated with EC2 instances are not associated with the AWS host,
but to so-called <a href="piggyback.html">piggyback hosts</a>.
This works in such a way that data retrieved from the AWS host is distributed to
these piggyback hosts, which operate without their own monitoring agents.
In this process, each EC2 instance is assigned a piggyback host named after the private DNS name of the EC2 instance.</p></div>
<div class="paragraph"><p>The piggyback hosts are not automatically created by Checkmk.
Create these hosts either manually or optionally with the <a href="dcd.html">Dynamic Configuration Daemon (DCD)</a>.
It is important that the names of the hosts exactly match the private DNS names of the
EC2 instance — they are also case-sensitive!</p></div>
<div class="paragraph"><p><strong>Tip:</strong> with the auxiliary script <code>find_piggy_orphans</code> from the
Treasures directory you can find all of the piggyback hosts for which there are data
but which are not yet created as hosts in Checkmk:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>share/doc/check_mk/treasures/find_piggy_orphans
<span class="tok-go">ip-172-31-44-50.eu-central-1.compute.internal</span>
<span class="tok-go">ip-172-31-44-51.eu-central-1.compute.internal</span></code></pre></div></div>
<div class="paragraph"><p>Configure the EC2 hosts without IP addresses (analogous to the
AWS host), and select <span class="guihint">No API integrations, no Checkmk agent</span> as agent.</p></div>
<div class="imageblock"><div class="content"><img src="../images/wato_host_no_agent.png" alt="wato host no agent"></div></div>
</div>
<div class="sect2">
<h3 id="heading__hosts_for_the_elb_classic_load_balancer">
<span class="hidden-anchor sr-only" id="_hosts_for_the_elb_classic_load_balancer"></span>4.5. Hosts for the ELB (Classic Load Balancer)</h3>
<div class="paragraph"><p>The services for the ELB are also assigned to piggyback hosts.
The names correspond to their DNS names.</p></div>
</div>
<div class="sect2">
<h3 id="heading_limits">
<span class="hidden-anchor sr-only" id="limits"></span>4.6. Monitoring limits</h3>
<div class="paragraph"><p>Some web services of AWS do have limits and Checkmk is able to monitor them. Here
some examples:</p></div>
<div class="ulist"><ul>
<li><p><a href="https://checkmk.com/integrations/aws_ebs_limits" target="_blank">AWS EBS Limits</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_ec2_limits.html" target="_blank">AWS EC2 Limits</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_elb_limits.html" target="_blank">AWS ELB Limits</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_elbv2_limits.html" target="_blank">AWS Application and Network Limits</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_glacier_limits.html" target="_blank">AWS Galcier Limits</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_rds_limits.html" target="_blank">AWS RDS Limits</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_s3_limits.html" target="_blank">AWS S3 Limits</a></p></li>
<li><p><a href="https://checkmk.com/cms_check_aws_cloudwatch_alarms_limits.html" target="_blank">AWS Cloudwatch Alarm Limits</a></p></li>
</ul></div>
<div class="paragraph"><p>As soon as such a check plug-in creates services and checks them later on,
the special agent will always fetch <strong>all</strong> elements of the web service.
Only in this way Checkmk is able to reasonably calculate the current workload at these limits and check the thresholds.
That’s also the case even if you restrict the fetched data by some tags or names in the configuration.</p></div>
<div class="paragraph"><p>The checking of the limits is activated by default for each
monitored web service. If you want to restrict the fetched data in the
<a href="#agent_rule">special agent rule</a> to limit the amount of
transferred data, you need also to turn off the limits.</p></div>
</div>
<div class="sect2">
<h3 id="heading__further_services">
<span class="hidden-anchor sr-only" id="_further_services"></span>4.7. Further services</h3>
<div class="paragraph"><p>The other web services in AWS are assigned as follows:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Assignment</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Costs &amp; Usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">At the AWS host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EBS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Block Storages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Appended to the EC2 instance if it belongs to the instance, otherwise to the AWS host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple Storages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">At the AWS host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relational databases</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">At the AWS host</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li>
<a href="#_concrete_implementation_of_aws_monitoring">2. Concrete implementation of AWS monitoring</a><ul class="sectlevel1">
<li><a href="#_hosts_and_services">2.1. Hosts and services</a></li>
<li><a href="#_access_to_aws">2.2. Access to AWS</a></li>
</ul>
</li>
<li>
<a href="#_preparing_aws">3. Preparing AWS</a><ul class="sectlevel1">
<li><a href="#_creating_the_user">3.1. Creating the user</a></li>
<li><a href="#_permissions">3.2. Permissions</a></li>
<li><a href="#_keys">3.3. Keys</a></li>
<li><a href="#_access_to_billing_information">3.4. Access to billing information</a></li>
</ul>
</li>
<li>
<a href="#_configuring_the_monitoring_in_checkmk">4. Configuring the monitoring in Checkmk</a><ul class="sectlevel1">
<li><a href="#_create_a_host_for_aws_in_checkmk">4.1. Create a host for AWS in Checkmk</a></li>
<li><a href="#agent_rule">4.2. Create a rule for AWS agent</a></li>
<li><a href="#_services_on_the_aws_host_itself">4.3. Services on the AWS host itself</a></li>
<li><a href="#_create_hosts_for_the_ec2_instances">4.4. Create hosts for the EC2 instances</a></li>
<li><a href="#_hosts_for_the_elb_classic_load_balancer">4.5. Hosts for the ELB (Classic Load Balancer)</a></li>
<li><a href="#limits">4.6. Monitoring limits</a></li>
<li><a href="#_further_services">4.7. Further services</a></li>
</ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
