<!DOCTYPE html>
<html lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="Welche Möglichkeiten Checkmk bietet, Hosts zu erstellen, mit Ordnern zu strukturieren und zu pflegen, erfahren Sie hier.">
<meta name="og:locale" content="de">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Verwaltung der Hosts - Die zu überwachenden Systeme verwalten">
<meta name="og:description" content="Welche Möglichkeiten Checkmk bietet, Hosts zu erstellen, mit Ordnern zu strukturieren und zu pflegen, erfahren Sie hier.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Verwaltung der Hosts - Die zu überwachenden Systeme verwalten</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Suche auf docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/de"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/de"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">de</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/en/hosts_setup.html">English</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/de/hosts_setup.html">2.2.0</a><a class="dropdown-item" href="../../latest/de/hosts_setup.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_willkommen_bei_checkmk">
<a class="anchor" href="#_willkommen_bei_checkmk"></a>1. Willkommen bei Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Willkommen im Checkmk Handbuch</a></p>
</li>
<li>
<p><a href="glossar.html">Glossar</a></p>
</li>
<li>
<p><a href="search.html">Suchen in docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leitfaden_für_einsteiger">
<a class="anchor" href="#_leitfaden_f%C3%BCr_einsteiger"></a>2. Leitfaden für Einsteiger</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Checkmk aufsetzen</a></p>
</li>
<li>
<p><a href="intro_gui.html">Die Checkmk-Oberfläche</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Das Monitoring einrichten</a></p>
</li>
<li>
<p><a href="intro_tools.html">Die Monitoring-Werkzeuge</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk im Monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Das Monitoring feinjustieren</a></p>
</li>
<li>
<p><a href="intro_users.html">Mit mehreren Benutzern arbeiten</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Benachrichtigungen einschalten</a></p>
</li>
<li>
<p><a href="intro_extend.html">Das Monitoring weiter ausbauen</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best Practices, Tipps &amp; Tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_und_vms">
<a class="anchor" href="#_server_und_vms"></a>3.1. Server und VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation unter Debian und Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation unter Red Hat und CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation unter SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, Container, Cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation von Checkmk in der Appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation als Docker-Container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates und Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update auf Version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update-Matrix für Version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux-Upgrade auf dem Checkmk-Server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk-Versionen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_von_checkmk">
<a class="anchor" href="#_administration_von_checkmk"></a>4. Administration von Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Anmeldung mit SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single Sign-On mit Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk-Server im Docker-Container</a></p>
</li>
<li>
<p><a href="security.html">Sicherheit (Security)</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Weboberfläche mit HTTPS absichern</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instanzen">
<a class="anchor" href="#_instanzen"></a>4.2. Instanzen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Instanzen (Sites) mit omd verwalten</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk auf der Kommandozeile</a></p>
</li>
<li>
<p><a href="license.html">Lizenzen verwalten</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Verteiltes Monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Konfiguration der Checkmk Instanz analysieren</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk Erweiterungspakete (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Der Simulationsmodus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konfiguration">
<a class="anchor" href="#_konfiguration"></a>5. Konfiguration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Die Konfiguration von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Verwaltung der Hosts</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Strukturierung der Hosts</a></p>
</li>
<li>
<p><a href="host_tags.html">Host-Merkmale</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamische Host-Konfiguration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Services verstehen und konfigurieren</a></p>
</li>
<li>
<p><a href="clustered_services.html">Cluster-Services überwachen</a></p>
</li>
<li>
<p><a href="piggyback.html">Der Piggyback-Mechanismus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_regeln">
<a class="anchor" href="#_regeln"></a>5.3. Regeln</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host- und Serviceparameter</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unterstützende_konfigurationen">
<a class="anchor" href="#_unterst%C3%BCtzende_konfigurationen"></a>5.4. Unterstützende Konfigurationen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Zeitperioden (Time Periods)</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Reguläre Ausdrücke in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benutzer_und_berechtigungen">
<a class="anchor" href="#_benutzer_und_berechtigungen"></a>5.5. Benutzer und Berechtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Benutzer, Zuständigkeiten, Berechtigungen</a></p>
</li>
<li>
<p><a href="ldap.html">Benutzerverwaltung mit LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benachrichtigungen">
<a class="anchor" href="#_benachrichtigungen"></a>5.6. Benachrichtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Einführung in die Benachrichtigungen</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Benachrichtigungen per Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Benachrichtigungen per Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Benachrichtigungen per PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Benachrichtigungen per Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Benachrichtigungen per Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Benachrichtigungen per ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Benachrichtigungen per Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Benachrichtigungen per Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Benachrichtigungen per Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">Die Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert Handler</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_überwachung_von_systemen">
<a class="anchor" href="#_%C3%BCberwachung_von_systemen"></a>6. Überwachung von Systemen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring-Agenten</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agenten_und_snmp">
<a class="anchor" href="#_checkmk_agenten_und_snmp"></a>6.1. Checkmk-Agenten und SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatische Agenten-Updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Linux überwachen</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Linux überwachen im Legacy-Modus</a></p>
</li>
<li>
<p><a href="agent_windows.html">Windows überwachen</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">FreeBSD überwachen</a></p>
</li>
<li>
<p><a href="snmp.html">Überwachen via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agentenerweiterungen">
<a class="anchor" href="#_agentenerweiterungen"></a>6.2. Agentenerweiterungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">Die HW/SW-Inventur</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Oracle-Datenbanken überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">MySQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">MSSQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Zeitbasierte Prozesse (Cronjobs) überwachen</a></p>
</li>
<li>
<p><a href="spool_directory.html">Das Spool-Verzeichnis</a></p>
</li>
<li>
<p><a href="localchecks.html">Lokale Checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, Cloud, Container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datenquellenprogramme</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">VMWare ESXi überwachen</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Amazon Web Services (AWS) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Microsoft Azure überwachen</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Kubernetes überwachen</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Docker überwachen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpunkte">
<a class="anchor" href="#_endpunkte"></a>6.4. Endpunkte</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Netzwerkdienste überwachen (Aktive Checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metriken">
<a class="anchor" href="#_dashboards_views_metriken"></a>7. Dashboards, Views, Metriken</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">Die Benutzeroberfläche</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_allgemein">
<a class="anchor" href="#_allgemein"></a>7.1. Allgemein</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Ansichten von Hosts und Services (Views)</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Messwerte und Graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kommandos_in_ansichten">
<a class="anchor" href="#_kommandos_in_ansichten"></a>7.2. Kommandos in Ansichten</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Kommandos</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Quittierung von Problemen</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Wartungszeiten</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auswertungen_und_prognosen">
<a class="anchor" href="#_auswertungen_und_prognosen"></a>8. Auswertungen und Prognosen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auswertungen">
<a class="anchor" href="#_auswertungen"></a>8.1. Auswertungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Verfügbarkeit (Availability)</a></p>
</li>
<li>
<p><a href="sla.html">Erweiterte Verfügbarkeiten (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Berichte (Reports)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosen">
<a class="anchor" href="#_prognosen"></a>8.2. Prognosen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Prognosebasiertes Monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Vorhersagegraphen erstellen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anbindung_anderer_applikationen">
<a class="anchor" href="#_anbindung_anderer_applikationen"></a>9. Anbindung anderer Applikationen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Prometheus integrieren</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Datadog integrieren</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: Statusdaten auf Karten und Diagrammen</a></p>
</li>
<li>
<p><a href="ntop.html">ntopng in Checkmk integrieren</a></p>
</li>
<li>
<p><a href="grafana.html">Checkmk in Grafana integrieren</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Metriken an InfluxDB und Graphite senden</a></p>
</li>
<li>
<p><a href="nagstamon.html">Nagstamon mit Checkmk verbinden</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_besonderheiten_in_den_editionen">
<a class="anchor" href="#_besonderheiten_in_den_editionen"></a>10. Besonderheiten in den Editionen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support Diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">Die Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatisierung_und_programmierung">
<a class="anchor" href="#_automatisierung_und_programmierung"></a>11. Automatisierung und Programmierung</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_zur_automatisierung">
<a class="anchor" href="#_apis_zur_automatisierung"></a>11.1. APIs zur Automatisierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Konfiguration via Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Statusdaten abrufen via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus Befehlsreferenz</a></p>
</li>
<li>
<p><a href="web_api.html">Konfiguration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Befehlsreferenz der HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_zur_programmierung">
<a class="anchor" href="#_apis_zur_programmierung"></a>11.2. APIs zur Programmierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">Die Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_programmierung_von_check_plugins">
<a class="anchor" href="#_programmierung_von_check_plugins"></a>11.3. Programmierung von Check-Plugins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Eigene Check-Plugins schreiben</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konzepte">
<a class="anchor" href="#_konzepte"></a>12. Konzepte</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Grundlagen des Monitorings mit Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_der_checkmk_micro_core_cmc">
<a class="anchor" href="#_der_checkmk_micro_core_cmc"></a>12.1. Der Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">Der Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Besonderheiten des CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration auf den CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">Dateien und Verzeichnisse des CMC</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_die_checkmk_appliance">
<a class="anchor" href="#_die_checkmk_appliance"></a>13. Die Checkmk Appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Schnellstart-Anleitung für Checkmk-Racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Schnellstart-Anleitung für Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Virtuelle Appliance installieren</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Appliance einrichten und nutzen</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in der Appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance im Cluster-Betrieb</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Besonderheiten der Hardware-Appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Verwaltung der Hosts</h1>
<div class="details">
<span id="revdate">Last modified on 05-Sep-2022</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/de/hosts_setup.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">Dies ist eine am 2025-01-07 22:12:14 +0000 für die Offline-Nutzung exportierte Seite. Sie spiegelt möglicherweise nicht den aktuellen Stand der Checkmk Dokumentation wider. Um eine täglich aktualisierte Version dieser Seite anzusehen, rufen Sie bitte <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a> auf.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="wato.html">Die Konfiguration von Checkmk</a>
<a href="wato_rules.html">Host- und Serviceparameter</a>
<a href="wato_services.html">Services verstehen und konfigurieren</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_intro">
<span class="hidden-anchor sr-only" id="intro"></span>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph"><p>Die wichtigste Aufgabe beim Einrichten des Monitorings ist das Verwalten der zu überwachenden Systeme — der <a href="glossar.html#host"><em>Hosts</em>.</a>
Dabei geht es nicht nur darum, dass diese mit den richtigen Stammdaten (z.B. Host-Name, IP-Adresse) eingetragen sind.
Auch Einstellungen für das Monitoring (z.B. Benachrichtigungen, Schwellwerte usw.) erfordern regelmäßige Pflege.</p></div>
<div class="paragraph"><p>Checkmk wurde von Anfang an für Umgebungen mit sehr vielen Hosts entworfen.
Um hier die Konfiguration für den Benutzer beherrschbar zu machen, verfolgt Checkmk einen anderen Ansatz als alle anderen Systeme,
die aus dem Ökosystem von Nagios heraus entstanden sind.
Die wichtigsten Prinzipien sind:</p></div>
<div class="ulist"><ul>
<li><p>Eine <a href="#folder">Hierarchie von Ordnern</a>, in denen Hosts abgelegt werden.</p></li>
<li><p><a href="glossar.html#host_tag">Host-Merkmale</a> (englisch: <em>host tags</em>) und eine darauf aufbauende <a href="wato_rules.html">regelbasierte</a> Konfiguration.</p></li>
<li><p>Automatische Erkennung der zu überwachenden <a href="wato_services.html">Services.</a></p></li>
</ul></div>
<div class="paragraph"><p>Generell hat es sich bewährt, sich als Erstes ein Ordnungssystem zu überlegen und dieses danach mit Inhalt zu füllen.
Welche Möglichkeiten Checkmk bietet, Ordnung in Ihre Hosts zu bringen, erfahren Sie im Artikel über die <a href="hosts_structure.html">Strukturierung von Hosts.</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_folder">
<span class="hidden-anchor sr-only" id="folder"></span>2. Ordner und Vererbung</h2>
<div class="sectionbody">
<div class="paragraph"><p>Jeder, der mit Computern arbeitet, kennt das Prinzip von Dateien und Ordnern.
Checkmk verwendet ein analoges Prinzip für die Verwaltung der Hosts, welche quasi die Rolle der Dateien übernehmen.
Da Ordner auch selbst in Ordnern enthalten sein können, ergibt sich eine Baumstruktur.</p></div>
<div class="sect2">
<h3 id="heading__hierarchie_der_ordner">
<span class="hidden-anchor sr-only" id="_hierarchie_der_ordner"></span>2.1. Hierarchie der Ordner</h3>
<div class="paragraph"><p>In der Ausgestaltung der Baumstruktur sind Sie völlig frei. Jede Form der Unterscheidung ist möglich.
Drei Kriterien für den Aufbau des Host-Baums sind jedoch verbreitet:</p></div>
<div class="ulist"><ul>
<li><p><strong>Standort</strong> (z.B. München versus Shanghai)</p></li>
<li><p><strong>Host-Typ</strong> (z.B. Switch versus Load Balancer)</p></li>
<li><p><strong>Organisationsstruktur</strong> (z.B. Datenbankgruppe versus Netzwerker)</p></li>
</ul></div>
<div class="paragraph"><p>Natürlich können Sie die Kriterien auch mischen, also z.B. in der ersten Ebene des Baums nach Standort aufteilen und in der zweiten dann nach Host-Typen.</p></div>
<div class="paragraph"><p>Wenn Sie einfache Dinge lieben, sollten Sie die Hosts nur in die „Blätter“ des Baums packen (auch wenn Checkmk Hosts in mittleren Ordnern erlaubt).
Folgendes Beispiel zeigt eine einfache Baumstruktur nach Host-Typ:
Die Hosts A, B und C sind im Ordner „Servers“ und D, E und F im Ordner „Network“ eingeordnet:</p></div>
<div class="imageblock"><div class="content"><img src="../images/wato_folders_step_2.png" alt="Illustration einer Ordnerstruktur mit zwei Unterordnern." width="430px"></div></div>
</div>
<div class="sect2">
<h3 id="heading_inheritance">
<span class="hidden-anchor sr-only" id="inheritance"></span>2.2. Vererbung von Attributen</h3>
<div class="paragraph"><p>Wenn Sie den Baum geschickt aufbauen, können Sie ihn nutzen, um sinnvoll Attribute zu vererben.
Das ist vor allem bei solchen Attributen nützlich, die bei großen Gruppen von Hosts gleich sind, wie z.B. die SNMP-Community oder Host-Merkmale (<em>host tags</em>), mit denen Sie festlegen, ob der Host per Checkmk-Agent oder per SNMP überwacht werden soll.</p></div>
<div class="paragraph"><p>Folgendes Beispiel zeigt die Vererbung der Merkmalsgruppen „Criticality“ (mit den Werten <code>prod</code> und <code>test</code>) und „Checkmk agent / API integrations“ (mit den Ausprägungen <code>tcp</code> und <code>no-agent</code>).
Das Hilfsmerkmal <code>tcp</code> wird dabei automatisch gesetzt, wenn der Checkmk-Agent und/oder eine API-Integration ausgewählt ist, während <code>no-agent</code> die Option der Wahl ist, wenn über SNMP überwacht werden soll.</p></div>
<div class="imageblock"><div class="content"><img src="../images/wato_folders_step_4.png" alt="Illustration einer Ordnerstruktur mit zugewiesenen Attributen auf unterschiedlichen Ebenen." width="500px"></div></div>
<div class="paragraph"><p>Weiter unten im Baum definierte Attribute haben immer Vorrang.
Direkt beim Host festgelegte Werte überschreiben also alles, was von den Ordnern kommt.
In obigem Beispiel ergeben sich so für den Host A die Merkmale <code>prod</code> und <code>tcp</code>, für D <code>prod</code> und <code>no-agent</code> und für den Host F wegen des expliziten Attributs die Werte <code>test</code> und <code>no-agent</code>.</p></div>
<div class="paragraph"><p>Ein großer Vorteil dieses Schemas gegenüber dem weit verbreiteten „Copy &amp; Paste“-Ansatz von datenbankorientierten Konfigurationssystemen:
Sie können Attribute auch für solche Hosts festlegen, die erst <strong>in Zukunft</strong> hinzukommen werden.
Das macht die Arbeit für Sie (und Ihre Kollegen) leichter:
Einfach den neuen Host in den richtigen Ordner werfen und alle vordefinierten Attribute stimmen automatisch.</p></div>
</div>
<div class="sect2">
<h3 id="heading_create_folders">
<span class="hidden-anchor sr-only" id="create_folders"></span>2.3. Ordner erstellen</h3>
<div class="paragraph"><p>Wie Sie Ordner erstellen, erfahren Sie im <a href="intro_setup_monitor.html#create_folders">Leitfaden für Einsteiger.</a></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_create_hosts">
<span class="hidden-anchor sr-only" id="create_hosts"></span>3. Hosts im Setup erstellen und bearbeiten</h2>
<div class="sectionbody">
<div class="paragraph"><p>Zur Verwaltung der Ordner und Hosts gelangen Sie mit <span class="guihint">Setup &gt; Hosts &gt; Hosts:</span></p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_main_directory.png" alt="Ordneransicht 'Main' mit mehreren Unterordnern."></div></div>
<div class="paragraph"><p>In der Standardansicht sehen Sie hier die (zu Beginn leere) Übersicht der Ordner und darunter tabellarisch die bereits im aktuellen Ordner vorhandenen Hosts.
Das Anlegen eines neuen Hosts mit dem Aktionsknopf <span class="image-inline"><img src="../images/icons/icon_new.png" alt="icon new"></span> <span class="guihint">Add host</span>, das <span class="image-inline"><img src="../images/icons/icon_clone.png" alt="Symbol zum Klonen eines Listeneintrags."></span> Klonen oder das <span class="image-inline"><img src="../images/icons/icon_edit.png" alt="Symbol zum Bearbeiten eines Listeneintrags."></span> Editieren eines bestehenden Hosts bringt Sie zu den Eigenschaften des Hosts auf der Seite <span class="guihint">Properties of host</span>.
Hier werden die Attribute des Hosts aufgelistet.
Diese sind in mehreren Abschnitten gruppiert, von denen wir hier die Wichtigsten vorstellen.</p></div>
<div class="sect2">
<h3 id="heading__der_host_name">
<span class="hidden-anchor sr-only" id="_der_host_name"></span>3.1. Der Host-Name</h3>
<div class="paragraph"><p>Das Feld <span class="guihint">Hostname</span> dient überall innerhalb von Checkmk zur eindeutigen Identifizierung des Hosts.
Wenn möglich sollten Sie den DNS-Namen des Hosts verwenden.
Ist der DNS-Name zu sperrig, können Sie später einen leichter erkennbaren Aliasnamen vergeben.</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_new_host_1.png" alt="Dialog mit Eigenschaften eines Hosts: der Host-Name."></div></div>
<div class="paragraph"><p><a href="#rename">Änderungen am Host-Namen</a> sind prinzipiell auch später möglich.
Da der Host-Name jedoch an vielen Stellen in Checkmk verwendet wird, sind Änderungen aufwendiger je mehr Monitoring-Daten zum Zeitpunkt der Änderung schon angefallen sind.</p></div>
</div>
<div class="sect2">
<h3 id="heading_dns">
<span class="hidden-anchor sr-only" id="dns"></span>3.2. Alias und IP-Adresse</h3>
<div class="paragraph"><p>Sie können unter <span class="guihint">Alias</span> einen alternativen, beschreibenden Namen für den Host vergeben, welcher an vielen Stellen in der GUI und in Berichten angezeigt wird.
Vergeben Sie keinen Alias, so wird stattdessen der Host-Name verwendet.</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_new_host_2.png" alt="Dialog mit Eigenschaften eines Hosts: Alias und IP-Adresse."></div></div>
<div class="paragraph"><p>Eine IP-Adresse müssen Sie nicht zwangsläufig angeben.
Für die Konfiguration der IP-Adresse haben Sie vier Möglichkeiten, die auch den Zeitpunkt der Namensauflösung bestimmen:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 65%;">
<col style="width: 30%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Möglichkeit</th>
<th class="tableblock halign-left valign-top">Vorgehen</th>
<th class="tableblock halign-left valign-top">Wann wird die Namensauflösung durchgeführt?</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sie geben <em>keine</em> IP-Adresse an. Der Host-Name muss per DNS auflösbar sein.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beim <a href="wato.html#activate_changes">Aktivieren der Änderungen</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sie geben eine IPv4-Adresse ein — in der üblichen Punkt-Notation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nie</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sie geben anstelle einer IP-Adresse einen (alternativen) Host-Namen ein, welcher per DNS auflösbar ist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beim Ausführen der Checks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Über den <a href="wato_rules.html">Regelsatz</a> <span class="guihint">Hosts with dynamic DNS lookup during monitoring</span> bestimmen Sie Hosts für ein dynamisches DNS. Das Resultat ist analog zu Möglichkeit 3, nur dass für die DNS-Anfrage jetzt das Feld <span class="guihint">Hostname</span> verwendet wird.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beim Ausführen der Checks</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Bei der ersten Möglichkeit verwendet Checkmk eine Cache-Datei, um wiederholte DNS-Anfragen während der Aktivierung der Änderungen zu vermeiden.
Dieser Cache ist sehr wichtig für die Beschleunigung des Vorgangs.
Außerdem sorgt er dafür, dass Sie eine geänderte Konfiguration auch dann aktivieren können, wenn das DNS einmal nicht funktioniert.</p></div>
<div class="paragraph"><p>Der Haken ist, dass Checkmk die Änderung einer IP-Adresse im DNS nicht sofort mitbekommt.
Deswegen gibt es bei den Host-Eigenschaften den Menüeintrag <span class="guihint">Host &gt; Update DNS cache.</span>
Dieser löscht den kompletten DNS-Cache und erzwingt beim nächsten Aktivieren der Änderungen eine neue Auflösung.
Die zugehörige Datei liegt in Ihrer Instanz unter <code>~/var/check_mk/ipaddresses.cache</code>.
Das Löschen dieser Datei hat den gleichen Effekt wie die Ausführung von <span class="guihint">Update (site) DNS cache.</span></p></div>
<div class="paragraph"><p>Checkmk unterstützt auch Monitoring via IPv6 — auch im Dualstack.
Die Rangfolge der Auflösung ist hier durch die Betriebssystemeinstellungen (<code>/etc/gai.conf</code>) vorgegeben.
In den Feldern <span class="guihint">Additional IPv4 addresses</span> respektive <span class="guihint">Additional IPv6 addresses</span> sind nur IP-Adressen in Punkt- beziehungsweise Doppelpunkt-Notation zugelassen, keine alternativen DNS-Namen.</p></div>
</div>
<div class="sect2">
<h3 id="heading_monitoring_agents">
<span class="hidden-anchor sr-only" id="monitoring_agents"></span>3.3. Monitoring-Agenten</h3>
<div class="paragraph"><p>Mit den <span class="guihint">Monitoring agents</span> entscheiden Sie, aus welchen Quellen Daten für das Monitoring verwendet werden.
Die Standardeinstellung sieht die Verwendung des <a href="wato_monitoringagents.html#agents">Checkmk-Agenten</a> vor.
Darüber hinaus sind zahlreiche alternative oder zusätzliche Überwachungsmöglichkeiten vorgesehen.</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_new_host_agents.png" alt="Dialog mit Eigenschaften eines Hosts: Monitoring-Agenten."></div></div>
<div class="paragraph"><p>Insbesondere der erste Eintrag <span class="guihint">Checkmk agent / API integrations</span> entscheidet, welche Daten bei Vorhandensein mehrerer Quellen herangezogen und welche verworfen werden.
Sie haben die folgenden Auswahlmöglichkeiten:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">API integrations if configured, else Checkmk agent</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monitoring-Daten werden per <a href="glossar.html#api_integrations">API-Integrationen</a>, das heißt von Spezialagenten oder per Piggyback von anderen Hosts geliefert. Sind keine API-Integrationen konfiguriert, wird auf die Ausgabe des Checkmk-Agenten zugegriffen. Dies ist der Standardwert.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Configured API integrations and Checkmk agent</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Ausgabe eines Checkmk-Agenten wird erwartet. Per API-Integrationen gelieferte Daten werden – falls konfiguriert – zusätzlich herangezogen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Configured API integrations, no Checkmk agent</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ausschließlich per API-Integrationen gelieferte Daten werden für das Monitoring herangezogen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">No API integrations, no Checkmk agent</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mit dieser Einstellung wird der Host per SNMP oder agentenlos nur mit <a href="glossar.html#active_check">aktiven Checks</a> überwacht. Regeln für aktive Checks finden Sie u.a. in <span class="guihint">Setup &gt; Hosts &gt; HTTP, TCP, Email, …​ .</span> Wenn Sie nicht mindestens einen aktiven Check definieren, erzeugt Checkmk automatisch einen PING-Service.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><strong>Hinweis:</strong> Die Auswahl von <span class="guihint">Configured API integrations, no Checkmk agent</span> sorgt dafür, dass die beiden Services <span class="guihint">Check_MK</span> und <span class="guihint">Check_MK Discovery</span> immer den Zustand <span class="state0">OK</span> haben.
Falls Sie für den Host keine IP-Adresse eingetragen haben, wird dieser den Zustand <span class="hstate1">DOWN</span> annehmen, da kein Ping durchgeführt werden kann.
Sie müssen hier über eine Regel <span class="guihint">Setup &gt; Hosts &gt; Host monitoring rules &gt; Host Check Command</span> bestimmen, wie geprüft werden soll, ob der Host als <span class="hstate0">UP</span> bewertet wird.</p></div>
<div class="paragraph"><p>Mit der folgenden Einstellung <span class="guihint">SNMP</span> konfigurieren Sie die Überwachung per <a href="glossar.html#snmp">SNMP.</a>
Nach Aktivierung von <span class="guihint">SNMP</span> und Auswahl der SNMP-Version wird das Feld <span class="guihint">SNMP credentials</span> eingeblendet.
Damit können Sie die SNMP-Community festlegen.
Da diese meist für viele Hosts gleich ist, empfiehlt es sich aber eher, diese Einstellung im <a href="#folder">Ordner</a> zu hinterlegen.
Wenn Sie nichts spezifizieren, wird automatisch <code>public</code> angenommen.</p></div>
<div class="paragraph"><p>Das letzte Feld <span class="guihint">Piggyback</span> bezieht sich auf die Verwendung von <a href="glossar.html#piggyback">Piggyback-Daten</a>, welche durch andere Hosts "huckepack" geliefert und als Agentenausgabe diesem Host zugeordnet werden.
Beachten Sie, dass die hier vorgenommene Einstellung zu den Einstellungen der ersten Option <span class="guihint">Checkmk agent / API integrations</span> passen muss.
Es kann sonst vorkommen, dass das Ausbleiben erwarteter Monitoring-Daten nicht bemerkt wird.
Aus diesem Grund lautet ein Eintrag explizit <span class="guihint">Always use and expect piggyback data.</span></p></div>
</div>
<div class="sect2">
<h3 id="heading_custom_attributes">
<span class="hidden-anchor sr-only" id="custom_attributes"></span>3.4. Eigene Attribute</h3>
<div class="paragraph"><p>Im Kasten <span class="guihint">Custom attributes</span> können Sie beliebige Freitextfelder anzeigen lassen, die Sie zuvor als eigene, benutzerdefinierte Attribute erstellt haben.
In der Standardeinstellung sind hier <span class="guihint">Labels</span> und die beiden vordefinierten Host-Merkmalsgruppen <span class="guihint">Criticality</span> (Kritikalität) und <span class="guihint">Networking Segment</span> (Netzwerksegment) vorhanden:</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_new_host_attributes.png" alt="Dialog mit Eigenschaften eines Hosts: eigene Attribute."></div></div>
<div class="paragraph"><p>Sie können mit <span class="guihint">Setup &gt; Hosts &gt; Custom host attributes</span> eigene Attribute definieren.</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_setup_custom_attributes.png" alt="Formular zum Erstellen eines eigenen Attributs."></div></div>
<div class="paragraph"><p>Eigene Attribute können beispielsweise ein Vor-Ort-Kontakt, eine Filialnummer, Informationen zur Hardware, Inventarnummern oder geografische Koordinaten sein.
Werte der eigenen Attribute sollten in erster Linie Benutzern den Überblick erleichtern, können jedoch auch in Regeln und Filtern eingesetzt werden, wenn beispielsweise <a href="glossar.html#label">Labels</a> oder <a href="glossar.html#host_tag">Host-Merkmale</a> zu unflexibel sind.</p></div>
<div class="paragraph"><p>Eigene Attribute können durch die Auswahl von <span class="guihint">Topic</span> (Thema) einem beliebigen Kasten in den Eigenschaften eines Hosts zugeordnet werden.</p></div>
</div>
<div class="sect2">
<h3 id="heading_management_board">
<span class="hidden-anchor sr-only" id="management_board"></span>3.5. Management Board</h3>
<div class="paragraph"><p>Die Bezeichnung <span class="guihint">Management board</span> steht für separate Steckkarten oder erweiterte BIOS-Funktionalität (Baseboard Management Controller/BMC, Management Engine/ME) zur Überwachung und Verwaltung der Hardware neben dem installierten Betriebssystem.
Derartige Hardware bringt neben Fernsteuerungs- und Fernwartungsfunktionen (bspw. für das Deployment von Betriebssystemen) meist auch eine IPMI- oder SNMP-Schnittstelle mit, über die Gesundheitswerte (Temperaturen und Lüfterdrehzahlen) ausgelesen werden können.
Da Management Boards über eine eigene IP-Adresse verfügen, würde ein separates Monitoring die Zuordnung für Checkmk-Benutzer erschweren.
Tragen Sie hier IP-Adresse und Zugriffsmethode ein, wenn der zu überwachende Host über ein Management Board verfügt.</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_setup_management_board.png" alt="Einrichtung eines Management Boards."></div></div>
</div>
<div class="sect2">
<h3 id="heading__erstellung_sperrung">
<span class="hidden-anchor sr-only" id="_erstellung_sperrung"></span>3.6. Erstellung / Sperrung</h3>
<div class="paragraph"><p>Während die meisten der bisher beschriebenen Angaben bearbeitet werden können, stehen im Kasten <span class="guihint">Creation / Locking</span> Angaben, die an dieser Stelle nur der Information dienen.</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_setup_creation_locking.png" alt="Anzeige der Erstell- und Sperrinformationen."></div></div>
<div class="paragraph"><p>Der Zeitpunkt der Erstellung (<span class="guihint">Created at</span>) und der Ersteller (<span class="guihint">Created by</span>) werden von Checkmk ermittelt.
Für den namen des Erstellers gibt es im Wesentlichen drei Möglichkeiten:</p></div>
<div class="ulist"><ul>
<li><p>Benutzername, z.B. <span class="guihint">cmkadmin</span>: Der Host wurde manuell durch einen Benutzer erstellt, z.B. im <a href="#create_hosts">Setup.</a></p></li>
<li><p><em>automation</em>: Der Host wurde durch den <a href="glossar.html#automation_user">Automationsbenutzer</a> erstellt, z.B. mit der <a href="rest_api.html">REST-API.</a></p></li>
<li><p><em>Network scan</em>: Der Host wurde bei einem automatischen <a href="#folder_network_scan">Netzwerk-Scan</a> gefunden.</p></li>
</ul></div>
<div class="paragraph"><p>Wenn der Host durch den Automationsbenutzer erstellt wurde, ist er durch die zugehörige Instanz gesperrt (<span class="guihint">Locked by</span>).
Diese Angabe kann auch für die <a href="#search">Suche nach Hosts im Setup</a> genutzt werden.</p></div>
<div class="paragraph"><p>Gesperrte Attribute (<span class="guihint">Locked attributes</span>) können in den Eigenschaften des Hosts nicht mehr bearbeitet werden.</p></div>
</div>
<div class="sect2">
<h3 id="heading__speichern_und_weiter">
<span class="hidden-anchor sr-only" id="_speichern_und_weiter"></span>3.7. Speichern und weiter</h3>
<div class="paragraph"><p>Beim Erstellen oder Klonen eines Hosts ist nach der Festlegung der Eigenschaften der nächste sinnvolle Schritt <span class="guihint">Save &amp; go to service configuration.</span>
Damit gelangen Sie in die automatische Service-Erkennung, die wir im <a href="#services">nächsten Kapitel</a> erklären.</p></div>
<div class="paragraph"><p>Dagegen bringt Sie <span class="guihint">Save &amp; go to connection tests</span> zum Verbindungstest. Damit können Sie zuerst einmal testen, ob Sie mit den festgelegten Einstellungen überhaupt Daten von dem Host bekommen — sei es per Agent oder was auch immer Sie vorher konfiguriert haben.
Einzelheiten zum Verbindungstest finden Sie im <a href="wato_monitoringagents.html#diagnosticpage">Artikel über die Monitoring-Agenten.</a></p></div>
</div>
<div class="sect2">
<h3 id="heading_bulk_operations">
<span class="hidden-anchor sr-only" id="bulk_operations"></span>3.8. Bulk-Aktionen</h3>
<div class="paragraph"><p>Gelegentlich kommt es vor, dass Sie Dinge wie Löschen, Verschieben, Editieren oder Service-Erkennung für eine ganze Reihe von Hosts gleichzeitig
durchführen möchten.
Dazu gibt es in Checkmk die sogenannten „Bulk-Aktionen“.</p></div>
<div class="paragraph"><p>Sie finden diese Aktionen auf der Seite eines geöffneten Ordners im Menü <span class="guihint">Hosts</span> im Abschnitt <span class="guihint">On selected hosts</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_bulk_actions.png" alt="Menü 'Hosts' mit den Bulk-Aktionen." width="40%"></div></div>
<div class="paragraph"><p>Die Aktionen beziehen sich immer auf die Hosts, die direkt im angezeigten Ordner liegen — und von Ihnen ausgewählt wurden.
Dazu dienen die Checkboxen in der ersten Spalte der Host-Liste.
Wenn Sie das Kreuz im Spaltentitel anklicken, werden alle Hosts ausgewählt — und nach erneutem Klick wieder abgewählt.</p></div>
<div class="paragraph"><p>Hier einige Hinweise zu den angebotenen Aktionen:</p></div>
<div class="ulist"><ul>
<li><p><span class="guihint">Delete hosts:</span> Löscht die Hosts — nach Bestätigung der Nachfrage.</p></li>
<li>
<p><span class="guihint">Edit attributes:</span> Ändert ein oder mehrere Attribute der Hosts.
Das Attribut wird dadurch in die Hosts explizit eingetragen.</p>
<div class="paragraph"><p><strong>Achtung:</strong> Es ist ein Unterschied, ob ein Host ein Attribut von einem Ordner erbt oder es explizit gesetzt ist, wie durch diese Aktion.
Warum? In letzterem Fall wird eine Änderung der Attribute im Ordner keine Wirkung haben, da Werte, die direkt beim Host festgelegt sind, immer Vorrang haben. Aus diesem Grund gibt es auch die folgende Aktion.</p></div>
</li>
<li>
<p><span class="guihint">Remove explicit attribute settings:</span> Entfernt von den Hosts explizite Attribute und setzt die Vererbung wieder in Kraft.
Das Gleiche würden Sie erreichen, wenn Sie jeden Host einzeln auswählen und die Checkboxen bei den betroffenen Attributen abwählen würden.</p>
<div class="paragraph"><p>Generell ist es eine gute Idee, so wenig explizite Attribute wie möglich zu verwenden.
Wenn alles korrekt über die Ordner vererbt wird, vermeidet dies Fehler und ermöglicht das bequeme Aufnehmen von neuen Hosts.</p></div>
</li>
<li><p><span class="guihint">Remove TLS registration:</span> Entfernt die Registrierung zur verschlüsselten Kommunikation per Transport Layer Security (TLS), z.B. um die Kommunikation mit dem <a href="wato_monitoringagents.html#agents">Checkmk-Agenten</a> auf den unverschlüsselten Modus zurückzusetzen.</p></li>
<li><p><span class="guihint">Discover services:</span> <a href="wato_services.html#bulk_discovery">Service-Erkennung für viele Hosts</a> gleichzeitig durchführen.</p></li>
<li><p><span class="guihint">Detect network parent hosts:</span> <a href="#folder_network_scan">Parents per Scan</a> anlegen lassen.</p></li>
<li><p><span class="guihint">Move to other folder:</span> Verschiebt die Hosts in einen anderen Ordner. Nach Auswahl dieses Eintrags werden Ihnen die bestehenden Ordner als mögliche Ziele angeboten.</p></li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_services">
<span class="hidden-anchor sr-only" id="services"></span>4. Services konfigurieren</h2>
<div class="sectionbody">
<div class="paragraph"><p>Der nächste Schritt nach dem Anlegen eines Hosts ist die Konfiguration der darauf zu überwachenden Services.
Alle Einzelheiten der automatischen Erkennung und Konfiguration der Services erfahren Sie im Artikel <a href="wato_services.html">Services verstehen und konfigurieren.</a>
Wir schildern hier nur das Wichtigste.</p></div>
<div class="paragraph"><p>Zur Liste der konfigurierten Services eines Hosts gelangen Sie auf den folgenden Wegen:</p></div>
<div class="ulist"><ul>
<li><p>Im Setup über die Host-Liste:<br>
Wählen Sie <span class="guihint">Setup &gt; Hosts &gt; Hosts.</span> In der Host-Liste klicken Sie auf <span class="image-inline"><img src="../images/icons/icon_services.png" alt="Symbol zur Anzeige der konfigurierten Services."></span>.</p></li>
<li><p>Im Setup über die Eigenschaften eines Hosts:<br>
Wählen Sie <span class="guihint">Setup &gt; Hosts &gt; Hosts.</span> In der Host-Liste klicken Sie den Host an. Auf der Seite <span class="guihint">Properties of host</span> wählen Sie im Menü <span class="guihint">Host &gt; Save &amp; go to service configuration.</span> Wenn Sie stattdessen im Menü <span class="guihint">Host &gt; Service configuration</span> wählen, kommen Sie ebenfalls zur Service-Liste — ohne allerdings die Host-Eigenschaften zu speichern.</p></li>
<li><p>Im Monitoring über die Liste der Services eines Hosts:<br>
Wählen Sie das Menü <span class="guihint">Host</span> und dort im Abschnitt <span class="guihint">Setup</span> den Eintrag <span class="guihint">Service configuration.</span> Ein kleines Zahnradsymbol am Icon zeigt, dass dieser Menüeintrag in eine Seite im Setup führt. So kommen Sie direkt zur Konfiguration der Services.</p></li>
</ul></div>
<div class="paragraph"><p>Egal für welchen Weg Sie sich entscheiden, das Ergebnis sollte ungefähr so aussehen:</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_services.png" alt="Liste der auf dem Host gefundenen Services."></div></div>
<div class="paragraph"><p>Die wichtigsten Aktionen werden Ihnen in der Aktionsleiste angeboten, weitere finden Sie im Menü <span class="guihint">Actions.</span>
Zu den möglichen Aktionen einige Hinweise:</p></div>
<div class="ulist"><ul>
<li><p>Der Knopf <span class="guihint">Accept all</span> ist meist die beste Aktion für einen neuen Host. Dies ist auch die richtige Wahl für bestehende Hosts, bei denen Services gefunden wurden, die aktuell nicht überwacht werden. Diese finden Sie im Abschnitt <span class="guihint">Undecided services (currently not monitored).</span> <span class="guihint">Accept all</span> fügt die fehlenden Services hinzu, entfernt verschwundene Services und übernimmt gefundene Host-Labels.</p></li>
<li><p>Der Knopf <span class="guihint">Rescan</span> sorgt dafür, dass frische, vollständige Daten vom Zielgerät geholt werden.
Um einen schnellen Seitenaufbau zu ermöglichen, arbeitet Checkmk mit gecachten Dateien, die beim normalen Monitoring aufgezeichnet werden.
Bei SNMP-Geräten löst der Knopf daher eine aktive Suche nach neuen Check-Plugins aus und findet eventuell weitere Services.</p></li>
<li><p>Der Knopf <span class="guihint">Monitor undecided services</span> übernimmt die entsprechenden Services ins Monitoring, allerdings ohne Übernahme der Host-Labels.</p></li>
<li><p><span class="guihint">Remove vanished services</span> entfernt nicht mehr vorhandene Services.
Das ist bei Services nützlich, die sich bei der Erkennung einen aktuellen Zustand merken (z.B. den aktuellen Zustand der Ports eines Switches oder von Dateisystemen und ihren Mountpoints).</p></li>
<li><p>Nach jeder Änderung ist ein <a href="wato.html#activate_changes">Aktivieren der Änderungen</a> nötig, um diese wirksam zu machen.</p></li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_import">
<span class="hidden-anchor sr-only" id="import"></span>5. Hosts über CSV-Daten importieren</h2>
<div class="sectionbody">
<div class="paragraph"><p>Wenn Sie eine größere Anzahl von Hosts auf einmal in Checkmk eintragen möchten, können Sie sich die Arbeit einfach machen.
Importieren Sie die Hosts mithilfe einer CSV-Datei.
Vor allem in zwei Anwendungsfällen ist dies eine Unterstützung:</p></div>
<div class="ulist"><ul>
<li><p>Sie wollen Hosts aus einem anderen Monitoring-System übernehmen, welches den Export in strukturierten Datenformaten anbietet.
Dann können Sie sich daraus eine CSV-Datei erstellen lassen und für den Checkmk-Import nutzen.</p></li>
<li><p>Sie wollen viele neue Hosts auf einmal anlegen.
In diesem Fall schreiben Sie diese in eine Excel-Tabelle.
Anschließend importieren Sie diese Liste als CSV-Datei.</p></li>
</ul></div>
<div class="paragraph"><p>Checkmk ist beim Einlesen von CSV-Daten recht flexibel.
Im einfachsten Fall haben Sie schlicht eine Datei, in der in jeder Zeile ein Host-Name steht, der per DNS auflösbar ist:</p></div>
<div class="listingblock">
<div class="title">import.csv</div>
<div class="content"><pre class="pygments highlight"><code><span></span>myserver01
myserver02</code></pre></div>
</div>
<div class="paragraph"><p>Sie können beim Import auch gleich weitere Attribute übergeben.
Eine Übersicht aller möglichen Attribute finden Sie im <a href="#import_attributes">nächsten Abschnitt.</a>
Enthält die CSV-Datei in der ersten Zeile die Namen der Attribute, wird Checkmk diese automatisch zuordnen.
Checkmk ist recht tolerant gegenüber nicht exakter Rechtschreibung und versucht kleine Abweichungen zu interpretieren.
In folgender Datei z.B. kann Checkmk automatisch alle Spalten korrekt zuordnen:</p></div>
<div class="listingblock">
<div class="title">import.csv</div>
<div class="content"><pre class="pygments highlight"><code><span></span>hostname;ip address;alias;agent;snmp_ds
lnx17.example.com;192.168.178.48;Webserver;cmk-agent;
lnx18.exmpl.com;192.168.178.55;Backupserver;cmk-agent;
switch47-11;;Switch47;no-agent;snmp-v2</code></pre></div>
</div>
<div class="paragraph"><p>Das Vorgehen ist wie folgt:
Wählen oder erstellen Sie einen Ordner, in den der Import erfolgen soll.
Wechseln Sie in diesen Ordner <span class="guihint">(Setup &gt; Hosts &gt; …​)</span> und wählen Sie im Menü <span class="guihint">Hosts</span> den Eintrag <span class="image-inline"><img src="../images/icons/icon_bulk_import.png" alt="Symbol zum Import mehrerer Hosts im CSV-Dateiformat."></span> <span class="guihint">Import hosts via CSV file.</span></p></div>
<div class="paragraph"><p>Auf der folgenden Seite laden Sie mit <span class="guihint">Upload CSV File</span> die Datei hoch.
Alternativ wählen Sie <span class="guihint">Content of CSV File</span> und kopieren den Inhalt der Datei in das Textfeld unter der Liste.
Sie können auf den neu importierten Hosts sofort eine automatische Service-Erkennung ausführen lassen.
Wählen Sie dafür die Option <span class="guihint">Perform automatic service discovery:</span></p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_bulk_import_step1.png" alt="Dialog zur Eingabe der CSV-Daten für den Import."></div></div>
<div class="paragraph"><p>Per Klick auf <span class="image-inline"><img src="../images/icons/icon_save.png" alt="Symbol zur Übernahme der Eingaben."></span> <span class="guihint">Upload</span> kommen Sie zur nächsten Seite:</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_bulk_import_step2.png" alt="Dialog zur Kontrolle der CSV-Daten für den Import."></div></div>
<div class="paragraph"><p>Die Auswahl eines Trennzeichens (<span class="guihint">field delimiter</span>) ist für dieses Beispiel nicht notwendig.
Das Semikolon wurde bereits korrekt interpretiert.
Checkmk erkennt gebräuchliche Trennzeichen, wie z.B. Tabulator oder Semikolon automatisch.
Aber wählen Sie hier die Option <span class="guihint">Has title line,</span> um die Überschriften zu berücksichtigen.
Unter <span class="guihint">Preview</span> sehen Sie die Vorschau der Tabelle.</p></div>
<div class="paragraph"><p>Falls die automatische Erkennung einer Spalte nicht klappt, können Sie auch manuell das Attribut auswählen, welches zugeordnet werden soll.
Nutzen Sie dafür die jeweilige Liste.
Bei den Host-Merkmalen (das sind die Einträge, die mit <span class="guihint">Tag</span> beginnen) muss in der CSV-Datei unbedingt die interne ID des Merkmals stehen (hier z.B. <code>cmk-agent</code> und nicht der in der GUI sichtbare Titel <span class="guihint">Checkmk agent / API integrations</span>).
Wie die internen IDs der Host-Merkmale genau lauten, können Sie unter <span class="guihint">Setup &gt; Hosts &gt; Tags</span> nachsehen.
Die IDs der vordefinierten (<span class="guihint">builtin</span>) Merkmale finden Sie in der Tabelle im Artikel über die <a href="host_tags.html#predefined_tags">Host-Merkmale.</a></p></div>
<div class="paragraph"><p>Starten Sie den Import durch Klick auf <span class="image-inline"><img src="../images/icons/icon_save.png" alt="Symbol zum Sichern der Eingaben."></span> <span class="guihint">Import.</span>
Falls Sie die Option <span class="guihint">Perform automatic service discovery</span> gewählt haben, landen Sie auf der Seite <a href="wato_services.html#bulk_discovery">Bulk discovery</a> und sollten diese noch bearbeiten.
Nach Abschluss der Service-Erkennung fehlt nur noch die gewohnte Aktivierung der Änderungen, dann befinden sich alle neuen Hosts im Monitoring.</p></div>
<div class="sect2">
<h3 id="heading_import_attributes">
<span class="hidden-anchor sr-only" id="import_attributes"></span>5.1. Übersicht der Attribute für den Import</h3>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Attribut</th>
<th class="tableblock halign-left valign-top">Bedeutung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name des Hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Alias</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aliasbezeichnung des Hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Monitored on site</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instanz, auf der dieser Host überwacht wird</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IPv4 address</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv4-Adresse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IPv6 address</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IPv6-Adresse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SNMP community</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SNMP-Community</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tag: Criticality</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merkmal: Kritikalität</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tag: Networking Segment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merkmal: Netzwerksegment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tag: Checkmk agent / API integrations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merkmal: Checkmk-Agent / API-Integration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tag: Piggyback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merkmal: Piggyback</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tag: SNMP</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merkmal: SNMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tag: IP address family</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merkmal: IP-Adressfamilie</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_folder_network_scan">
<span class="hidden-anchor sr-only" id="folder_network_scan"></span>6. Netzwerk-Scan für Ordner durchführen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__das_prinzip">
<span class="hidden-anchor sr-only" id="_das_prinzip"></span>6.1. Das Prinzip</h3>
<div class="paragraph"><p>Checkmk bietet die Möglichkeit, Ihr Netzwerk — oder auch nur Teile davon — automatisch und regelmäßig nach (neuen) Hosts zu durchsuchen.
Dieser Netzwerk-Scan wird auf Ebene der Ordner in der Host-Verwaltung von Checkmk eingerichtet.
Im Hintergrund läuft dafür minütlich ein Cronjob. Dieser prüft alle Ordner dahingehend, ob wieder ein entsprechender Scan ansteht.
Der Cronjob prüft dafür die beiden Einstellungen <span class="guihint">Scan interval</span> und <span class="guihint">Time allowed.</span>
Wenn das Intervall abgelaufen ist und der Server sich innerhalb der für den Scan erlaubten Zeitspanne befindet, wird der Scan gestartet.
Ein neu eingerichteter Netzwerk-Scan würde also innerhalb einer Minute nach dem Klick auf <span class="guihint">Save</span> starten, sofern Sie die <span class="guihint">Time allowed</span> nicht verändert wurde.</p></div>
<div class="paragraph"><p>Sobald ein Scan startet, passieren im Grunde drei Dinge:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Checkmk ermittelt zuerst die IP-Adressen, die gescannt werden sollen.
Aus den konfigurierten Adressbereichen werden dabei alle Adressen entfernt, die bereits in der Konfiguration Ihrer Hosts in einem beliebigen Ordner verwendet werden.</p></li>
<li><p>Die ermittelten Adressen werden nun gepingt.
Wenn es auf einer Adresse eine Antwort auf diesen Ping gibt, wird versucht einen Host-Namen zu ermitteln.</p></li>
<li><p>Zuletzt werden die Hosts in dem Ordner erzeugt.
Ausgelassen werden dabei alle Hosts mit Namen, die es in der Instanz bereits gibt.</p></li>
</ol></div>
</div>
<div class="sect2">
<h3 id="heading__netzwerk_scan_einrichten">
<span class="hidden-anchor sr-only" id="_netzwerk_scan_einrichten"></span>6.2. Netzwerk-Scan einrichten</h3>
<div class="paragraph"><p>Wie oben bereits angesprochen, wird der Netzwerk-Scan auf Ebene der Ordner eingerichtet.
Öffnen Sie zuerst <span class="guihint">Setup &gt; Hosts &gt; Hosts.</span> Navigieren Sie dann in einen beliebigen Ordner oder verbleiben Sie im Ordner <span class="guihint">Main.</span>
Über das Menü <span class="guihint">Folder &gt; Properties</span> finden Sie den Kasten <span class="guihint">Network Scan.</span></p></div>
<div class="imageblock"><div class="content"><img src="../images/wato_host_network_scan_new.png" alt="Deaktivierter Kasten _Network Scan_ in den Eigenschaften eines Ordners" width="."></div></div>
<div class="paragraph"><p>Aktivieren Sie den Netzwerk-Scan über die entsprechende Checkbox.</p></div>
<div class="imageblock"><div class="content"><img src="../images/wato_host_network_scan_activated.png" alt="Aktivierter aber unkonfigurierter Kasten _Network Scan_" width="."></div></div>
<div class="paragraph"><p>Legen Sie anschließend bei <span class="guihint">IP ranges to scan</span> die IP-Adressen fest, welche Checkmk für Sie automatisch überwachen soll.
Für diese Festlegung haben Sie die Wahl zwischen einzelnen IP-Adressen, IP-Bereichen und ganzen Netzwerken.
Wir empfehlen die Adressbereiche nicht zu groß zu wählen, da es ansonsten zu sehr langen Laufzeiten des Netzwerk-Scans kommen kann.
Bei der Wahl eines Netzwerks empfehlen wir die Netzmaske von <code>/21</code> nicht zu überschreiten, was 2048 IP-Adressen entspricht.
Die Anzahl von 2048 IP-Adressen sollten Sie auch bei Auswahl über <span class="guihint">IP-Range</span> nicht überschreiten.
Dies kann natürlich nur eine grobe Empfehlung sein, da Ihr (Firmen-)Netzwerk womöglich mit größeren Adressbereichen problemlos klarkommt.</p></div>
<div class="paragraph"><p>Über die folgende Option <span class="guihint">IP ranges to exclude</span> können Sie Teile aus dem oberhalb konfigurierten Adressbereich ausnehmen.
Die Option bietet sich auch an, um bereits bekannte und überwachte Hosts bzw. IP-Adressen aus dem Netzwerk-Scan auszuschließen.
So können Sie verhindern, dass Dubletten von Hosts angelegt werden.</p></div>
<div class="paragraph"><p>Mit den folgenden beiden Optionen <span class="guihint">Scan interval</span> und <span class="guihint">Time allowed</span> können Sie festlegen, wie häufig der Scan laufen soll und zu welcher Zeit Sie dies erlauben möchten.</p></div>
<div class="paragraph"><p>Mit die wichtigste Überlegung bei der Einrichtung des Netzwerk-Scans ist, wie Sie mit gefundenen Hosts umgehen wollen.
Hierbei fällt der Option <span class="guihint">Set criticality host tag</span> eine zentrale Rolle zu:</p></div>
<div class="ulist"><ul>
<li><p>Standardmäßig ist <span class="guihint">Do not monitor this host</span> ausgewählt.
Dies legt fest, dass die gefundenen Hosts erst einmal nur in die Host-Verwaltung aufgenommen werden.
Ein Monitoring findet so also erst einmal nicht statt.
Ein Ansatz könnte hier sein, die gefundenen Hosts <em>manuell</em> in Ihre bestehende Host-Struktur zu überführen — zum Beispiel mithilfe der Funktion <span class="guihint">Move this host to another folder.</span>
Nach dem Verschieben müssen Sie dann noch das Host-Merkmal <span class="guihint">Criticality</span> anpassen oder entfernen.
Bei einer größeren Zahl von Hosts können Sie hierfür die Funktion <span class="guihint">Remove explicit attribute settings</span> in <span class="guihint">Setup &gt; Hosts &gt; Hosts</span> verwenden.</p></li>
<li><p>Wählen Sie stattdessen hier als Host-Merkmal <span class="guihint">Productive system</span> aus, werden die gefundenen Hosts — bei entsprechender Konfiguration mit dem Regelsatz <a href="wato_services.html#discovery_auto"><span class="guihint">Periodic service discovery</span></a> — auch direkt ins Monitoring aufgenommen.</p></li>
</ul></div>
<div class="paragraph"><p>Beachten Sie vor Verwendung des Netzwerk-Scans auch die folgenden grundsätzlichen Überlegungen:</p></div>
<div class="ulist"><ul>
<li><p>Der Scan läuft über einen Ping ab.
Das bedeutet auch, dass Geräte, die nur über SNMP überwacht werden können, zwar womöglich gefunden, aber nicht automatisch überwacht werden, da die <span class="guihint">SNMP credentials</span> nicht konfiguriert sind.</p></li>
<li><p>Bei neuen Windows-Hosts ist ohne eine entsprechende Konfiguration durch z.B. Gruppenrichtlinien das sogenannte <em>Echo Request</em> in der Firewall deaktiviert.
Solche Windows-Hosts werden dem Scan also nicht antworten und somit auch nicht gefunden werden.</p></li>
<li><p>Checkmk kann Ihnen zu den gefundenen Hosts nur dann saubere Daten liefern, wenn Ihr Netzwerk und Ihre Instanz entsprechend konfiguriert sind.
Widersprüchliche Einträge im DNS und Ihrer Checkmk-Instanz können zu Dubletten führen.
Eine Dublette wird angelegt, wenn der Host mit Namen (aber ohne IP-Adresse) in Checkmk bereits eingerichtet ist und nun über seine IP-Adresse unter einem anderen Namen gefunden wird.</p></li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_search">
<span class="hidden-anchor sr-only" id="search"></span>7. Hosts im Setup suchen</h2>
<div class="sectionbody">
<div class="paragraph"><p>Checkmk bietet Ihnen die komfortable Möglichkeit zur Suche in der <a href="user_interface.html#search_monitor">Monitoring-Umgebung</a> (im <span class="guihint">Monitor</span>-Menü) und in der <a href="user_interface.html#search_setup">Konfigurationsumgebung</a> (im <span class="guihint">Setup</span>-Menü).
Die Ergebnisse können unterschiedlich sein, da die Hosts in der Monitoring-Umgebung nicht unbedingt die gleichen sein müssen wie in der Konfigurationsumgebung:
Wenn Sie z.B. einen Host im Setup erstellt haben, ohne diese Änderung zu aktivieren, existiert dieser (noch) nicht im Monitoring.</p></div>
<div class="paragraph"><p>Zur Suche nach Hosts in der Konfigurationsumgebung gibt es noch eine andere Möglichkeit, die folgende Vorteile hat:</p></div>
<div class="ulist"><ul>
<li><p>Sie können Hosts nach verschiedenen Kriterien suchen lassen.</p></li>
<li><p>Die gefundenen Hosts werden auf einer Ergebnisseite gelistet, von der aus Sie die weiter oben vorgestellten <a href="#bulk_operations">Bulk-Aktionen</a> starten können.</p></li>
</ul></div>
<div class="paragraph"><p>Sie finden diese Suche unter <span class="guihint">Setup &gt;  Hosts &gt; Hosts</span> auf der Seite eines geöffneten Ordners im Menü <span class="guihint">Display &gt; Search hosts.</span>
Die Suche geht immer vom aktuellen Ordner aus, rekursiv in alle Unterordner.
Um global zu suchen, verwenden Sie einfach die Suche vom Hauptordner <span class="guihint">Main</span> aus:</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_search.png" alt="Dialog zur Suche nach Hosts in einem Ordner."></div></div>
<div class="paragraph"><p>Beim Feld <span class="guihint">Hostname</span> wird eine Wortteilsuche (<em>Infix-Suche</em>) verwendet — der eingegebene Text wird, an beliebiger Stelle, im Host-Namen gesucht.
Ferner können Sie die Suche auch über andere Attribute einschränken.
Alle Bedingungen werden mit <em>UND</em> verknüpft.
Das Beispiel aus dem Bild oben sucht also alle Hosts mit <span class="guihint">my</span> im Namen, die gleichzeitig das Merkmal <span class="guihint">Test system</span> haben.</p></div>
<div class="paragraph"><p>Mit <span class="guihint">Submit</span> starten Sie die Suche.
Die Ergebnisseite verhält sich fast wie ein normaler Ordner.
Das bedeutet, dass Sie hier die Bulk-Aktionen nutzen können, die im Menü <span class="guihint">Hosts</span> im Abschnitt <span class="guihint">On selected hosts</span> angeboten werden, um z.B. alle gefundenen Hosts in einen bestimmten Ordner zu verschieben.</p></div>
<div class="paragraph"><p>Sie können die Suche auf der Ergebnisseite mit <span class="guihint">Refine search</span> weiter anpassen und verfeinern.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_rename">
<span class="hidden-anchor sr-only" id="rename"></span>8. Hosts umbenennen</h2>
<div class="sectionbody">
<div class="paragraph"><p>Das Umbenennen von Hosts ist auf den ersten Blick eine einfache Sache.
Bei näherem Hinsehen entpuppt es sich aber als komplexe Operation.
Der Grund ist, dass Checkmk den Namen des Hosts als eindeutigen Schlüssel für den Host verwendet — und das an zahlreichen Stellen.
Dazu gehören Dateinamen, Log-Daten, <a href="glossar.html#rule">Regeln</a>, <a href="glossar.html#dashboard">Dashboards</a>, Berichte, <a href="glossar.html#bi">BI</a>-Aggregate und vieles mehr.
Auch taucht der Host-Name in URLs auf.</p></div>
<div class="paragraph"><p>Um einen Host an allen Stellen sauber umzubenennen, stellt Checkmk im <span class="guihint">Setup</span> zwei Aktionen bereit.
Sie können entweder einen einzelnen Host umbenennen (in den Eigenschaften des Hosts im Menü <span class="guihint">Host &gt; Rename</span>) oder in einem Ordner mehrere Hosts gleichzeitig (im Menü <span class="guihint">Hosts &gt; Rename multiple hosts</span>).</p></div>
<div class="paragraph"><p><strong>Wichtig:</strong> Bei Änderungen an vielen Stellen und für mehrere Hosts kann auch einmal etwas schiefgehen. Vergewissern Sie sich daher, dass Sie über ein aktuelles <a href="backup.html">Backup</a> Ihrer Instanz verfügen — bevor Sie die Umbenennungsaktion starten.</p></div>
<div class="paragraph"><p>Das <span class="guihint">Bulk renaming of hosts</span> ermöglicht die gleichzeitige, systematische Namensanpassung für mehrere Hosts:</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_bulk_renaming.png" alt="Dialog zur Umbenennung mehrerer Hosts."></div></div>
<div class="paragraph"><p>Im Feld <span class="guihint">Hostname matching</span> geben Sie zunächst optional einen regulären Ausdruck an, der mit dem <strong>Anfang</strong> der Host-Namen übereinstimmt, die Sie umbenennen möchten — hier im Beispiel also alle Hosts, deren Namen mit <code>lnx</code> beginnen.
Dann fügen Sie mit <span class="guihint">Add renaming</span> eine oder mehrere Operationen ein. Diese werden <strong>der Reihe nach</strong> auf die Host-Namen angewendet.
In obigem Beispiel wird von allen Host-Namen zunächst mit <span class="guihint">Drop Domain Suffix</span> alles ab dem ersten <code>.</code> abgeschnitten und danach mit <span class="guihint">Add Suffix</span> die Endung <code>-linuxserver</code> angefügt.</p></div>
<div class="paragraph"><p>Es stehen weitere Operationen zur Verfügung, die großteils selbsterklärend sind.
Ansonsten können Sie durch Einblenden der <a href="user_interface.html#inline_help">Inline-Hilfe</a> weitere Informationen erhalten.</p></div>
<div class="paragraph"><p>Nach dem Start der Umbenennung mit <span class="image-inline"><img src="../images/icons/icon_save.png" alt="Symbol zum Sichern der Eingaben."></span> <span class="guihint">Bulk rename</span> und Bestätigung der obligatorischen „Sind Sie sicher…​?“-Frage …</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_bulk_renaming_sure.png" alt="Dialog zur Bestätigung der Host-Umbenennung."></div></div>
<div class="paragraph"><p>… kann es eine Weile dauern.
Während der Umbenennung wird das Monitoring <strong>komplett gestoppt!</strong>
Dies ist notwendig, um alles in einem konsistenten Zustand zu halten.
Am Ende erhalten Sie eine Übersicht, wo genau Umbenennungen durchgeführt wurden:</p></div>
<div class="imageblock"><div class="content"><img src="../images/hosts_bulk_bulk_renaming_result.png" alt="Ergebnis der Host-Umbenennung."></div></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_rest_api">
<span class="hidden-anchor sr-only" id="rest_api"></span>9. REST-API-Anfragen für Hosts und Ordner</h2>
<div class="sectionbody">
<div class="paragraph"><p>Viele der Aktionen, die in diesem Artikel beschrieben sind, können Sie auch mit der Checkmk-REST-API ausführen.
Dies ist besonders dann interessant, wenn Sie viele Objekte in Ihrer Instanz zu verwalten haben und Aktionen automatisieren wollen.
So können Sie z.B. viele Hosts per REST-API erstellen und vermeiden damit mögliche Fehler, die bei der manuellen Eingabe über die GUI immer wieder vorkommen können.</p></div>
<div class="paragraph"><p>Wenn Kommandozeile, Skripte und APIs nicht Ihre Werkzeuge der ersten Wahl sind, reicht es an dieser Stelle aus, zu wissen, dass es diese API gibt.
Sie können damit auf ein mächtiges Hilfsmittel bei Bedarf zurückgreifen — als Alternative zur Verwaltung über die Weboberfläche.</p></div>
<div class="paragraph"><p>Im Artikel zur <a href="rest_api.html">REST-API</a> erhalten Sie eine Einführung zur Anwendung dieser API.
Die Referenz-Dokumentation finden Sie in der <a href="rest_api.html#rest_api_gui">Weboberfläche</a> Ihrer Checkmk-Instanz.
Dort können Sie sich mit der Syntax der Anfragen und der Struktur der Antworten vertraut machen.
Auf alle wichtigen Einträge zur REST-API können Sie in der Checkmk-Weboberfläche über die Navigationsleiste im Menü <span class="guihint">Help &gt; Developer resources</span> zugreifen.</p></div>
<div class="paragraph"><p>Schließlich finden Sie im Artikel zur REST-API <a href="rest_api.html#examples">Beispiele,</a> wie Sie auf der Kommandozeile Aktionen für Hosts und Ordner ausführen können, z.B. die Ordnerstruktur und die Hosts eines Ordners anzeigen, einen Host in einem bestimmten Ordner erstellen und vieles mehr.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_files">
<span class="hidden-anchor sr-only" id="files"></span>10. Dateien und Verzeichnisse</h2>
<div class="sectionbody"><table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Pfad</th>
<th class="tableblock halign-left valign-top">Bedeutung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/etc/check_mk/conf.d/wato/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In diesem Verzeichnis wird die Ordnerstruktur im Setup unterhalb des Ordners <span class="guihint">Main</span> durch eine Unterverzeichnisstruktur abgebildet.
Wird in der GUI ein Ordner angelegt, wird im Dateisystem auch ein neues Verzeichnis erstellt.
Dabei sorgt Checkmk dafür, dass die Namen der Verzeichnisse eindeutig sind und nur Zeichen verwendet werden, die im Dateisystem erlaubt sind.
So wird etwa ein Leerzeichen durch einen Unterstrich ersetzt.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/etc/check_mk/conf.d/wato/hosts.mk</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konfigurationsdatei für alle Hosts im Ordner <span class="guihint">Main.</span> Für Hosts in Unterordnern von <span class="guihint">Main</span> gibt es jeweils eine gleichnamige Datei in den zugehörigen Unterverzeichnissen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/etc/check_mk/conf.d/wato/.wato</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Diese versteckte Datei enthält den Anzeigenamen in der GUI (<span class="guihint">Main</span>) und alle weiteren Eigenschaften dieses Verzeichnisses.
Eine Datei <code>.wato</code> existiert in jedem Unterverzeichnis.
Wird ein Ordner in der GUI umbenannt, wird in dieser Datei nur der Parameter <code>title</code> für den Anzeigenamen geändert.
Der Name des Verzeichnisses im Dateisystem bleibt unverändert.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/etc/check_mk/(conf.d|multisite.d)/wato/tags.mk</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In diesen Dateien befinden sich die Definitionen aller Host-Merkmale.</p></td>
</tr>
</tbody>
</table></div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">Auf dieser Seite</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Einleitung</a></li>
<li>
<a href="#folder">2. Ordner und Vererbung</a><ul class="sectlevel1">
<li><a href="#_hierarchie_der_ordner">2.1. Hierarchie der Ordner</a></li>
<li><a href="#inheritance">2.2. Vererbung von Attributen</a></li>
<li><a href="#create_folders">2.3. Ordner erstellen</a></li>
</ul>
</li>
<li>
<a href="#create_hosts">3. Hosts im Setup erstellen und bearbeiten</a><ul class="sectlevel1">
<li><a href="#_der_host_name">3.1. Der Host-Name</a></li>
<li><a href="#dns">3.2. Alias und IP-Adresse</a></li>
<li><a href="#monitoring_agents">3.3. Monitoring-Agenten</a></li>
<li><a href="#custom_attributes">3.4. Eigene Attribute</a></li>
<li><a href="#management_board">3.5. Management Board</a></li>
<li><a href="#_erstellung_sperrung">3.6. Erstellung / Sperrung</a></li>
<li><a href="#_speichern_und_weiter">3.7. Speichern und weiter</a></li>
<li><a href="#bulk_operations">3.8. Bulk-Aktionen</a></li>
</ul>
</li>
<li><a href="#services">4. Services konfigurieren</a></li>
<li>
<a href="#import">5. Hosts über CSV-Daten importieren</a><ul class="sectlevel1"><li><a href="#import_attributes">5.1. Übersicht der Attribute für den Import</a></li></ul>
</li>
<li>
<a href="#folder_network_scan">6. Netzwerk-Scan für Ordner durchführen</a><ul class="sectlevel1">
<li><a href="#_das_prinzip">6.1. Das Prinzip</a></li>
<li><a href="#_netzwerk_scan_einrichten">6.2. Netzwerk-Scan einrichten</a></li>
</ul>
</li>
<li><a href="#search">7. Hosts im Setup suchen</a></li>
<li><a href="#rename">8. Hosts umbenennen</a></li>
<li><a href="#rest_api">9. REST-API-Anfragen für Hosts und Ordner</a></li>
<li><a href="#files">10. Dateien und Verzeichnisse</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../../assets/js/lunr.de.js"></script>
<script src="../lunr.index.de.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
