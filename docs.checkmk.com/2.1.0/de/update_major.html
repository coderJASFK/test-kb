<!DOCTYPE html>
<html lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="Was es beim Update von Checkmk Version 2.0.0 auf 2.1.0 zu beachten gibt, erfahren Sie in diesem Artikel.">
<meta name="og:locale" content="de">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Update auf Version 2.1.0">
<meta name="og:description" content="Was es beim Update von Checkmk Version 2.0.0 auf 2.1.0 zu beachten gibt, erfahren Sie in diesem Artikel.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Update auf Version 2.1.0</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Suche auf docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/de"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/de"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">de</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/en/update_major.html">English</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/de/update_major.html">2.2.0</a><a class="dropdown-item" href="../../latest/de/update_major.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_willkommen_bei_checkmk">
<a class="anchor" href="#_willkommen_bei_checkmk"></a>1. Willkommen bei Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Willkommen im Checkmk Handbuch</a></p>
</li>
<li>
<p><a href="glossar.html">Glossar</a></p>
</li>
<li>
<p><a href="search.html">Suchen in docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leitfaden_für_einsteiger">
<a class="anchor" href="#_leitfaden_f%C3%BCr_einsteiger"></a>2. Leitfaden für Einsteiger</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Checkmk aufsetzen</a></p>
</li>
<li>
<p><a href="intro_gui.html">Die Checkmk-Oberfläche</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Das Monitoring einrichten</a></p>
</li>
<li>
<p><a href="intro_tools.html">Die Monitoring-Werkzeuge</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk im Monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Das Monitoring feinjustieren</a></p>
</li>
<li>
<p><a href="intro_users.html">Mit mehreren Benutzern arbeiten</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Benachrichtigungen einschalten</a></p>
</li>
<li>
<p><a href="intro_extend.html">Das Monitoring weiter ausbauen</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best Practices, Tipps &amp; Tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_und_vms">
<a class="anchor" href="#_server_und_vms"></a>3.1. Server und VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation unter Debian und Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation unter Red Hat und CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation unter SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, Container, Cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation von Checkmk in der Appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation als Docker-Container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates und Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update auf Version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update-Matrix für Version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux-Upgrade auf dem Checkmk-Server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk-Versionen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_von_checkmk">
<a class="anchor" href="#_administration_von_checkmk"></a>4. Administration von Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Anmeldung mit SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single Sign-On mit Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk-Server im Docker-Container</a></p>
</li>
<li>
<p><a href="security.html">Sicherheit (Security)</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Weboberfläche mit HTTPS absichern</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instanzen">
<a class="anchor" href="#_instanzen"></a>4.2. Instanzen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Instanzen (Sites) mit omd verwalten</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk auf der Kommandozeile</a></p>
</li>
<li>
<p><a href="license.html">Lizenzen verwalten</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Verteiltes Monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Konfiguration der Checkmk Instanz analysieren</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk Erweiterungspakete (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Der Simulationsmodus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konfiguration">
<a class="anchor" href="#_konfiguration"></a>5. Konfiguration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Die Konfiguration von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Verwaltung der Hosts</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Strukturierung der Hosts</a></p>
</li>
<li>
<p><a href="host_tags.html">Host-Merkmale</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamische Host-Konfiguration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Services verstehen und konfigurieren</a></p>
</li>
<li>
<p><a href="clustered_services.html">Cluster-Services überwachen</a></p>
</li>
<li>
<p><a href="piggyback.html">Der Piggyback-Mechanismus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_regeln">
<a class="anchor" href="#_regeln"></a>5.3. Regeln</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host- und Serviceparameter</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unterstützende_konfigurationen">
<a class="anchor" href="#_unterst%C3%BCtzende_konfigurationen"></a>5.4. Unterstützende Konfigurationen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Zeitperioden (Time Periods)</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Reguläre Ausdrücke in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benutzer_und_berechtigungen">
<a class="anchor" href="#_benutzer_und_berechtigungen"></a>5.5. Benutzer und Berechtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Benutzer, Zuständigkeiten, Berechtigungen</a></p>
</li>
<li>
<p><a href="ldap.html">Benutzerverwaltung mit LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benachrichtigungen">
<a class="anchor" href="#_benachrichtigungen"></a>5.6. Benachrichtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Einführung in die Benachrichtigungen</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Benachrichtigungen per Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Benachrichtigungen per Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Benachrichtigungen per PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Benachrichtigungen per Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Benachrichtigungen per Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Benachrichtigungen per ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Benachrichtigungen per Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Benachrichtigungen per Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Benachrichtigungen per Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">Die Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert Handler</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_überwachung_von_systemen">
<a class="anchor" href="#_%C3%BCberwachung_von_systemen"></a>6. Überwachung von Systemen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring-Agenten</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agenten_und_snmp">
<a class="anchor" href="#_checkmk_agenten_und_snmp"></a>6.1. Checkmk-Agenten und SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatische Agenten-Updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Linux überwachen</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Linux überwachen im Legacy-Modus</a></p>
</li>
<li>
<p><a href="agent_windows.html">Windows überwachen</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">FreeBSD überwachen</a></p>
</li>
<li>
<p><a href="snmp.html">Überwachen via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agentenerweiterungen">
<a class="anchor" href="#_agentenerweiterungen"></a>6.2. Agentenerweiterungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">Die HW/SW-Inventur</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Oracle-Datenbanken überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">MySQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">MSSQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Zeitbasierte Prozesse (Cronjobs) überwachen</a></p>
</li>
<li>
<p><a href="spool_directory.html">Das Spool-Verzeichnis</a></p>
</li>
<li>
<p><a href="localchecks.html">Lokale Checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, Cloud, Container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datenquellenprogramme</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">VMWare ESXi überwachen</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Amazon Web Services (AWS) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Microsoft Azure überwachen</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Kubernetes überwachen</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Docker überwachen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpunkte">
<a class="anchor" href="#_endpunkte"></a>6.4. Endpunkte</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Netzwerkdienste überwachen (Aktive Checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metriken">
<a class="anchor" href="#_dashboards_views_metriken"></a>7. Dashboards, Views, Metriken</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">Die Benutzeroberfläche</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_allgemein">
<a class="anchor" href="#_allgemein"></a>7.1. Allgemein</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Ansichten von Hosts und Services (Views)</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Messwerte und Graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kommandos_in_ansichten">
<a class="anchor" href="#_kommandos_in_ansichten"></a>7.2. Kommandos in Ansichten</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Kommandos</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Quittierung von Problemen</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Wartungszeiten</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auswertungen_und_prognosen">
<a class="anchor" href="#_auswertungen_und_prognosen"></a>8. Auswertungen und Prognosen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auswertungen">
<a class="anchor" href="#_auswertungen"></a>8.1. Auswertungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Verfügbarkeit (Availability)</a></p>
</li>
<li>
<p><a href="sla.html">Erweiterte Verfügbarkeiten (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Berichte (Reports)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosen">
<a class="anchor" href="#_prognosen"></a>8.2. Prognosen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Prognosebasiertes Monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Vorhersagegraphen erstellen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anbindung_anderer_applikationen">
<a class="anchor" href="#_anbindung_anderer_applikationen"></a>9. Anbindung anderer Applikationen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Prometheus integrieren</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Datadog integrieren</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: Statusdaten auf Karten und Diagrammen</a></p>
</li>
<li>
<p><a href="ntop.html">ntopng in Checkmk integrieren</a></p>
</li>
<li>
<p><a href="grafana.html">Checkmk in Grafana integrieren</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Metriken an InfluxDB und Graphite senden</a></p>
</li>
<li>
<p><a href="nagstamon.html">Nagstamon mit Checkmk verbinden</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_besonderheiten_in_den_editionen">
<a class="anchor" href="#_besonderheiten_in_den_editionen"></a>10. Besonderheiten in den Editionen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support Diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">Die Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatisierung_und_programmierung">
<a class="anchor" href="#_automatisierung_und_programmierung"></a>11. Automatisierung und Programmierung</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_zur_automatisierung">
<a class="anchor" href="#_apis_zur_automatisierung"></a>11.1. APIs zur Automatisierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Konfiguration via Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Statusdaten abrufen via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus Befehlsreferenz</a></p>
</li>
<li>
<p><a href="web_api.html">Konfiguration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Befehlsreferenz der HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_zur_programmierung">
<a class="anchor" href="#_apis_zur_programmierung"></a>11.2. APIs zur Programmierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">Die Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_programmierung_von_check_plugins">
<a class="anchor" href="#_programmierung_von_check_plugins"></a>11.3. Programmierung von Check-Plugins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Eigene Check-Plugins schreiben</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konzepte">
<a class="anchor" href="#_konzepte"></a>12. Konzepte</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Grundlagen des Monitorings mit Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_der_checkmk_micro_core_cmc">
<a class="anchor" href="#_der_checkmk_micro_core_cmc"></a>12.1. Der Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">Der Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Besonderheiten des CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration auf den CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">Dateien und Verzeichnisse des CMC</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_die_checkmk_appliance">
<a class="anchor" href="#_die_checkmk_appliance"></a>13. Die Checkmk Appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Schnellstart-Anleitung für Checkmk-Racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Schnellstart-Anleitung für Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Virtuelle Appliance installieren</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Appliance einrichten und nutzen</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in der Appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance im Cluster-Betrieb</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Besonderheiten der Hardware-Appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Update auf Version <span class="new">2.1.0</span>
</h1>
<div class="details">
<span id="revdate">Last modified on 14-Feb-2023</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/de/update_major.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">Dies ist eine am 2025-01-07 22:12:14 +0000 für die Offline-Nutzung exportierte Seite. Sie spiegelt möglicherweise nicht den aktuellen Stand der Checkmk Dokumentation wider. Um eine täglich aktualisierte Version dieser Seite anzusehen, rufen Sie bitte <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a> auf.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="update.html">Updates und Upgrades</a>
<a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_intro">
<span class="hidden-anchor sr-only" id="intro"></span>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph"><p>In diesem Artikel finden Sie die wichtigsten Themen, die für das Update Ihrer Checkmk-Version <span class="new">2.0.0</span> auf <span class="new">2.1.0</span> relevant sind.</p></div>
<div class="paragraph"><p>Wir empfehlen Ihnen, vor dem Update den kompletten Artikel durchzulesen, damit Sie genau wissen, was auf Sie zukommt: vor, während und nach dem Update.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_prep">
<span class="hidden-anchor sr-only" id="prep"></span>2. Vorbereitungen</h2>
<div class="sectionbody">
<div class="paragraph"><p>In diesem Kapitel erhalten Sie die Übersicht der Themen, um die Sie sich kümmern sollten, bevor Sie das Update durchführen.
Wahrscheinlich wird nicht jedes der Themen für Sie relevant sein:
Bei einem solchen können Sie intern einen Haken setzen und sich gleich das nächste Thema vornehmen.</p></div>
<div class="sect2">
<h3 id="heading_backup">
<span class="hidden-anchor sr-only" id="backup"></span>2.1. Backup</h3>
<div class="paragraph"><p>Wie vor jedem Update einer produktiven Software sollten Sie auch vor dem von Checkmk die Aktualität Ihrer Backups prüfen.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Ja.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong>  Wenn Sie Ihre Backups automatisiert über <span class="guihint">Setup &gt; Maintenance &gt; Backups</span> erstellen, prüfen Sie dort, ob die letzten Backup-Aufträge fehlerfrei durchgelaufen sind.</p></div>
<div class="paragraph"><p>Weitere Informationen finden Sie in den Artikeln zu <a href="backup.html">Backups</a> und zum Thema <a href="omd_basics.html#omd_backup_restore">Instanzen sichern und wiederherstellen.</a></p></div>
</div>
<div class="sect2">
<h3 id="heading_linux_versions">
<span class="hidden-anchor sr-only" id="linux_versions"></span>2.2. Linux-Distributionsversionen</h3>
<div class="paragraph"><p>In der Checkmk Version <span class="new">2.1.0</span> werden einige veraltete Versionen der Distribution Ubuntu nicht mehr unterstützt.
Für Nutzer von Debian, SLES und RHEL (sowie binärkompatiblen Derivaten wie CentOS) ergeben sich keine Änderungen.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Das betrifft Sie, wenn auf Ihrem Checkmk-Server eine der folgenden, in der <span class="new">2.0.0</span> noch unterstützten, Ubuntu-Versionen installiert ist:</p></div>
<div class="ulist"><ul>
<li><p>Ubuntu 20.10 <em>Groovy Gorilla</em></p></li>
<li><p>Ubuntu 21.04 <em>Hirsute Hippo</em></p></li>
</ul></div>
<div class="paragraph"><p>Bei Veröffentlichung von <span class="new">2.1.0</span> noch unterstützt, aber nicht empfohlen:
Für Ubuntu 21.10 (<em>Impish Indri</em>) wurde während der Beta-Phase von <span class="new">2.1.0</span> seitens Canonical die Unterstützung mit Sicherheits-Updates eingestellt.
Auch Debian 9 (<em>Stretch</em>) wird kurz nach Veröffentlichung  von Checkmk <span class="new">2.1.0</span> keine Sicherheits-Updates mehr erhalten.</p></div>
<div class="paragraph"><p>Neu hinzugekommen sind Debian 11 <em>Bullseye</em> und Ubuntu 22.04 <em>Yammy</em>.
Für beide Distributionen bauen wir auch Installationspakete von <span class="new">2.0.0</span>, um den empfohlenen Update-Pfad zu vereinfachen.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Führen Sie vor dem Update von Checkmk zuerst ein Versions-Upgrade der Linux-Distribution durch.
Achten Sie darauf, dass die Ziel-Version der Linux-Distribution von Checkmk <span class="new">2.0.0</span> <strong>und</strong> <span class="new">2.1.0</span> unterstützt wird.</p></div>
<div class="paragraph"><p>Welche Linux-Distributionsversionen Checkmk unterstützt, erfahren Sie in der <a href="update_matrix.html">Update-Matrix für <span class="new">2.1.0</span></a> und auf der <a href="https://checkmk.com/download" target="_blank">Download-Seite</a> nachdem Sie die Checkmk-Version und Ihre Linux-Distribution ausgewählt haben.</p></div>
<div class="paragraph"><p>Sollte es nun notwendig sein, vor dem Update von Checkmk, ein Versions-Upgrade Ihrer Linux-Distribution vorzunehmen, so empfehlen wir die folgende Vorgehensweise:</p></div>
<div class="olist arabic"><ol class="arabic"><li>
<p>Stoppen Sie zunächst Ihre Checkmk-Instanz:</p>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>stop<span class="tok-w"> </span>mysite</code></pre></div></div>
</li></ol></div>
<div class="olist arabic"><ol class="arabic" start="2"><li>
<p>Hängen Sie das <code>tmp</code>-Verzeichnis der Instanz aus:</p>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>umount<span class="tok-w"> </span>/opt/omd/sites/mysite/tmp</code></pre></div></div>
</li></ol></div>
<div class="olist arabic"><ol class="arabic" start="3"><li>
<p>Verschieben Sie das gesamte <code>omd</code>-Verzeichnis, damit hieran im nächsten Schritt keine ungewollten Änderungen auftreten können.
Bei einem Release-Upgrade werden im Regelfall alle Pakete entfernt, deren Abhängigkeiten nicht mehr erfüllt werden können.
Zu diesen Paketen würde auch Checkmk gehören.
Um hier einen Datenverlust zu verhindern, ist dieser Schritt notwendig und kann per <code>mv</code> durchgeführt werden.</p>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>mv<span class="tok-w"> </span>/opt/omd<span class="tok-w"> </span>/opt/omd.bak</code></pre></div></div>
</li></ol></div>
<div class="olist arabic"><ol class="arabic" start="4">
<li><p>Führen Sie das Versions-Upgrade von Linux entsprechend der Anleitung des jeweiligen Distributors durch.</p></li>
<li>
<p>Nach der erfolgreichen Aktualisierung Ihrer Linux-Distribution müssen Sie nun das in Sicherheit gebrachte <code>omd</code>-Verzeichnis wieder an Ort und Stelle verschieben:</p>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>mv<span class="tok-w"> </span>/opt/omd.bak<span class="tok-w"> </span>/opt/omd</code></pre></div></div>
</li>
</ol></div>
<div class="olist arabic"><ol class="arabic" start="6"><li>
<p>Installieren Sie nun das zur neuen Version der verwendeten Distribution passende Paket von Checkmk.
<strong>Wichtig:</strong> Die Versionsnummer von Checkmk muss exakt der vorher verwendeten entsprechen.
Wenn Sie also vor dem Upgrade der Distribution Checkmk <span class="new">2.0.0</span>p23 verwendet haben, so installieren Sie nun die <span class="new">2.0.0</span>p23, die zu Ihrer neuen Linux-Distributionsversion passt.</p>
<div class="paragraph"><p>Im Falle von Ubuntu würde an dieser Stelle der folgende Befehl genügen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>apt<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/check-mk-enterprise-2.0.0p23_0.jammy_amd64.deb</code></pre></div></div>
<div class="paragraph"><p><strong>Hinweis:</strong> Geben Sie bei der Installation per <code>apt install</code> den vollständigen Pfad zur DEB-Datei an.</p></div>
</li></ol></div>
<div class="paragraph"><p>Halten Sie sich bei der Neu-Installation von Checkmk an die jeweilige <a href="install_packages.html#distribution_instructions">detaillierte Installationsanleitung</a> für Ihre Distribution.</p></div>
</div>
<div class="sect2">
<h3 id="heading_agents">
<span class="hidden-anchor sr-only" id="agents"></span>2.3. Die Agenten für Linux und Windows</h3>
<div class="paragraph"><p>Mit <span class="new">2.1.0</span> führt Checkmk zunächst für die Linux- und Windows-Agenten auf x86/64 die beiden Komponenten <em>Agent Controller</em> (auf dem Host) und <em>Agent Receiver</em> (auf dem Server) ein, mit denen eine TLS verschlüsselte Übertragung des Agenten-Outputs möglich ist.
Der Agent Controller arbeitet zunächst in einem Kompatibilitätsmodus (<strong>Legacy-Pull-Modus</strong>), der auch den Zugriff von <span class="new">2.0.0</span>-Instanzen zulässt.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Ja.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Identifizieren Sie diejenigen Windows-Hosts im Monitoring, welche die Windows Serverbetriebssysteme 2008 R2 und Client Betriebssysteme 7 oder höher auf x86_64 nutzen.
Gleiches gilt für Linux-Hosts auf x86_64, welche zur Dienstverwaltung <code>systemd</code> ab Version 220 verwenden.
Auf diesen Hosts registrieren Sie nach der Aktualisierung beim Monitoring-Server, um die TLS verschlüsselte Übertragung zu nutzen.
Detailliertere Informationen finden sie in der ausführlichen Anleitung für <a href="agent_linux.html#registration">Linux</a> oder <a href="agent_windows.html#registration">Windows</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_local_files">
<span class="hidden-anchor sr-only" id="local_files"></span>2.4. Lokale Dateien</h3>
<div class="paragraph"><p>Mit lokalen Dateien können Sie die von Checkmk bereitgestellte Funktionalität anpassen und erweitern.
Diese Dateien befinden sich im lokalen Teil der Instanzverzeichnisstruktur, d.h. in <code>~/local</code>.
Lokale Dateien können bei einem Update Probleme bereiten, da sie eventuell nicht mehr zur neuen Checkmk-Version passen.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Da es für Checkmk bei einem Update nicht möglich ist, die lokalen Anpassungen und jede von einem Drittanbieter hergestellte Erweiterung abzufangen und zu behandeln, sollten Sie Ihre Checkmk-Instanz vor einem Update daraufhin überprüfen, ob lokale Dateien bei Ihnen verwendet werden und gegebenenfalls welche.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Verschaffen Sie sich einen Überblick über die lokalen Dateien Ihrer Checkmk-Instanz, indem Sie als Instanzbenutzer das folgende Kommando ausführen (bei dem die Option <code>-L</code> dafür sorgt, dass auch symbolischen Links gefolgt wird):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>find<span class="tok-w"> </span>-L<span class="tok-w"> </span>~/local<span class="tok-w"> </span>-type<span class="tok-w"> </span>f</code></pre></div></div>
<div class="paragraph"><p>In einer frischen Installation von Checkmk wird Ihnen derzeit nur eine Datei namens <code>README.TXT</code> aufgelistet.
Alles, was darüber hinaus angezeigt wird, sollte ganz oben auf Ihrer Liste zur Fehlerdiagnose stehen, falls es beim Update Probleme gibt.
Besondere Aufmerksamkeit verdienen Check-Plugins, die immer noch der alten, bis zur Version <span class="new">1.6.0</span> gültigen, Check-API folgen.
Wir gehen darauf im nächsten Kapitel genauer ein.</p></div>
</div>
<div class="sect2">
<h3 id="heading_check-api">
<span class="hidden-anchor sr-only" id="check-api"></span>2.5. Die Check-API</h3>
<div class="paragraph"><p>In Checkmk <span class="new">2.0.0</span> wurde eine neue Check-API eingeführt, die die Check-Plugins neu strukturiert, um ihre Handhabung zu vereinheitlichen und zu vereinfachen.
Da es aber eine große Zahl von Checks gibt, die nach der alten, bis zur Version <span class="new">1.6.0</span> gültige Check-API programmiert wurden, kann es sein, dass die Migration von der alten auf die neue Check-API auch in der Version <span class="new">2.1.0</span> ein Thema für Sie ist.
Die große Zahl existierender Checks ist auch der Grund, warum die alte Check-API für eine Übergangszeit weiterhin unterstützt wird.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Das Thema Check-API <em>kann</em> Sie betreffen, wenn Sie die mit Checkmk ausgelieferten um Ihre eigenen, selbst geschriebenen Checks erweitert haben und/oder wenn Sie Plugins aus anderen Quellen nutzen und diese z.B. von der <a href="https://exchange.checkmk.com/" target="_blank">Checkmk Exchange</a> heruntergeladen haben.
Das Thema betrifft Sie, wenn eines, einige oder gar alle dieser Check-Plugins noch der alten Check-API folgen.
Die betroffenen Dateien finden Sie in den <a href="#local_files">lokalen Dateien</a> Ihrer Instanz.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Wir versuchen Ihnen den Umstieg auf die neue Check-API so leicht und komfortabel wie möglich zu machen:</p></div>
<div class="paragraph"><p>So wie beim Update auf die Version <span class="new">2.0.0</span> versucht Checkmk auch beim Update auf die Version <span class="new">2.1.0</span> alle lokalen Plugins aus den Verzeichnissen <code>~/local/share/check_mk/checks</code> und <code>~/local/share/check_mk/inventory</code> automatisch auf die neue Check-API zu migrieren.
Diese „Automigration“ passiert zur Laufzeit; die Plugin-Dateien werden nicht verändert.
Wie Sie sich nach dem Update die Ergebnisse anzeigen lassen können, erfahren Sie im Kapitel <a href="#automigration">Automigration auf die Check-API überprüfen</a>.</p></div>
<div class="paragraph"><p>Die Chancen stehen zwar gut, dass die Automigration Ihrer Check-Plugins reibungslos funktioniert, dennoch erfordert die ebenfalls in der Version <span class="new">2.0.0</span> durchgeführte Umstellung auf Python 3 möglicherweise einige Anpassungen.
Durch die neue Check-API und die Code-Basis Python 3 gibt es gleich zwei gute Gründe, Ihre selbst geschriebenen Check-Plugins zu überarbeiten.
Wir informieren Sie ausführlich über die notwendigen Schritte im <a href="https://checkmk.com/de/blog/migrating-check-plug-ins-to-checkmk-2-0" target="_blank">Blogpost zur Migration von Check-Plugins.</a></p></div>
<div class="paragraph"><p>Zu guter Letzt punktet die neue Check-API mit verbesserter Dokumentation:
Es gibt einen einführenden Artikel zur <a href="devel_check_plugins.html">Programmierung eigener Check-Plugins</a> und die stets aktuelle Plugin-API-Referenzdokumentation.
Beides können Sie über die Checkmk-Oberfläche aufrufen — im <span class="guihint">Help</span>-Menü der Navigationsleiste unter <span class="guihint">Developer resources.</span></p></div>
</div>
<div class="sect2">
<h3 id="heading_incompatible_mkps">
<span class="hidden-anchor sr-only" id="incompatible_mkps"></span>2.6. Inkompatible und obsolete MKPs</h3>
<div class="paragraph"><p>Über die <a href="glossar.html#mkp">Checkmk-Erweiterungspakete (MKPs)</a> lässt sich Ihr Monitoring-System recht einfach und bequem erweitern.
Auf der einen Seite kommt es dabei vor, dass solche MKPs nicht weiter gepflegt werden und dann ggf. mit neuen Versionen von Checkmk nicht mehr kompatibel sind.
Auf der anderen Seite nehmen wir immer wieder neue Plugins und Funktionserweiterungen in Checkmk auf, weshalb MKPs mitunter obsolet werden.
Ihre Funktionalität wird schlicht von Checkmk selbst sichergestellt.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Falls Sie MKPs installiert haben, ist aus diesem Grund eine Prüfung dieser MKPs dringend geboten — besonders vor einem umfangreichen Update.
So verhindern Sie, dass inkompatible Pakete das Update behindern oder im Anschluss an das Update doppelte oder zumindest sehr ähnliche Services entstehen.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong>
Prüfen Sie hierzu Ihre installierten MKPs gegen unseren <a href="https://checkmk.com/de/integrations" target="_blank">Katalog der Check-Plugins</a> und entfernen Sie Pakete, welche inzwischen nativ von Checkmk bereitgestellt werden.
Bei dieser Gelegenheit können Sie auch MKPs entfernen, die eventuell nur mal für einen Probelauf installiert worden sind.
Eine Auflistung finden Sie über <span class="guihint">Setup &gt; Maintenance &gt; Extension packages</span>.
Auf der Kommandozeile können Sie sich installierte Erweiterungen mit dem folgenden Befehl anzeigen lassen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">my_mkp_from_exchange</span>
<span class="tok-go">my_personal_mkp</span></code></pre></div></div>
<div class="paragraph"><p>Zu jedem gelistetem MKP können Sie dann in der Folge auch die Dateien anzeigen lassen, die zu dem Paket gehören:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list<span class="tok-w"> </span>my_personal_mkp
<span class="tok-go">/omd/sites/mysite/local/lib/check_mk/base/plugins/agent_based/check_mk.py</span>
<span class="tok-go">/omd/sites/mysite/local/share/check_mk/web/plugins/metrics/custom_metrics.py</span></code></pre></div></div>
<div class="paragraph"><p>Sollten Sie über die Prüfung der installierten MKPs und dem Abgleich mit unserem Katalog nicht alle Pakete zuordnen können, empfiehlt sich der hiernach beschriebene <a href="#dry_run">Probelauf des Updates,</a> um dabei Inkompatibilitäten zu identifizieren und dann in Ihrem produktiven Monitoring vor dem Update zu entfernen.</p></div>
<div class="sect3">
<h4 id="heading_mkp_backport">
<span class="hidden-anchor sr-only" id="mkp_backport"></span>MKP-Verwaltung ab <span class="new">2.0.0</span>p33 und <span class="new">2.1.0</span>p21</h4>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p><strong>Verlust von Einstellungen droht!</strong>
Beim Update der Major-Version löscht Checkmk Regeln, die nicht mehr benötigt werden.
Falls Sie Pakete <em>vor</em> dem Update deinstallieren, um <em>nach</em> dem Update eine neue Version zu installieren, gehen möglicherweise noch benötigte Einstellungen verloren.
Installieren Sie stattdessen immer neue und alte Pakete wie in diesem Abschnitt beschrieben parallel und entfernen Sie alte erst nach dem Update.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>Für die Erleichterung von Updates wurde mit Checkmk <span class="new">2.0.0</span>p33 und <span class="new">2.1.0</span>p21 die Möglichkeit eingeführt, MKPs in verschiedenen Versionen vorzuhalten.
Beim Update wird dann das Paket für Checkmk <span class="new">2.0.0</span> automatisch deaktiviert und das für Checkmk <span class="new">2.1.0</span> automatisch aktiviert.
Bei Nutzung eines verteilten Monitorings mit <a href="glossar.html#distributed_setup">zentraler Konfiguration</a> können Sie mit diesem Feature von der Zentralinstanz aus Pakete in verschiedenen Versionen an die Remote-Instanzen <a href="#dist_setup">verteilen.</a>
Das klappt sogar, wenn die Remote-Instanzen eine höhere Version haben, wie es beim Update im verteilten Monitoring für eine Übergangszeit der Fall ist.</p></div>
<div class="paragraph"><p>Beachten Sie, dass Sie dieses Feature nur nutzen können, wenn Sie als Ausgangsversion mindestens <span class="new">2.0.0</span>p33 verwenden und auf <span class="new">2.1.0</span>p21 oder höher aktualisieren!
Sind diese Voraussetzungen erfüllt, können Sie auf der Zentralinstanz zusätzlich Pakete für <span class="new">2.1.0</span> hinzufügen.</p></div>
<div class="paragraph"><p>Bei der Installation eines für Checkmk <span class="new">2.1.0</span> geschriebenen MKPs erhalten Sie unter Checkmk <span class="new">2.0.0</span>p33 und höher eine Warnmeldung:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/hello_world-0.2.1.mkp
<span class="tok-go">The package requires Check_MK version 2.1.0, but you have 2.0.0p33 installed.</span></code></pre></div></div>
<div class="paragraph"><p>Dieses Paket wird in der Liste der Pakete als <span class="guihint">Enabled (inactive on this site)</span> aufgeführt:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- -------------------------------</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Enabled (inactive on this site)</span>
<span class="tok-go">hello_world 0.2.0   Hello world! 2.0.0        2.0.999       6     Enabled (active on this site)</span></code></pre></div></div>
<div class="paragraph"><p>Details der überarbeiteten Paketverwaltung zeigt der <a href="mkps.html">Artikel zur Verwaltung von Erweiterungspaketen (MKPs)</a>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_incompatible">
<span class="hidden-anchor sr-only" id="incompatible"></span>2.7. Inkompatible Änderungen</h3>
<div class="paragraph"><p>Wie in jeder Checkmk Version, so gibt es auch in der aktuellen Version <span class="new">2.1.0</span> Änderungen der Software, die Rückwirkungen auf ihre Checkmk-Installation haben <em>können</em>.
Eine sogenannte <em>inkompatible Änderung</em> erfordert, dass Sie manuelle Anpassungen durchführen, um bestehende Funktionen weiterhin wie gewohnt ablaufen zu lassen und/oder neue Funktionen nutzen zu können.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> In aller Regel wird es inkompatible Änderungen geben, die auch Ihre Checkmk-Installation betreffen.
Eine generelle Aussage ist aber leider unmöglich.
In diesem Artikel haben wir diejenigen Themen zusammengetragen, die für alle oder die meisten Checkmk-Installationen zutreffen.
Es kann aber sein, dass es darüber hinaus weitere, für Sie relevante Änderungen gibt, zum Beispiel bei Checks, die Sie in Ihrer Installation verwenden.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Nachdem Sie das <a href="#update">Update</a> durchgeführt haben, werden Ihnen in der Checkmk-Oberfläche Anzahl und Inhalt der inkompatiblen Änderungen angezeigt, und Sie werden aufgefordert, diese zu prüfen und zur Kenntnis zu nehmen.
Also werden Sie auf jeden Fall mit diesem Thema konfrontiert werden — allerdings erst, nachdem Sie das Update durchgeführt haben.</p></div>
<div class="paragraph"><p>Es ist daher eine gute Idee, sich bereits <strong>vor</strong> dem Update einen Überblick über die inkompatiblen Änderungen zu verschaffen:
Öffnen Sie die Liste der <a href="https://checkmk.com/de/werks?search=&amp;cmk_version[]=2.1&amp;compatible=0" target="_blank">Werks.</a>
(Die Software-Entwicklung von Checkmk ist in sogenannten Werks organisiert.)
In der Beschreibung eines Werks finden Sie Hinweise, was gegebenenfalls zu tun ist, um die Änderung kompatibel zu machen.</p></div>
<div class="paragraph"><p>Die frustrierende Nachricht:
Die Werkliste einer Version ist sehr, sehr lang — selbst wenn sie nur die inkompatiblen Änderungen enthält.
Die tröstliche Nachricht:
An der Anzahl der Änderungen können Sie sehen, wie groß unsere Anstrengungen sind, Checkmk für Sie zu verbessern.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_update">
<span class="hidden-anchor sr-only" id="update"></span>3. Update</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_dry_run">
<span class="hidden-anchor sr-only" id="dry_run"></span>3.1. Best Practices beim Update</h3>
<div class="paragraph"><p>Im Folgenden beschreiben wir bewährte Vorgehensweisen (<em>best practices</em>), welche wir selbst bei Updates von großen Checkmk-Umgebungen befolgen.
Diese sind sicherlich nicht in jeder Umgebung Pflicht, Sie können Ihnen den Prozess des Updates jedoch erleichtern.</p></div>
<div class="sect3">
<h4 id="heading__betriebssystem_aktualisieren">
<span class="hidden-anchor sr-only" id="_betriebssystem_aktualisieren"></span>Betriebssystem aktualisieren</h4>
<div class="paragraph"><p>Das Betriebssystem auf einem Checkmk-Server sollte ohnehin immer auf dem aktuellen Stand sein.
Vor einem Update von Checkmk schadet es aber bestimmt nicht, sich dessen noch einmal zu versichern:
mithilfe von <code>apt</code> (für Debian und Ubuntu), <code>yum</code> (für Red Hat Enterprise Linux (RHEL) basierte Systeme) oder <code>zypper</code> (für SUSE Linux Enterprise Server).</p></div>
</div>
<div class="sect3">
<h4 id="heading__checkmk_version_aktualisieren">
<span class="hidden-anchor sr-only" id="_checkmk_version_aktualisieren"></span>Checkmk-Version aktualisieren</h4>
<div class="paragraph"><p>Vor dem Update auf die Version <span class="new">2.1.0</span> muss auf der Checkmk-Instanz die Version <span class="new">2.0.0</span> installiert sein.</p></div>
<div class="paragraph"><p>Wir haben bereits früher von einem Update mit Auslassung einer Hauptversion abgeraten, da es dazwischen einfach zu viele Änderungen gibt, die ein reibungsloses Update behindern und mit großer Wahrscheinlichkeit zu Problemen führen.
Mit <a href="https://checkmk.com/de/werk/13320" target="_blank">Werk #13320</a> wird aus dieser Empfehlung nun eine Voraussetzung — und eine Sperre eingeführt, die zum Beispiel ein direktes Update von Version <span class="new">1.6.0</span> auf <span class="new">2.1.0</span> verhindert.</p></div>
<div class="paragraph"><p>Ein Update auf die Version <span class="new">2.1.0</span> setzt zurzeit keine bestimmte <span class="new">2.0.0</span> Patch-Version voraus.
Es gibt jedoch auch hier gute Gründe, den Sprung auf die <span class="new">2.1.0</span> nur von der neuesten <span class="new">2.0.0</span> Patch-Version aus zu starten, da z.B. ein <span class="new">2.0.0</span> Patch Korrekturen enthalten kann, die das Update auf die Version <span class="new">2.1.0</span> erleichtern.</p></div>
<div class="paragraph"><p>Daher empfehlen wir, zuerst Checkmk auf die neueste <span class="new">2.0.0</span> Patch-Version zu aktualisieren und erst dann das Update auf die <span class="new">2.1.0</span> durchzuführen.</p></div>
</div>
<div class="sect3">
<h4 id="heading__probelauf_des_updates_durchführen">
<span class="hidden-anchor sr-only" id="_probelauf_des_updates_durchführen"></span>Probelauf des Updates durchführen</h4>
<div class="paragraph"><p>In großen Umgebungen, in denen auch das Zurückspielen eines selbstverständlich vorhandenen Backups Ihrer Checkmk-Umgebung mit einem gewissen zeitlichen Aufwand verbunden wäre, empfiehlt es sich, vor dem Update der produktiven Umgebung, einen Test mit einer geklonten Instanz durchzuführen.
Zu diesem Zweck können Sie beispielsweise das letzte reguläre Backup Ihrer Instanz unter einem anderen Namen wiederherstellen.</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>restore<span class="tok-w"> </span>newsite<span class="tok-w"> </span>/path/to/backup</code></pre></div></div>
<div class="paragraph"><p><strong>Alternativ</strong> können Sie Ihre Instanz auch per <code>omd cp</code> kopieren.
Dafür muss die Instanz allerdings kurzzeitig gestoppt werden:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>stop<span class="tok-w"> </span>mysite
<span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>cp<span class="tok-w"> </span>mysite<span class="tok-w"> </span>newsite</code></pre></div></div>
<div class="paragraph"><p>Führen Sie das Update im Anschluss erst einmal auf dieser neuen geklonten Instanz durch, um hier beispielsweise die oben angesprochenen lokalen Änderungen in der neuen Umgebung zu prüfen.</p></div>
</div>
<div class="sect3">
<h4 id="heading_automatic_agent_updates">
<span class="hidden-anchor sr-only" id="automatic_agent_updates"></span>Agenten-Update vorübergehend abschalten</h4>
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span>
Wenn Sie die automatischen Agenten-Updates verwenden, sollten Sie überlegen, diese vor dem Update von Checkmk vorübergehend zu deaktivieren, um den Wechsel auf die neuen Agenten bei den Hosts später kontrolliert vollziehen zu können.
Dazu wählen Sie zuerst <span class="guihint">Setup &gt; Agents &gt; Windows, Linux, Solaris, AIX</span> und auf der folgenden Seite den Menüeintrag <span class="guihint">Agents &gt; Automatic updates.</span>
Durch Klick auf den Knopf <span class="image-inline"><img src="../images/icons/icon_edit.png" alt="Symbol zum Bearbeiten eines Listeneintrags."></span> vor dem <span class="guihint">Master switch</span> können Sie das Agenten-Update komplett abschalten:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_major_automatic_agent_updates.png" alt="Abschaltung des Agenten-Updates per Hauptschalter."></div></div>
<div class="paragraph"><p>Nach dem erfolgreichen Update von Checkmk können Sie das Agenten-Update auf gleichem Weg wieder anschalten.</p></div>
<div class="paragraph"><p>Wir empfehlen an dieser Stelle das automatische Agenten-Update erstmal nur für einzelne Hosts oder Host-Gruppen wieder zu aktivieren.
Auf diese Weise wird der neue Agent nicht gleich auf all Ihre Server ausgerollt und Sie können sich auf einigen wenigen Systemen mit den neu angelieferten Daten vertraut machen.
Auch aufgrund der deutlich gestiegenen Zahl an mitgelieferten Check-Plugins könnten Sie eine ganze Reihe neuer Services finden, welche Sie dann auf den von Ihnen gewählten Testsystemen richtig einstellen können.
Eventuell sind für neue Services auch neue Schwellwerte vonnöten.
Wenn Sie dies erst einmal im Kleinen angehen, ersparen Sie schnell einige Fehlalarme.</p></div>
<div class="paragraph"><p>Auf der oben angegebenen Seite können Sie dafür einfach ein paar Hosts oder Host-Gruppen in die entsprechenden Felder eintragen und dann den <span class="guihint">Master switch</span> wieder aktivieren.</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_major_activate_update_on_selected_hosts.png" alt="Optionen beim Agenten-Update zur Aktivierung auf bestimmten Hosts."></div></div>
<div class="paragraph"><p><strong>Wichtig:</strong> Denken Sie daran, diese Einschränkungen auf explizite Hosts und Host-Gruppen wieder zu entfernen, sobald Sie mit den Ergebnissen zufrieden sind.</p></div>
</div>
<div class="sect3">
<h4 id="heading_notifications">
<span class="hidden-anchor sr-only" id="notifications"></span>Benachrichtigungen vorübergehend abschalten</h4>
<div class="paragraph"><p>Sie sollten auch überlegen, <a href="glossar.html#notification">Benachrichtigungen</a> in der Instanz vor dem Update abzuschalten — aus ähnlichen Gründen, die wir im vorherigen Abschnitt zu den automatischen Agenten-Updates erklärt haben.
So vermeiden Sie, dass Ihre Kollegen aus dem Monitoring-Team <em>unnötige</em> Benachrichtigungen erhalten.</p></div>
<div class="paragraph"><p>Die Benachrichtigungen können Sie zentral im Snapin <a href="user_interface.html#master_control">Master control</a> mit dem Hauptschalter <span class="guihint">Notifications</span> abschalten.</p></div>
<div class="paragraph"><p>Es kann durchaus vorkommen, dass nach dem Update der eine oder andere Service <span class="state2">CRIT</span> ist, der dies vorher nicht gewesen ist.
Kümmern Sie sich nach dem Update zuerst um neu auftretende Probleme.
Die unbehandelten Probleme (<em>unhandled problems</em>) können Sie sich z.B. im Snapin <a href="user_interface.html#overview">Overview</a> anzeigen lassen.</p></div>
<div class="paragraph"><p><strong>Wichtig:</strong> Vergessen Sie nicht, die Benachrichtigungen wieder einzuschalten, z.B. dann, wenn sich die Zahl der unbehandelten Probleme nach dem Update auf das Niveau vor dem Update eingepegelt hat.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_update_distributed_monitoring">
<span class="hidden-anchor sr-only" id="update_distributed_monitoring"></span>3.2. Update im verteilten Monitoring</h3>
<div class="paragraph"><p>Es gibt unterschiedliche Vorgehensweisen, um das Update der in einem <a href="distributed_monitoring.html">verteilten Monitoring</a> beteiligten Instanzen durchzuführen, d.h. der Zentralinstanz und der Remote-Instanzen.</p></div>
<div class="paragraph"><p><strong>Wichtig:</strong> Für welches Vorgehen Sie sich auch entscheiden:
Sie sollten auch in diesem Szenario vorher <a href="backup.html">Backups</a> anlegen.</p></div>
<div class="paragraph"><p>Das empfohlene, sichere Vorgehen ist das <em>Update in einem Rutsch</em>, bei dem Sie folgende Schritte ausführen:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Alle Instanzen stoppen.</p></li>
<li><p>Das Update für alle Instanzen durchführen.</p></li>
<li><p>Die aktualisierten Instanzen wieder starten.</p></li>
</ol></div>
<div class="paragraph"><p>Es gibt noch eine andere Variante: das <em>Update im laufenden Betrieb.</em>
Dieses Vorgehen wird unter anderem dann benötigt, wenn man eine große Menge von verteilten Instanzen verwaltet, die aus technischen oder organisatorischen Gründen nicht in einem Rutsch aktualisiert werden können.</p></div>
<div class="paragraph"><p>Bei einem Update im laufenden Betrieb müssen Instanzen mit unterschiedlichen Checkmk-Versionen für eine Übergangszeit miteinander kommunizieren — solange, bis das Update aller beteiligten Instanzen abgeschlossen ist.
Damit diese Zusammenarbeit klappt, müssen die in diesem Mischbetrieb beteiligten Versionen kompatibel sein.</p></div>
<div class="sect3">
<h4 id="heading_compat_chart">
<span class="hidden-anchor sr-only" id="compat_chart"></span>Kompatibilitätstabelle</h4>
<div class="paragraph"><p>Mit <a href="https://checkmk.com/de/werk/13313" target="_blank">Werk #13313</a> wurden Versionsprüfungen hinzugefügt, die sicherstellen, dass die beteiligten Instanzen kompatible Versionen verwenden.
Die Kurzfassung ist:
Instanzen müssen die gleiche Hauptversion haben — mit einer Ausnahme: die Checkmk-Version einer Remote-Instanz darf um genau eine Hauptversion höher sein als die der Zentralinstanz.
Die folgende Tabelle zeigt die möglichen Kombinationen beim Update von <span class="new">2.0.0</span> zur <span class="new">2.1.0</span>:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 40%;">
<col style="width: 20%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Zentralinstanz</th>
<th class="tableblock halign-left valign-top">Remote-Instanz</th>
<th class="tableblock halign-left valign-top">Erlaubt?</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.0.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.0.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ja</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.0.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.1.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ja</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.1.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.0.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Nein</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.1.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.1.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ja</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Für Patch-Versionen gilt prinzipiell das gesagte:
Die Zentral-Instanz darf nie einen höheren Versionsstand als die Remote-Instanzen nutzen.
Allerdings sind häufig größere Abweichungen als eine Patch-Version erlaubt.
Details zur konkreten Kompatibilität entnehmen Sie den <a href="https://checkmk.com/werks/" target="_blank">Werks</a>.</p></div>
<div class="paragraph"><p>Aus diesen Regeln folgt, dass bei einem Update im laufenden Betrieb die Zentralinstanz zuletzt aktualisiert wird.
Beachten Sie, dass auch beim Update im verteilten Monitoring gilt: Hauptversionen dürfen nicht ausgelassen werden, sodass z.B. eine Verbindung zwischen einer <span class="new">1.6.0</span> und einer <span class="new">2.1.0</span> Instanz nicht unterstützt wird.</p></div>
<div class="paragraph"><p><strong>Hinweis:</strong> Da sich der Funktionsumfang verschiedener Checkmk-Versionen unterscheidet, kann es sein, dass einige Features von Checkmk in diesem Mischbetrieb nicht oder nur eingeschränkt funktionieren.
In einem Mischbetrieb können auch bei kompatiblen Versionen Probleme auftreten und ein reibungsloses Zusammenspiel ist nur dann gesichert, wenn alle Instanzen die gleiche Hauptversion haben.
Sie sollten daher den Zeitraum eines Mischbetriebs mit verschiedenen Versionen möglichst kurz halten und nach dem Start des Updates alle Instanzen zügig aktualisieren.</p></div>
</div>
<div class="sect3">
<h4 id="heading_dist_setup">
<span class="hidden-anchor sr-only" id="dist_setup"></span>MKPs im verteilten Setup</h4>
<div class="paragraph"><p>Falls Sie verteiltes Monitoring mit einer <a href="glossar.html#distributed_setup">zentralen Konfiguration</a> betreiben, aus der auch <a href="glossar.html#mkp">Checkmk-Erweiterungspakete (MKPs)</a> an die Remote-Instanzen verteilt werden, haben Sie die Möglichkeit, in der Checkmk <span class="new">2.0.0</span> Zentralinstanz Pakete für die Remote-Instanzen in Versionen für <span class="new">2.0.0</span> und <span class="new">2.1.0</span> vorzuhalten.
Es werden dann automatisch die zur Remote-Instanz passenden MKPs verteilt.</p></div>
<div class="paragraph"><p>Um dieses Feature nutzen zu können, muss zunächst die Zentralinstanz auf Patch-Version <span class="new">2.0.0</span>p33 gebracht werden.
Ist dies geschehen, können Sie beginnen, auf der Zentralinstanz zusätzlich <a href="#mkp_backport">Pakete für <span class="new">2.1.0</span> hinzuzufügen.</a>
Wenn Sie nun Remote-Instanzen auf <span class="new">2.1.0</span>p21 aktualisieren, erhalten und aktivieren diese dann automatisch das zur neuen Version passende Paket.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading__das_update_durchführen">
<span class="hidden-anchor sr-only" id="_das_update_durchführen"></span>3.3. Das Update durchführen</h3>
<div class="paragraph"><p>Am eigentlichen Update der Software hat sich in der Checkmk <span class="new">2.1.0</span> nichts Grundlegendes geändert, d.h. Sie installieren die neue Version, führen das Update der Checkmk-Instanz durch, kümmern sich um Konflikte (falls es denn welche geben sollte) und überprüfen und bestätigen die inkompatiblen Änderungen.</p></div>
<div class="paragraph"><p>Führen Sie die Update-Prozedur so aus, wie sie im <a href="update.html#detailed">Artikel zu Updates und Upgrades</a> beschrieben ist.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_follow-up">
<span class="hidden-anchor sr-only" id="follow-up"></span>4. Nachbereitungen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_gui">
<span class="hidden-anchor sr-only" id="gui"></span>4.1. Änderungen der Benutzeroberfläche</h3>
<div class="paragraph"><p>Die Benutzeroberfläche (GUI) von Checkmk wurde mit Version <span class="new">2.0.0</span> komplett neu gestaltet.
In der neuen Version <span class="new">2.1.0</span> wird sie Ihnen dagegen sehr vertraut vorkommen, denn es hat kaum Änderungen im Vergleich zur <span class="new">2.0.0</span> gegeben, die auf den ersten Blick sichtbar sind.
Allerdings haben sich Menüs, Menüeinträge und andere Details geändert, um neue Funktionen verfügbar zu machen — und bestehende zu verbessern.</p></div>
<div class="paragraph"><p>In den Artikeln dieses Handbuchs stellen wir Ihnen diese Änderungen vor und im <a href="intro_setup.html">Checkmk aufsetzen</a> finden Sie eine ausführliche Einführung in die wichtigsten Elemente der <a href="intro_gui.html">Benutzeroberfläche.</a></p></div>
<div class="sect3">
<h4 id="heading__entfernte_snapins_für_die_seitenleiste">
<span class="hidden-anchor sr-only" id="_entfernte_snapins_für_die_seitenleiste"></span>Entfernte Snapins für die Seitenleiste</h4>
<div class="paragraph"><p>Mit <a href="https://checkmk.com/de/werk/13736" target="_blank">Werk #13736</a> wurden einige veraltete und wenig genutzte <a href="glossar.html#snapin">Snapins</a> für die Seitenleiste entfernt.
Für fast alle dieser Snapins gibt es Ersatz, meist über Menüeinträge der <a href="glossar.html#navigation_bar">Navigationsleiste.</a></p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_automigration">
<span class="hidden-anchor sr-only" id="automigration"></span>4.2. Automigration auf die Check-API überprüfen</h3>
<div class="paragraph"><p>Sie können überprüfen, ob alle lokalen Plugins aus den Verzeichnissen <code>~/local/share/check_mk/checks</code> und <code>~/local/share/check_mk/inventory</code> automatisch auf die neue <a href="#check-api">Check-API</a> migriert werden können.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Diese Überprüfung ist sinnvoll, wenn in Ihren lokalen Dateien Check-Plugins existieren, die nach der alten, bis zur Version <span class="new">1.6.0</span> gültigen Check-API programmiert wurden.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Führen Sie als Instanzbenutzer das folgende Kommando aus:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>cmk<span class="tok-w"> </span>-R
<span class="tok-go">Failed to auto-migrate legacy plugin to check plugin: mssql_counters</span>
<span class="tok-go">Please refer to Werk 10601 for more information.</span></code></pre></div></div>
<div class="paragraph"><p>Die Meldung oben zeigt, dass ein Plugin nicht automatisch migriert werden konnte.
Alle gelisteten Plugins müssen von Ihnen manuell migriert werden.
Es gibt einige Gründe, aus denen eine Automigration nicht durchgeführt werden kann und die Sie im genannten <a href="https://checkmk.com/de/werk/10601" target="_blank">Werk #10601</a> nachlesen können.
Wie Sie die manuelle Migration durchführen, erfahren Sie im <a href="https://blog.checkmk.com/de/migration-von-checkplugins-auf-checkmk-2.0" target="_blank">Blogpost zur Migration von Check-Plugins.</a></p></div>
</div>
<div class="sect2">
<h3 id="heading_service_discovery">
<span class="hidden-anchor sr-only" id="service_discovery"></span>4.3. Services aktualisieren</h3>
<div class="paragraph"><p>Wie jede Hauptversion, so bringt auch Checkmk <span class="new">2.1.0</span> eine ganze Reihe neuer Check-Plugins mit sich.
Sollten Sie den <a href="wato_services.html#discovery_check">"Discovery Check"</a> nicht einsetzen, d.h. das automatische Update der Service-Konfiguration über die periodische Service-Erkennung, werden Sie auf einer ganzen Reihe von Hosts die Suche nach Services durchführen müssen.</p></div>
<div class="paragraph"><p>Wenn Ihre Hosts entsprechend organisiert sind (z.B. in Ordnern), können Sie hierfür zumeist mit der Funktion <span class="guihint">Bulk discovery</span> arbeiten.
Diese finden Sie unter <span class="guihint">Setup &gt; Hosts &gt; Hosts</span> und dann im Menü <span class="guihint">Hosts &gt; Discover services.</span></p></div>
<div class="paragraph"><p>Im Folgenden listen wir einige Bereiche mit den meisten Neuerungen auf.</p></div>
<div class="sect3">
<h4 id="heading_service_check_mk_agent">
<span class="hidden-anchor sr-only" id="service_check_mk_agent"></span>Check_MK und Check_MK Agent</h4>
<div class="imageblock"><div class="content"><img src="../images/update_major_check_mk_services.png" alt="Die beiden Services 'Check_MK' und 'Check_MK Agent' im Monitoring."></div></div>
<div class="paragraph"><p>Die Services <span class="guihint">Check_MK</span> und <span class="guihint">Check_MK Agent</span> heißen zwar noch genauso wie in der Version <span class="new">2.0.0</span>, haben aber in der <span class="new">2.1.0</span> teilweise eine andere Bedeutung:</p></div>
<div class="ulist"><ul>
<li><p>Der Service <span class="guihint">Check_MK Agent</span> ist nun immer präsent und liefert alle Informationen, die mit der Agentenverteilung (<em>agent deployment</em>) zu tun haben, wie die Version des Agenten, der Zeitpunkt des letzten Updates, die Zahl von Agentenplugins und lokalen Checks, oder die Beschränkung der IP-Adressen.
Bisher kümmerte sich dieser Service nur um die Agenten-Updates — und war auch nur dann verfügbar, wenn Agenten-Updates eingerichtet waren.</p></li>
<li><p>Auch der Service <span class="guihint">Check_MK</span> ist nun immer da —  vorher war er es nur dann, wenn auf dem Host passive Services liefen.
Der Service <span class="guihint">Check_MK</span> kümmert sich nun ausschließlich um den Zustand der verwendeten Agenten im laufenden Betrieb (<em>operational state</em>).
Er meldet z.B. Verbindungsfehler oder fehlende Daten und zeigt die Ausführungszeit.</p></li>
</ul></div>
</div>
<div class="sect3">
<h4 id="heading_cluster_services">
<span class="hidden-anchor sr-only" id="cluster_services"></span>Cluster-Services</h4>
<div class="paragraph"><p>Mit Checkmk Version <span class="new">2.1.0</span> verändert sich das Verhalten einiger <a href="clustered_services.html">Cluster-Services</a>.
Betroffene Services nehmen den Zustand <span class="state3">UNKNOWN</span> an und erfordern eine Anpassung der Konfiguration.</p></div>
<div class="paragraph"><p>Checkmk kennt vier Cluster-Modi:</p></div>
<div class="ulist"><ul>
<li><p><em>Best</em> (der Wert der besten Node bestimmt den Gesamtzustand)</p></li>
<li><p><em>Worst</em> (analog: Wert der schlechtesten Node)</p></li>
<li><p><em>Failover</em> (nur eine Node darf <span class="state0">OK</span> liefern)</p></li>
<li><p><em>Natives Clustering</em> per API-Funktion (frei programmierbar, z.B.: <em>80 % der Nodes müssen <span class="state0">OK</span></em> sein, damit der Cluster OK ist)</p></li>
</ul></div>
<div class="paragraph"><p>Legacy-Plugins, welche die alte Check-API nutzen, verfügten bislang über eine zusätzliche implizite Cluster-Möglichkeit, bei der die Ausgabe der zugeordneten Hosts lediglich der Reihe nach ausgewertet wurde und der letzte erhaltene Einzelzustand den Gesamtzustand des Clusters bestimmte.
Da dieses Verhalten nicht verlässlich war, wurde es in <span class="new">2.1.0</span> entfernt.</p></div>
<div class="paragraph"><p>Im Zuge der Portierung auf <span class="new">2.1.0</span> haben wir bei einigen mitgelieferten Check-Plugins das zur <span class="new">2.0.0</span> nachgerüstete <em>native Clustering</em> wieder entfernt, wenn es nicht sinnvoll war.
Stattdessen haben wir als Standard eines der Verhalten <em>best</em>, <em>worst</em> oder <em>failover</em> ausgewählt.
<a href="https://checkmk.com/de/werk/12908#" target="_blank">Diese Liste</a> zeigt betroffene Plugins und das neue Standardverhalten.
Ebenfalls betroffen sind selbst programmierte oder aus der <a href="https://exchange.checkmk.com" target="_blank">Checkmk Exchange</a> bezogene Plugins, die keine API-Integration für den nativen Cluster-Modus verwenden.</p></div>
<div class="paragraph"><p>All diese Dienste nehmen nach dem Update auf <span class="new">2.1.0</span> den Zustand <span class="state3">UNKNOWN</span> an, wenn der einst ausgewählte Cluster-Modus nicht mehr unterstützt wird.
Verwenden Sie in diesen Fällen die Regel <span class="guihint">Aggregation options for clustered services</span>, um einen der drei Cluster-Modi <em>best</em>, <em>worst</em> oder <em>failover</em> zu definieren.</p></div>
</div>
<div class="sect3">
<h4 id="heading_service_descriptions">
<span class="hidden-anchor sr-only" id="service_descriptions"></span>Service-Beschreibungen</h4>
<div class="paragraph"><p>Jedes Update von Checkmk bedeutet, dass Service-Beschreibungen geändert werden, um die Konsistenz der Benennung innerhalb des Monitorings und der Dokumentation von Checkmk zu verbessern.
Da die Änderung von Service-Beschreibungen bedeutet, dass mitunter Regeln angepasst werden müssen und historische Monitoring-Daten verloren gehen, belässt Checkmk bei Updates zunächst die alten Beschreibungen.
Sie sollten bei Services, bei denen Verlust alter Monitoring-Daten zu verschmerzen und der Aufwand für die Anpassung von Regeln überschaubar ist, zeitnah auf neue Service-Beschreibungen umstellen.</p></div>
<div class="paragraph"><p>Gehen Sie hierfür in <span class="guihint">Setup &gt; General &gt; Global Settings &gt; Execution of checks</span> die Liste <span class="guihint">Use new service descriptions</span> durch und identifizieren Sie die Services, bei denen die Checkboxen noch nicht aktiv sind und aktivieren Sie diese.
Nach Anwenden der Änderungen sind die neuen Service-Beschreibungen aktiv und es werden wenige Minuten vergehen, bis Sie wieder definierte Zustände der betroffenen Services im Monitoring sehen.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_new_ports">
<span class="hidden-anchor sr-only" id="new_ports"></span>4.4. Neue Ports</h3>
<div class="paragraph"><p>Um die <a href="#agent_registration">TLS-Registrierung</a> eines Hosts im Monitoring durchzuführen, benötigt dieser Host Zugriff auf Ports des Checkmk-Servers: Port 443 (respektive 80) für REST-API-Anfragen und Port 8000 für den neuen Agent Receiver.
Achten Sie gegebenenfalls darauf, Routing- und Firewall-Einstellungen dahingehend anzupassen, dass die betreffenden Hosts auf diese Ports des Checkmk-Servers zugreifen können.</p></div>
<div class="paragraph"><p>Sollten Sicherheitsrichtlinien dagegen sprechen, diese Ports verfügbar zu machen, können Sie eine <a href="agent_linux.html#proxyregister">Registrierung im Auftrag</a> direkt auf dem Checkmk-Server durchführen.</p></div>
</div>
<div class="sect2">
<h3 id="heading_agent_registration">
<span class="hidden-anchor sr-only" id="agent_registration"></span>4.5. Agenten für TLS registrieren</h3>
<div class="paragraph"><p>Nach der Aktualisierung der Agenten auf <span class="new">2.1.0</span> nimmt der Dienst <span class="guihint">Check_MK Agent</span> für die betreffenden Hosts den Status <span class="state1">WARN</span> an und zeigt die Meldung <em>TLS is not activated on monitored</em> Host.
In den beiden Artikeln zum <a href="agent_linux.html">Linux-</a> und <a href="agent_windows.html">Windows-</a>Agenten beschreiben wir die Registrierung der verwendeten Zertifikate mit dem Kommandozeilenwerkzeug <code>cmk-agent-ctl</code>.
Dieses Werkzeug stellt auch viele Optionen zur automatischen Registrierung bereit — beispielsweise per Postinstall-Snippet in <a href="bakery_api.html">Bakery Plugins</a>.</p></div>
<div class="paragraph"><p>Falls für einen Übergangszeitraum unverschlüsselte Datenübertragung für den Parallelbetrieb von <span class="new">2.0.0</span>-Servern in einer <span class="new">2.1.0</span>-Umgebung erwünscht ist, passen Sie den Regelsatz <span class="guihint">Checkmk Agent installation auditing</span> an, damit der Service <span class="guihint">Check_MK Agent</span> trotz fehlender Registrierung den Status <span class="state0">OK</span> annehmen kann.</p></div>
</div>
<div class="sect2">
<h3 id="heading_kubernetes">
<span class="hidden-anchor sr-only" id="kubernetes"></span>4.6. Das neue Kubernetes-Monitoring</h3>
<div class="paragraph"><p>Das Kubernetes-Monitoring wurde in Checkmk <span class="new">2.1.0</span> von Grund auf neu geschrieben und ermöglicht nun eine vereinfachte und effiziente Überwachung.
Da sich die Architektur in Version <span class="new">2.1.0</span> grundlegend geändert hat, ist eine Übernahme oder Weiterschreibung bisheriger Monitoring-Daten Ihrer Kubernetes-Objekte aus früheren Checkmk-Versionen leider nicht möglich.</p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Das betrifft Sie, wenn Sie in der Version <span class="new">2.0.0</span> den Checkmk-Spezialagenten zur Überwachung von Kubernetes verwendet haben.
Der alte Spezialagent und die zugehörigen Check-Plugins werden zwar in der Version <span class="new">2.1.0</span> noch funktionieren, aber anschließend aus Checkmk <a href="#kubernetes_20">entfernt werden.</a>
Wir empfehlen daher den kompletten Umstieg auf das neue, stark verbesserte Kubernetes-Monitoring der Version <span class="new">2.1.0</span>.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Setzen Sie das Kubernetes-Monitoring komplett neu auf, wie es im Artikel zur <a href="monitoring_kubernetes.html">Überwachung von Kubernetes</a> beschrieben ist.</p></div>
</div>
<div class="sect2">
<h3 id="heading_encrypt_notification_spooler">
<span class="hidden-anchor sr-only" id="encrypt_notification_spooler"></span>4.7. Benachrichtigungs-Spooler verschlüsseln</h3>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong>
Wenn Sie verteiltes Monitoring mit <a href="notifications.html#async">zentraler Benachrichtigung</a> verwenden, profitieren Sie von erhöhter Sicherheit bei Aktivierung der Transportverschlüsselung des Notification Spooler <code>mknotifyd</code>.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong>
Bei der Aktualisierung vorhandener Checkmk-Installationen bleiben bereits konfigurierte Verbindungen zunächst ohne Verschlüsselung weiter nutzbar.
Allerdings wird in diesem Fall <span class="guihint">Analyze configuration</span> die Einstellung mit <span class="state2">CRIT</span> bemängeln.
Ändern Sie nach Migration aller beteiligten Instanzen auf <span class="new">2.1.0</span> die Option <span class="guihint">Global settings &gt; Notification spooler configuration &gt; Encryption</span> auf die Einstellung <span class="guihint">Encrypt communication with TLS</span>.
Neue Verbindungen verwenden bei der Erstellung automatisch die TLS-Verschlüsselung.</p></div>
</div>
<div class="sect2">
<h3 id="heading_rest-api">
<span class="hidden-anchor sr-only" id="rest-api"></span>4.8. REST-API ersetzt Web-API</h3>
<div class="paragraph"><p>Die Web-API (auch <a href="web_api.html">HTTP-API</a> genannt) ist abgekündigt und wird in der nächsten Checkmk-Version <a href="#web-api">entfernt werden.</a>
Ersatz steht bereit mit der in Version <span class="new">2.0.0</span> eingeführten <a href="rest_api.html">REST-API.</a></p></div>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Das betrifft Sie, falls Sie eigene Skripte geschrieben haben, die die Web-API nutzen.</p></div>
<div class="paragraph"><p>Die Web-API wird in der Checkmk-Version weiterhin funktionieren
und in bestehenden Instanzen, die von der Version <span class="new">2.0.0</span> auf <span class="new">2.1.0</span> aktualisiert werden, bleibt die Web-API eingeschaltet.
In Instanzen, die mit der Version <span class="new">2.1.0</span> neu erstellt werden, ist die Web-API bereits in den <span class="guihint">Global settings</span> abgeschaltet.
Den Schalter zum Ein- und Ausschalten der Web-API finden Sie unter <span class="guihint">Setup &gt; General &gt; Global settings &gt; Site management &gt; Disable Web API.</span></p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Wir empfehlen, alle bestehenden Skripte, die die Web-API verwenden, so bald wie möglich auf die REST-API zu migrieren, um Probleme frühzeitig zu erkennen, bevor Sie auf die Checkmk-Version <span class="new">2.2.0</span> umsteigen.</p></div>
<div class="paragraph"><p>Die REST-API bietet bereits jetzt Zugriff zu mehr Bereichen in Checkmk als die Web-API, z.B. zu Host-Status, Service-Status, Wartungszeiten, Zeitperioden, Quittierung von Problemen und der Business Intelligence (BI).</p></div>
<div class="paragraph"><p>Die in der REST-API noch fehlenden Funktionen zum Zugriff auf Instanzen im verteilten Monitoring und auf Metriken und Graphen werden in <span class="new">2.1.0</span> Patch-Versionen nachgeliefert, sodass im Laufe der Zeit alle Funktionen zur Verfügung stehen, die auch in der Web-API genutzt werden konnten.</p></div>
</div>
<div class="sect2">
<h3 id="heading_remove_old_mkps">
<span class="hidden-anchor sr-only" id="remove_old_mkps"></span>4.9. Obsolete MKPs entfernen</h3>
<div class="paragraph"><p><strong>Betrifft Sie das?</strong> Dies betrifft Sie, wenn Sie von der Funktion Gebrauch gemacht haben, <a href="#mkp_backport">MKPs in verschiedenen Versionen</a> vorzuhalten.</p></div>
<div class="paragraph"><p><strong>Was müssen Sie tun?</strong> Während des Updates werden inkompatible Pakete automatisch auf den Zustand <span class="guihint">Disabled</span> gesetzt, aber nicht vollständig gelöscht.
Zur neuen Checkmk-Version kompatible Pakete werden automatisch aktiviert, Sie erhalten den Zustand <span class="guihint">Enabled (active on this site)</span>.</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- -----------------------------</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Enabled (active on this site)</span>
<span class="tok-go">hello_world 0.2.0   Hello world! 2.0.0        2.0.999       6     Disabled</span></code></pre></div></div>
<div class="paragraph"><p>Wenn die Funktionalität der neuen Pakete sichergestellt ist und die alten nicht mehr als Referenz benötigt werden, können Sie nach veralteten Paketen suchen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list<span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>grep<span class="tok-w"> </span>Disabled</code></pre></div></div>
<div class="paragraph"><p>Deinstallieren Sie diese dann mit <code>mkp remove</code>.</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>remove<span class="tok-w"> </span>hello_world<span class="tok-w"> </span><span class="tok-m">0</span>.2.0</code></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_outlook">
<span class="hidden-anchor sr-only" id="outlook"></span>5. Ausblick</h2>
<div class="sectionbody">
<div class="paragraph"><p>In diesem Kapitel geht es um Themen, die nicht die aktuelle Checkmk Version <span class="new">2.1.0</span>, sondern eine der darauf folgenden Versionen betreffen.</p></div>
<div class="sect2">
<h3 id="heading_web-api">
<span class="hidden-anchor sr-only" id="web-api"></span>5.1. Die Web-API wird entfernt</h3>
<div class="paragraph"><p>Die Web-API (auch HTTP-API genannt) wird in der nächsten Checkmk-Version <span class="new">2.2.0</span> entfernt.
Die Web-API wird ersetzt durch die in der <span class="new">2.0.0</span> eingeführte <a href="#rest-api">REST-API</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_kubernetes_20">
<span class="hidden-anchor sr-only" id="kubernetes_20"></span>5.2. Der alte Kubernetes Spezialagent wird entfernt</h3>
<div class="paragraph"><p>Der Checkmk <span class="new">2.0.0</span> Spezialagent für das Kubernetes-Monitoring und die zugehörigen Check-Plugins werden in der nächsten Checkmk-Version <span class="new">2.2.0</span> entfernt.
Details finden Sie im <a href="https://checkmk.com/de/werk/13561" target="_blank">Werk #13561</a>.
Ersatz gibt es in Version <span class="new">2.1.0</span> mit dem komplett <a href="#kubernetes">neuen Kubernetes-Monitoring.</a></p></div>
</div>
<div class="sect2">
<h3 id="heading_nsca">
<span class="hidden-anchor sr-only" id="nsca"></span>5.3. NSCA wird nicht mehr unterstützt</h3>
<div class="paragraph"><p>Die Unterstützung für den Nagios Service Check Acceptor (NSCA) wird in der nächsten Checkmk-Version <span class="new">2.2.0</span> entfernt.</p></div>
<div class="paragraph"><p>NSCA ist ein Nagios Add-on, um Ergebnisse passiver <a href="monitoring_basics.html#checks">Checks</a> von fernen Hosts in einer verteilten Nagios-Konfiguration zu erhalten.
Dieses veraltete Verfahren zum Aufbau eines <a href="distributed_monitoring.html">verteilten Monitoring</a> bietet gegenüber den Checkmk-eigenen Verfahren keine Vorteile.</p></div>
<div class="paragraph"><p>Details und Hinweise zum Ersatz finden Sie im <a href="https://checkmk.com/de/werk/13644" target="_blank">Werk #13644</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_hw_sw_inventory_plugin_api">
<span class="hidden-anchor sr-only" id="hw_sw_inventory_plugin_api"></span>5.4. Die alte HW/SW-Inventur Plugin-API wird nicht mehr unterstützt</h3>
<div class="paragraph"><p>Die Unterstützung der alten Plugin-API für die HW/SW-Inventur wird in der nächsten Checkmk-Version <span class="new">2.2.0</span> entfernt.</p></div>
<div class="paragraph"><p>Die dieser API folgenden Plugins befinden sich im Instanzverzeichnis unter <code>~/share/check_mk/inventory</code> und (als lokale Dateien) unter <code>~/local/share/check_mk/inventory</code>.
Diese Plugins funktionieren in der Version <span class="new">2.1.0</span>, werden aber ab der Version <span class="new">2.2.0</span> ignoriert werden.</p></div>
<div class="paragraph"><p>Falls Sie benutzerdefinierte Plugins nutzen, migrieren Sie diese auf die neue Check-API bevor Sie auf die Version <span class="new">2.2.0</span> wechseln.
Im <a href="https://checkmk.com/de/werk/14084" target="_blank">Werk #14084</a> finden Sie weitere Details und Informationen zur Migration.</p></div>
</div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">Auf dieser Seite</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Einleitung</a></li>
<li>
<a href="#prep">2. Vorbereitungen</a><ul class="sectlevel1">
<li><a href="#backup">2.1. Backup</a></li>
<li><a href="#linux_versions">2.2. Linux-Distributionsversionen</a></li>
<li><a href="#agents">2.3. Die Agenten für Linux und Windows</a></li>
<li><a href="#local_files">2.4. Lokale Dateien</a></li>
<li><a href="#check-api">2.5. Die Check-API</a></li>
<li>
<a href="#incompatible_mkps">2.6. Inkompatible und obsolete MKPs</a><ul class="sectlevel2"><li><a href="#mkp_backport">MKP-Verwaltung ab <span class="new">2.0.0</span>p33 und <span class="new">2.1.0</span>p21</a></li></ul>
</li>
<li><a href="#incompatible">2.7. Inkompatible Änderungen</a></li>
</ul>
</li>
<li>
<a href="#update">3. Update</a><ul class="sectlevel1">
<li>
<a href="#dry_run">3.1. Best Practices beim Update</a><ul class="sectlevel2">
<li><a href="#_betriebssystem_aktualisieren">Betriebssystem aktualisieren</a></li>
<li><a href="#_checkmk_version_aktualisieren">Checkmk-Version aktualisieren</a></li>
<li><a href="#_probelauf_des_updates_durchf%C3%BChren">Probelauf des Updates durchführen</a></li>
<li><a href="#automatic_agent_updates">Agenten-Update vorübergehend abschalten</a></li>
<li><a href="#notifications">Benachrichtigungen vorübergehend abschalten</a></li>
</ul>
</li>
<li>
<a href="#update_distributed_monitoring">3.2. Update im verteilten Monitoring</a><ul class="sectlevel2">
<li><a href="#compat_chart">Kompatibilitätstabelle</a></li>
<li><a href="#dist_setup">MKPs im verteilten Setup</a></li>
</ul>
</li>
<li><a href="#_das_update_durchf%C3%BChren">3.3. Das Update durchführen</a></li>
</ul>
</li>
<li>
<a href="#follow-up">4. Nachbereitungen</a><ul class="sectlevel1">
<li>
<a href="#gui">4.1. Änderungen der Benutzeroberfläche</a><ul class="sectlevel2"><li><a href="#_entfernte_snapins_f%C3%BCr_die_seitenleiste">Entfernte Snapins für die Seitenleiste</a></li></ul>
</li>
<li><a href="#automigration">4.2. Automigration auf die Check-API überprüfen</a></li>
<li>
<a href="#service_discovery">4.3. Services aktualisieren</a><ul class="sectlevel2">
<li><a href="#service_check_mk_agent">Check_MK und Check_MK Agent</a></li>
<li><a href="#cluster_services">Cluster-Services</a></li>
<li><a href="#service_descriptions">Service-Beschreibungen</a></li>
</ul>
</li>
<li><a href="#new_ports">4.4. Neue Ports</a></li>
<li><a href="#agent_registration">4.5. Agenten für TLS registrieren</a></li>
<li><a href="#kubernetes">4.6. Das neue Kubernetes-Monitoring</a></li>
<li><a href="#encrypt_notification_spooler">4.7. Benachrichtigungs-Spooler verschlüsseln</a></li>
<li><a href="#rest-api">4.8. REST-API ersetzt Web-API</a></li>
<li><a href="#remove_old_mkps">4.9. Obsolete MKPs entfernen</a></li>
</ul>
</li>
<li>
<a href="#outlook">5. Ausblick</a><ul class="sectlevel1">
<li><a href="#web-api">5.1. Die Web-API wird entfernt</a></li>
<li><a href="#kubernetes_20">5.2. Der alte Kubernetes Spezialagent wird entfernt</a></li>
<li><a href="#nsca">5.3. NSCA wird nicht mehr unterstützt</a></li>
<li><a href="#hw_sw_inventory_plugin_api">5.4. Die alte HW/SW-Inventur Plugin-API wird nicht mehr unterstützt</a></li>
</ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../../assets/js/lunr.de.js"></script>
<script src="../lunr.index.de.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
