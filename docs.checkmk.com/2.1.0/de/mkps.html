<!DOCTYPE html>
<html lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="robots" content="noindex">
<meta name="description" content="Von der Checkmk Community erstellte Erweiterungen können über Pakete einfach erstellt und mit anderen geteilt werden.">
<meta name="og:locale" content="de">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Checkmk Erweiterungspakete (MKPs)- Erweiterungen der Community in Checkmk integrieren">
<meta name="og:description" content="Von der Checkmk Community erstellte Erweiterungen können über Pakete einfach erstellt und mit anderen geteilt werden.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Checkmk Erweiterungspakete (MKPs)- Erweiterungen der Community in Checkmk integrieren</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Suche auf docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/2.1.0/de"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/2.1.0/de"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">de</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../2.1.0/en/mkps.html">English</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">2.1.0</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.2.0/de/mkps.html">2.2.0</a><a class="dropdown-item" href="../../latest/de/mkps.html">latest (2.3.0)</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_willkommen_bei_checkmk">
<a class="anchor" href="#_willkommen_bei_checkmk"></a>1. Willkommen bei Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Willkommen im Checkmk Handbuch</a></p>
</li>
<li>
<p><a href="glossar.html">Glossar</a></p>
</li>
<li>
<p><a href="search.html">Suchen in docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leitfaden_für_einsteiger">
<a class="anchor" href="#_leitfaden_f%C3%BCr_einsteiger"></a>2. Leitfaden für Einsteiger</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Checkmk aufsetzen</a></p>
</li>
<li>
<p><a href="intro_gui.html">Die Checkmk-Oberfläche</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Das Monitoring einrichten</a></p>
</li>
<li>
<p><a href="intro_tools.html">Die Monitoring-Werkzeuge</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk im Monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Das Monitoring feinjustieren</a></p>
</li>
<li>
<p><a href="intro_users.html">Mit mehreren Benutzern arbeiten</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Benachrichtigungen einschalten</a></p>
</li>
<li>
<p><a href="intro_extend.html">Das Monitoring weiter ausbauen</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best Practices, Tipps &amp; Tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_und_vms">
<a class="anchor" href="#_server_und_vms"></a>3.1. Server und VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation unter Debian und Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation unter Red Hat und CentOS</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation unter SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, Container, Cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation von Checkmk in der Appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation als Docker-Container</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates und Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update auf Version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update-Matrix für Version <span class="new">2.1.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux-Upgrade auf dem Checkmk-Server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk-Versionen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_von_checkmk">
<a class="anchor" href="#_administration_von_checkmk"></a>4. Administration von Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Anmeldung mit SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single Sign-On mit Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk-Server im Docker-Container</a></p>
</li>
<li>
<p><a href="security.html">Sicherheit (Security)</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Weboberfläche mit HTTPS absichern</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instanzen">
<a class="anchor" href="#_instanzen"></a>4.2. Instanzen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Instanzen (Sites) mit omd verwalten</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk auf der Kommandozeile</a></p>
</li>
<li>
<p><a href="license.html">Lizenzen verwalten</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Verteiltes Monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Konfiguration der Checkmk Instanz analysieren</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk Erweiterungspakete (MKPs)</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Der Simulationsmodus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konfiguration">
<a class="anchor" href="#_konfiguration"></a>5. Konfiguration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Die Konfiguration von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Verwaltung der Hosts</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Strukturierung der Hosts</a></p>
</li>
<li>
<p><a href="host_tags.html">Host-Merkmale</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamische Host-Konfiguration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Services verstehen und konfigurieren</a></p>
</li>
<li>
<p><a href="clustered_services.html">Cluster-Services überwachen</a></p>
</li>
<li>
<p><a href="piggyback.html">Der Piggyback-Mechanismus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_regeln">
<a class="anchor" href="#_regeln"></a>5.3. Regeln</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Host- und Serviceparameter</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unterstützende_konfigurationen">
<a class="anchor" href="#_unterst%C3%BCtzende_konfigurationen"></a>5.4. Unterstützende Konfigurationen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Zeitperioden (Time Periods)</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Reguläre Ausdrücke in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benutzer_und_berechtigungen">
<a class="anchor" href="#_benutzer_und_berechtigungen"></a>5.5. Benutzer und Berechtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Benutzer, Zuständigkeiten, Berechtigungen</a></p>
</li>
<li>
<p><a href="ldap.html">Benutzerverwaltung mit LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benachrichtigungen">
<a class="anchor" href="#_benachrichtigungen"></a>5.6. Benachrichtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Einführung in die Benachrichtigungen</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Benachrichtigungen per Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Benachrichtigungen per Mattermost</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Benachrichtigungen per PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Benachrichtigungen per Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Benachrichtigungen per Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Benachrichtigungen per ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Benachrichtigungen per Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Benachrichtigungen per Splunk On-Call</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Benachrichtigungen per Cisco Webex Teams</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">Die Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert Handler</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_überwachung_von_systemen">
<a class="anchor" href="#_%C3%BCberwachung_von_systemen"></a>6. Überwachung von Systemen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring-Agenten</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agenten_und_snmp">
<a class="anchor" href="#_checkmk_agenten_und_snmp"></a>6.1. Checkmk-Agenten und SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatische Agenten-Updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Linux überwachen</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Linux überwachen im Legacy-Modus</a></p>
</li>
<li>
<p><a href="agent_windows.html">Windows überwachen</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">FreeBSD überwachen</a></p>
</li>
<li>
<p><a href="snmp.html">Überwachen via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agentenerweiterungen">
<a class="anchor" href="#_agentenerweiterungen"></a>6.2. Agentenerweiterungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">Die HW/SW-Inventur</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Oracle-Datenbanken überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">MySQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">MSSQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Zeitbasierte Prozesse (Cronjobs) überwachen</a></p>
</li>
<li>
<p><a href="spool_directory.html">Das Spool-Verzeichnis</a></p>
</li>
<li>
<p><a href="localchecks.html">Lokale Checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, Cloud, Container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datenquellenprogramme</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">VMWare ESXi überwachen</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Amazon Web Services (AWS) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Microsoft Azure überwachen</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Kubernetes überwachen</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Docker überwachen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpunkte">
<a class="anchor" href="#_endpunkte"></a>6.4. Endpunkte</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Netzwerkdienste überwachen (Aktive Checks)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metriken">
<a class="anchor" href="#_dashboards_views_metriken"></a>7. Dashboards, Views, Metriken</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">Die Benutzeroberfläche</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_allgemein">
<a class="anchor" href="#_allgemein"></a>7.1. Allgemein</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Ansichten von Hosts und Services (Views)</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Messwerte und Graphing</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kommandos_in_ansichten">
<a class="anchor" href="#_kommandos_in_ansichten"></a>7.2. Kommandos in Ansichten</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Kommandos</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Quittierung von Problemen</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Wartungszeiten</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auswertungen_und_prognosen">
<a class="anchor" href="#_auswertungen_und_prognosen"></a>8. Auswertungen und Prognosen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auswertungen">
<a class="anchor" href="#_auswertungen"></a>8.1. Auswertungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Verfügbarkeit (Availability)</a></p>
</li>
<li>
<p><a href="sla.html">Erweiterte Verfügbarkeiten (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Berichte (Reports)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosen">
<a class="anchor" href="#_prognosen"></a>8.2. Prognosen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Prognosebasiertes Monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Vorhersagegraphen erstellen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anbindung_anderer_applikationen">
<a class="anchor" href="#_anbindung_anderer_applikationen"></a>9. Anbindung anderer Applikationen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Prometheus integrieren</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Datadog integrieren</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: Statusdaten auf Karten und Diagrammen</a></p>
</li>
<li>
<p><a href="ntop.html">ntopng in Checkmk integrieren</a></p>
</li>
<li>
<p><a href="grafana.html">Checkmk in Grafana integrieren</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Metriken an InfluxDB und Graphite senden</a></p>
</li>
<li>
<p><a href="nagstamon.html">Nagstamon mit Checkmk verbinden</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_besonderheiten_in_den_editionen">
<a class="anchor" href="#_besonderheiten_in_den_editionen"></a>10. Besonderheiten in den Editionen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="support_diagnostics.html">Support Diagnostics</a></p>
</li>
<li>
<p><a href="managed.html">Die Managed Services Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatisierung_und_programmierung">
<a class="anchor" href="#_automatisierung_und_programmierung"></a>11. Automatisierung und Programmierung</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apis_zur_automatisierung">
<a class="anchor" href="#_apis_zur_automatisierung"></a>11.1. APIs zur Automatisierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Konfiguration via Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Statusdaten abrufen via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus Befehlsreferenz</a></p>
</li>
<li>
<p><a href="web_api.html">Konfiguration via HTTP-API</a></p>
</li>
<li>
<p><a href="web_api_references.html">Befehlsreferenz der HTTP-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_zur_programmierung">
<a class="anchor" href="#_apis_zur_programmierung"></a>11.2. APIs zur Programmierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">Die Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_programmierung_von_check_plugins">
<a class="anchor" href="#_programmierung_von_check_plugins"></a>11.3. Programmierung von Check-Plugins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_check_plugins.html">Eigene Check-Plugins schreiben</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konzepte">
<a class="anchor" href="#_konzepte"></a>12. Konzepte</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Grundlagen des Monitorings mit Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_der_checkmk_micro_core_cmc">
<a class="anchor" href="#_der_checkmk_micro_core_cmc"></a>12.1. Der Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">Der Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Besonderheiten des CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration auf den CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">Dateien und Verzeichnisse des CMC</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_die_checkmk_appliance">
<a class="anchor" href="#_die_checkmk_appliance"></a>13. Die Checkmk Appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Schnellstart-Anleitung für Checkmk-Racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Schnellstart-Anleitung für Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Virtuelle Appliance installieren</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Appliance einrichten und nutzen</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in der Appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance im Cluster-Betrieb</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Besonderheiten der Hardware-Appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Checkmk Erweiterungspakete (MKPs)</h1>
<div class="details">
<span id="revdate">Last modified on 15-Feb-2023</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.1.0/de/mkps.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">Dies ist eine am 2025-01-07 22:12:14 +0000 für die Offline-Nutzung exportierte Seite. Sie spiegelt möglicherweise nicht den aktuellen Stand der Checkmk Dokumentation wider. Um eine täglich aktualisierte Version dieser Seite anzusehen, rufen Sie bitte <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a> auf.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="https://checkmk.com/de/integrations" target="_blank">Katalog der Check-Plugins</a>
<a href="localchecks.html">Lokale Checks</a>
<a href="devel_check_plugins.html">Eigene Check-Plugins schreiben</a>
<a href="dev_guidelines.html">Richtlinien für Check-Plugins</a>
<a href="bakery_api.html">Die Bakery-API</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__einleitung">
<span class="hidden-anchor sr-only" id="_einleitung"></span>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph"><p>Checkmk ist sehr modular aufgebaut und kann an vielen Stellen mit Python-Programmierkenntnissen erweitert werden.
Unter anderem ist es möglich, Checkmk um folgende Elemente ausbauen:</p></div>
<div class="ulist"><ul>
<li><p>Eigene Checks und Agentenplugins inklusive Eingabemasken für die Konfigurationsumgebung</p></li>
<li><p>Eigene Plugins für die Checkmk <a href="inventory.html">HW/SW-Inventur</a></p></li>
<li><p>Erweiterungen für die GUI (Ansichten, Dashboards, Spalten, Icons, etc.)</p></li>
<li><p>Definitionen von Graphen oder Perf-O-Metern</p></li>
<li><p>Benachrichtigungs- und Alert Handler-Skripte (auch in Shell oder anderen Skriptsprachen)</p></li>
</ul></div>
<div class="paragraph"><p>All diese Erweiterungen werden durch Ablage von zusätzlichen Dateien unterhalb des Verzeichnisses <code>~/local</code> innerhalb der Checkmk-Instanz realisiert.
Um diese Erweiterungen sinnvoll zu verwalten, innerhalb von verteilten Umgebungen auszurollen und auch mit anderen Anwendern auszutauschen, stellt Checkmk ein eigenes Paketformat bereit: das <strong>Checkmk Erweiterungspaket</strong> — kurz <strong>MKP</strong>.</p></div>
<div class="paragraph"><p>Ein MKP sammelt eine beliebige Menge von Erweiterungen — z.B. einen Satz Check-Plugins inklusive zugehöriger Handbuchseiten, der Konfigurationsumgebung für Schwellwerte und zugehörigen Metrikdefinitionen.
Es kann darüber hinaus Einstellungen für die Verteilung via Agentenbäckerei enthalten.
Das MKP hat einen Namen, eine Versionsnummer und kann mit einer einfachen Aktion installiert oder auch wieder entfernt werden.</p></div>
<div class="paragraph"><p><strong>Hinweis:</strong> Das in diesem Artikel geschilderte Verhalten mit zweistufiger Installation/Deinstallation entspricht Checkmk <span class="new">2.1.0</span>p21.
Frühere Versionen verwenden eine einstufige Installation/Deinstallation.
Dieses Verhalten wurde nachgerüstet, um eine Aktualisierung von <span class="new">2.0.0</span> nach <span class="new">2.1.0</span> (und später von <span class="new">2.1.0</span> nach <span class="new">2.2.0</span>) zu erleichtern.</p></div>
<div class="sect2">
<h3 id="heading_exchange">
<span class="hidden-anchor sr-only" id="exchange"></span>1.1. Die Checkmk Exchange</h3>
<div class="paragraph"><p>Auf der <a href="https://exchange.checkmk.com" target="_blank">Checkmk Exchange</a> können Plugin-Programmierer Pakete für andere Checkmk-Benutzer bereitstellen und untereinander austauschen.
Von dort können Sie kostenlos Erweiterungen herunterladen und verwenden.
Beachten Sie bei Paketen von der Exchange, dass diese durch andere Benutzern freiwillig und ohne jede Garantie bereitgestellt werden.</p></div>
<div class="paragraph"><p>Unsauber programmierte Plugins können zu erhöhter Last und erhöhtem Arbeitsspeicherbedarf führen.
Zudem ist es möglich, dass MKPs für ältere Versionen von CMK entwickelt wurden und so keine vollständige Kompatibilität vorhanden ist
(von Version <span class="new">1.6.0</span> auf <span class="new">2.0.0</span> wechselte Checkmk von Python 2 auf Python 3).
In Extremfällen droht Datenverlust.
Wir empfehlen daher vor dem produktiven Einsatz fremder MKPs die Installation in einer Testinstanz.</p></div>
</div>
<div class="sect2">
<h3 id="heading_tools">
<span class="hidden-anchor sr-only" id="tools"></span>1.2. Werkzeuge für MKPs</h3>
<div class="paragraph"><p>Zur Verwaltung von MKPs gibt es zwei Werkzeuge:</p></div>
<div class="ulist"><ul>
<li><p>Den <a href="#commandline">Kommandozeilenbefehl</a> <code>mkp</code></p></li>
<li><p>Den Setup-Menüeintrag <span class="guihint">Extension Packages</span> (nur <span class="image-inline"><img src="../images/CEE.svg" alt="CEE" width="20" title="Checkmk Enterprise Editions"></span> <strong>Checkmk Enterprise Editions</strong>)</p></li>
</ul></div>
<div class="paragraph"><p>Beide Verwaltungswerkzeuge stellen wir Ihnen nun näher vor.
Sie sind miteinander kompatibel, so dass Sie mal den Kommandozeilenbefehl und mal <span class="guihint">Extension Packages</span> verwenden können, ohne dass dabei etwas „durcheinander gerät“.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_wato">
<span class="hidden-anchor sr-only" id="wato"></span>2. Erweiterungspakete über das Setup-Menü verwalten</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span> Die Möglichkeit MKPs über die GUI zu verwalten gibt es ausschließlich in den Enterprise Editions von Checkmk.
Im <span class="guihint">Setup</span>-Menü steigen Sie in die Verwaltung der MKPs über <span class="guihint">Setup &gt; Maintenance &gt; Extension packages</span> ein.
Hier können Sie MKPs hinzufügen, ändern oder neu erstellen:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_sidebar.png" alt="mkp manager sidebar" width="30%"></div></div>
<div class="sect2">
<h3 id="heading__hinzufügen_eines_mkps">
<span class="hidden-anchor sr-only" id="_hinzufügen_eines_mkps"></span>2.1. Hinzufügen eines MKPs</h3>
<div class="paragraph"><p>Ein MKP, das Sie z.B. von der Exchange heruntergeladen haben, können Sie mit dem Knopf <span class="guihint">Upload package</span> in Checkmk hochladen und so verfügbar machen.
Dafür muss die Datei auf dem Rechner vorhanden sein, auf dem auch Ihr Webbrowser läuft.
Die Dateiendung des Pakets muss <code>.mkp</code> sein.</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_upload.png" alt="mkp manager upload"></div></div>
<div class="paragraph"><p>Nach der Installation ist das Erweiterungspaket zunächst <em>verfügbar</em>.
Es befindet sich unter <span class="guihint">All packages (enabled or disabled)</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_present_not_active.png" alt="mkp manager present not active"></div></div>
</div>
<div class="sect2">
<h3 id="heading__aktivierung_eines_mkps">
<span class="hidden-anchor sr-only" id="_aktivierung_eines_mkps"></span>2.2. Aktivierung eines MKPs</h3>
<div class="paragraph"><p>Erst mit dem Klick auf das Steckersymbol <span class="image-inline"><img src="../images/icons/icon_install.png" alt="icon install"></span> wird ein verfügbares Paket auch aktiviert.
Bei der Aktivierung werden die Dateien in einer Ordnerhierarchie unterhalb von <code>~/local/</code> installiert.
Außerdem wird die Paketbeschreibungsdatei in <code>~/var/check_mk/packages/</code> abgelegt.
Nach dem Aktivierung erscheint das Paket dann auch in der Liste der <em>freigeschalteten und aktiven</em> MKPs – <span class="guihint">Enabled (active on this site)</span>:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_list_active.png" alt="mkp manager list active"></div></div>
<div class="paragraph"><p>Nun führen Sie noch eine <a href="wato.html#activate_changes">Aktivierung der Änderungen</a> durch und alle Funktionen aus dem Paket sind im System verankert und stehen Ihnen bereit.</p></div>
</div>
<div class="sect2">
<h3 id="heading__pakete_deaktivieren_und_entfernen">
<span class="hidden-anchor sr-only" id="_pakete_deaktivieren_und_entfernen"></span>2.3. Pakete deaktivieren und entfernen</h3>
<div class="paragraph"><p>Auch die vollständige Löschung eines Paketes erfolgt zweistufig.
Mit dem <span class="image-inline"><img src="../images/icons/icon_disabled.png" alt="icon disabled"></span> deaktivieren Sie in der Liste der aktiven Pakete ein Paket zunächst.
In diesem Schritt werden die installierten Dateien entfernt, aber das MKP wird weiter vorgehalten – dieser Schritt macht lediglich die <em>Aktivierung</em> rückgängig.</p></div>
<div class="paragraph"><p>Über das Symbol <span class="image-inline"><img src="../images/icons/icon_delete.png" alt="icon delete"></span> in der Liste aller Pakete, können Sie installierte und nicht verwendete Pakete wieder löschen.
Beim Löschen wird das Paket gelöscht und somit die Erweiterung komplett entfernt – also das Gegenteil des <em>Hinzufügens eines Paketes</em>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_distr_wato">
<span class="hidden-anchor sr-only" id="distr_wato"></span>2.4. MKPs in verteilten Umgebungen</h3>
<div class="paragraph"><p>Bei einem <a href="distributed_monitoring.html#distr_wato">verteilten Setup</a> reicht es, wenn Sie die Pakete auf der Zentralinstanz verfügbar machen.
Für jede der Zentralinstanz zugeordneten Remote-Instanz können Sie dann separat bestimmen, ob die Anpassungen an diese Instanz übertragen werden sollen.
Sie müssen dazu lediglich die Option <span class="guihint">Replicate extensions</span> aktivieren.
Danach werden bei der Synchronisation auch die MKPs und alle anderen Änderungen unterhalb des Verzeichnisses <code>~/local</code> übertragen.</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_distr_wato.png" alt="mkp distr wato"></div></div>
<div class="paragraph"><p>Ist die Übertragung nicht gewünscht, schalten Sie die Option für diese oder alle Instanzen einfach ab.</p></div>
<div class="paragraph"><p><strong>Wichtig</strong>: Die Anpassungen für das verteilte Setup werden nur übertragen, wenn die Option <span class="guihint">Enable replication</span> auf <span class="guihint">Push configuration to this site</span> eingestellt ist.</p></div>
</div>
<div class="sect2">
<h3 id="heading_enabled_inactive">
<span class="hidden-anchor sr-only" id="enabled_inactive"></span>2.5. Sonderfall: Freigeschaltete, aber inaktive Pakete</h3>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p><strong>Verlust von Einstellungen droht!</strong>
Beim Update der Major-Version löscht Checkmk Regeln, die nicht mehr benötigt werden.
Falls Sie Pakete <em>vor</em> dem Update deinstallieren, um <em>nach</em> dem Update eine neue Version zu installieren, gehen möglicherweise noch benötigte Einstellungen verloren.
Installieren Sie stattdessen immer neue und alte Pakete wie in diesem Abschnitt beschrieben parallel und entfernen Sie alte erst nach dem Update.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>Ein Sonderfall stellt der Aktivierungsversuch eines Paketes dar, das nicht zur verwendeten Checkmk-Version passt. Ein solches Paket,  das zwar freigeschaltet ist, aber dessen Aktivierung wegen einer inkompatiblen Checkmk-Version fehlschlägt, landet in der Liste <span class="guihint">Enabled (inactive on this site)</span>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkp_manager_all_states.png" alt="mkp manager all states"></div></div>
<div class="paragraph"><p>Warum aber sollte man Pakete installieren, die nicht zur verwendeten Checkmk-Version passen?
Dafür gibt es zwei gute Gründe:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Das <a href="update_major.html">Update der Checkmk-Version</a>:
Sie haben die Möglichkeit, Pakete sowohl für die alte als auch für die neue Version vorzuhalten – beim Update wird dann automatisch das neuere aktiviert.</p></li>
<li><p><a href="distributed_monitoring.html#distr_wato">Verteiltes Monitoring</a>:
Um Updates zu erleichtern, darf die Checkmk-Major-Version von Remote-Instanzen eine höher als die der Zentralinstanz sein.
Dies erschwerte jedoch bislang die Verteilung von MKPs, denn diese mussten zu beiden Major-Versionen kompatibel sein.
Mit der Möglichkeit, auch unpassende Pakete freizuschalten, können Sie in der Zentralinstanz jeweils Pakete vorhalten, die zur Ausgangs- und Zielversion passen.
Beim Update wird dann automatisch das neuere aktiviert.</p></li>
</ol></div>
<div class="paragraph"><p>Aus den Versionsnummern im obigen Screenshot können Sie entnehmen, dass es sich um eine Checkmk <span class="new">2.1.0</span> Zentralinstanz handelt, die Pakete für Remote-Instanzen bereithält, welche bereits auf <span class="new">2.2.0</span> aktualisiert wurden.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__mkps_für_entwickler">
<span class="hidden-anchor sr-only" id="_mkps_für_entwickler"></span>3. MKPs für Entwickler</h2>
<div class="sectionbody">
<div class="paragraph"><p>Wenn Sie selbst Plugins für Checkmk programmieren oder modifizieren, beachten Sie die Artikel zu den vorhandenen
<a href="devel_check_plugins.html">Programmierschnittstellen und der Dateisystemstruktur</a>,
der <a href="bakery_api.html">Integration in die Agentenbäckerei</a>
sowie die <a href="dev_guidelines.html">Richtlinien für Check-Plugins</a>.</p></div>
<div class="sect2">
<h3 id="heading__pakete_auflösen">
<span class="hidden-anchor sr-only" id="_pakete_auflösen"></span>3.1. Pakete auflösen</h3>
<div class="paragraph"><p>Das <span class="image-inline"><img src="../images/icons/icon_release_mkp.png" alt="icon release mkp"></span> Auflösen eines Paketes entlässt die paketierten Dateien unter <code>~/local/</code> sozusagen "in die Freiheit" und entfernt nur die Paketbeschreibung.
Als Ergebnis sind die Dateien dann unpaketiert und die Erweiterungen weiterhin aktiv.
Dies ist das Gegenteil des Erzeugens eines Pakets aus bisher unpaketierten Dateien.</p></div>
<div class="paragraph"><p>In der Praxis werden Sie das Auflösen von Paketen am ehesten benötigen, wenn Sie eine Erweiterung anpassen und später mit Änderungen neu paketieren wollen.
Zum Beispiel können Sie mit unserem <a href="https://exchange.checkmk.com/p/hello-world" target="_blank">Hello world!</a> Beispiel, welches nichts sinnvolles tut, aber als Vorlage für das erste eigene Paket dienen kann, loslegen.</p></div>
</div>
<div class="sect2">
<h3 id="heading__pakete_erstellen">
<span class="hidden-anchor sr-only" id="_pakete_erstellen"></span>3.2. Pakete erstellen</h3>
<div class="paragraph"><p>Das Erstellen eines eigenen MKPs ist sehr einfach, wenn die <a href="devel_check_plugins.html">Programmierarbeit</a> abgeschlossen ist.
Ausgangspunkt ist, dass Sie unter <code>~/local/</code> in den entsprechenden Verzeichnissen eigene Dateien angelegt haben.
Für eigene agentenbasierte Check-Plugins ist das richtige Verzeichnis z.B. <code>~/local/lib/check_mk/base/plugins/agent_based</code>.
Diese Dateien gehören zunächst zu keinem Paket und werden daher unter <span class="guihint">Unpackaged files</span> aufgelistet:</p></div>
<div class="imageblock">
<div class="content"><img src="../images/mkps_unpackaged.png" alt="mkps unpackaged"></div>
<div class="title">Liste der <span class="guihint">Unpackaged files</span> und der Knopf <span class="guihint">Create package</span>
</div>
</div>
<div class="paragraph"><p>Über den Knopf <span class="image-inline"><img src="../images/icons/icon_new_mkp.png" alt="icon new mkp"></span> <span class="guihint">Create package</span> gelangen Sie zum Dialog zum Erstellen eines neuen Pakets:</p></div>
<div class="imageblock"><div class="content"><img src="../images/mkps_create.png" alt="mkps create"></div></div>
<div class="paragraph"><p>Neben den offensichtlichen Angaben ist es wichtig, dass Sie mindestens eine Datei auswählen, die eingepackt werden soll.
Durch das Erstellen wird eine Paketbeschreibung unter <code>~/var/check_mk/packages/</code> angelegt,
welche neben den allgemeinen Angaben auch die Liste der enthaltenen Dateien beinhaltet.
Die maximal unterstützte Checkmk-Version ist natürlich ohne Glaskugel schwer vorherzusagen.
Als Faustregel kann angenommen werden:
Was für <span class="new">2.0.0</span> ohne Verwendung alter APIs programmiert wurde, läuft auch mit <span class="new">2.1.0</span> und <span class="new">2.2.0</span>.
Daher dient die maximale Checkmk-Version vor allem bei der Verteilung über die Exchange dazu, ältere Pakete zu identifizieren, die intensivere Tests und möglicherweise Anpassungen benötigen.</p></div>
<div class="paragraph"><p>Dieses Paket können Sie nun — z.B. um es auf ein anderes System zu übertragen oder auf die Exchange hochzuladen — in der Paketliste mit dem Symbol <span class="image-inline"><img src="../images/icons/icon_download.png" alt="icon download"></span> als MKP-Datei herunterladen.</p></div>
<div class="paragraph"><p>Bei Änderungen an paketierten Dateien muss das Paket <em>nicht</em> neu erstellt werden.
Klicken Sie auf <span class="image-inline"><img src="../images/icons/icon_edit.png" alt="icon edit"></span>, um die Versionsnummer zu ändern, speichern Sie das geänderte Paket und laden Sie es gegebenenfalls neu herunter.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_commandline">
<span class="hidden-anchor sr-only" id="commandline"></span>4. MKP auf der Kommandozeile</h2>
<div class="sectionbody">
<div class="paragraph"><p>Alle oben genannten Aktionen können Sie auch auf der Kommandozeile ausführen.
Dazu dient der Befehl <code>mkp</code> (der eigentlich eine Abkürzung für <code>cmk -P</code> ist):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp
<span class="tok-go">Usage: check_mk [-v] -P|--package COMMAND [ARGS]</span>

<span class="tok-go">Available commands are:</span>
<span class="tok-go">   create NAME             ...  Collect unpackaged files into new package NAME</span>
<span class="tok-go">   pack NAME               ...  Create package file from installed package</span>
<span class="tok-go">   release NAME            ...  Drop installed package NAME, release packaged files</span>
<span class="tok-go">   find                    ...  Find and display unpackaged files</span>
<span class="tok-go">   list                    ...  Show a table of all known packages</span>
<span class="tok-go">   list NAME               ...  List files of installed package</span>
<span class="tok-go">   list PACK.mkp           ...  List files of uninstalled package file</span>
<span class="tok-go">   show NAME               ...  Show information about installed package</span>
<span class="tok-go">   show PACK.mkp           ...  Show information about uninstalled package file</span>
<span class="tok-go">   install PACK.mkp        ...  Install or update package from file PACK.mkp</span>
<span class="tok-go">   remove NAME VERSION     ...  Uninstall and delete package NAME</span>
<span class="tok-go">   disable NAME [VERSION]  ...  Disable package NAME</span>
<span class="tok-go">   enable NAME VERSION     ...  Enable previously disabled package NAME</span>
<span class="tok-go">   disable-outdated        ...  Disable outdated packages</span>

<span class="tok-go">   -v  enables verbose output</span>

<span class="tok-go">Package files are located in /omd/sites/mysite/var/check_mk/packages.</span></code></pre></div></div>
<div class="sect2">
<h3 id="heading__installation_eines_mkps">
<span class="hidden-anchor sr-only" id="_installation_eines_mkps"></span>4.1. Installation eines MKPs</h3>
<div class="paragraph"><p>Das Hinzufügen eines Pakets geschieht mit <code>mkp install</code>.
Dazu müssen Sie die MKP-Datei natürlich zunächst auf den Checkmk-Server bringen (z.B. mit <code>scp</code>).
Anschließend führen Sie den folgenden Befehl aus:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/hello_world-0.2.1.mkp</code></pre></div></div>
<div class="paragraph"><p>Die Liste der vorhandenen Pakete rufen Sie mit <code>mkp list</code> ab:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- -----------------------------</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Enabled (active on this site)</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__pakete_deaktivieren_und_entfernen_2">
<span class="hidden-anchor sr-only" id="_pakete_deaktivieren_und_entfernen_2"></span>4.2. Pakete deaktivieren und entfernen</h3>
<div class="paragraph"><p>Die Deinstallation eines Pakets geschieht in zwei Stufen.
Zunächst wird das Paket mit <code>mkp disable</code> deaktiviert.
Dies löscht installierte Dateien, hält das Paket aber – beispielsweise für eine spätere  erneute Aktivierung – weiterhin vor.
Die Angabe der Versionsnummer ist nur in dem Fall erforderlich, dass der Name alleine <a href="#enabled_inactive_cli">nicht eindeutig</a> ist:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>disable<span class="tok-w"> </span>hello_world<span class="tok-w"> </span><span class="tok-m">0</span>.2.1</code></pre></div></div>
<div class="paragraph"><p>In der Paketliste sehen Sie nun den Zustand <span class="guihint">Disabled</span>, wenn Sie ein weiteres mal <code>mkp list</code> aufrufen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- --------</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Disabled</span></code></pre></div></div>
<div class="paragraph"><p>Erst <code>mkp remove</code> löscht das Paket unwiderruflich:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>remove<span class="tok-w"> </span>hello_world<span class="tok-w"> </span><span class="tok-m">0</span>.2.1</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading_enabled_inactive_cli">
<span class="hidden-anchor sr-only" id="enabled_inactive_cli"></span>4.3. Sonderfall: Freigeschaltete, aber inaktive Pakete</h3>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p><strong>Verlust von Einstellungen droht!</strong>
Beim Update der Major-Version löscht Checkmk Regeln, die nicht mehr benötigt werden.
Falls Sie Pakete <em>vor</em> dem Update deinstallieren, um <em>nach</em> dem Update eine neue Version zu installieren, gehen möglicherweise noch benötigte Einstellungen verloren.
Installieren Sie stattdessen immer neue und alte Pakete wie in diesem Abschnitt beschrieben parallel und entfernen Sie alte erst nach dem Update.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>Ein Sonderfall stellt die Installation eines Paketes dar, das nicht zur verwendeten Checkmk-Version passt:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/hello_world-0.2.2.mkp
<span class="tok-go">The package requires Check_MK version 2.2.0, but you have 2.1.0p21 installed.</span></code></pre></div></div>
<div class="paragraph"><p>Ein solches Paket, das zwar freigeschaltet ist, aber dessen Aktivierung wegen einer inkompatiblen Checkmk-Version fehlschlägt, erhält den Zustand <span class="guihint">Enabled (inactive on this site)</span>.</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>list
<span class="tok-go">Name        Version Title        Req. Version Until Version Files State</span>
<span class="tok-go">----------- ------- ------------ ------------ ------------- ----- -------------------------------</span>
<span class="tok-go">hello_world 0.2.2   Hello world! 2.2.0        2.2.999       6     Enabled (inactive on this site)</span>
<span class="tok-go">hello_world 0.2.1   Hello world! 2.1.0        2.1.999       6     Enabled (active on this site)</span></code></pre></div></div>
<div class="paragraph"><p>Die Gründe für die Installation inkompatibler Pakete – Updates und verteilte Umgebungen – erklären wir <a href="#enabled_inactive">weiter oben</a>.
Ebenso analog zum vorgehen im Setup verwenden Sie <code>mkp enable paketname version</code>, um ein Paket freizuschalten, respektive <code>mkp disable paketname version</code>, um eine vorhandene Freischaltung aufzuheben.</p></div>
</div>
<div class="sect2">
<h3 id="heading__pakete_auflösen_2">
<span class="hidden-anchor sr-only" id="_pakete_auflösen_2"></span>4.4. Pakete auflösen</h3>
<div class="paragraph"><p>Ein vorhandenes und aktives Paket (<span class="guihint">State: Enabled (active on this site)</span>) können Sie mit <code>mkp release</code> auflösen.
Dabei bleiben die Erweiterungsdateien erhalten und nur das Download-Paket und die Paketbeschreibung werden gelöscht:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>release<span class="tok-w"> </span>mypackage</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__pakete_erstellen_2">
<span class="hidden-anchor sr-only" id="_pakete_erstellen_2"></span>4.5. Pakete erstellen</h3>
<div class="paragraph"><p>Die Vorgehensweise zum Erstellen von MKPs auf der Kommandozeile ist analog zum Setup-Menü.
Zunächst erstellen Sie Ihre Erweiterungen in den passenden Verzeichnissen unterhalb von <code>~/local/</code>.
Alle unpaketierten Dateien listen Sie dann mit <code>mkp find</code> auf:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>find
<span class="tok-go">/omd/sites/mysite/local/lib/check_mk/base/plugins/agent_based/mycheck</span>
<span class="tok-go">/omd/sites/mysite/local/lib/check_mk/base/plugins/agent_based/mycheck_manpage</span></code></pre></div></div>
<div class="paragraph"><p>Jetzt erzeugen Sie mit dem Befehl <code>mkp create</code> eine Paketkonfiguration, welche (vorerst) all diese Dateien beinhaltet.
Geben Sie dabei den gewünschten Namen des neuen Pakets an:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>create<span class="tok-w"> </span>mypackage</code></pre></div></div>
<div class="paragraph"><p>Die Eigenschaften des Pakets editieren Sie nun mit einem Texteditor.
Die Datei dazu liegt in <code>~/var/check_mk/packages/mypackage</code>:</p></div>
<div class="listingblock">
<div class="title">~/var/check_mk/packages/mypackage</div>
<div class="content"><pre class="pygments highlight"><code><span></span>{'author': 'myName',
 'description': u'This package contains a check plugin',
 'download_url': 'http://www.example.com',
 'files': {'agent_based': [],
           'agents': [],
           'checkman': ['mycheck'],
           'checks': ['mycheck'],
           'doc': [],
           'inventory': [],
           'lib': [],
           'notifications': [],
           'pnp-templates': [],
           'web': []},
 'name': 'myPackage',
 'num_ files': 2,
 'title': 'My own check plugin',
 'version': '1.0',
 'version.min_required': '2.0.0',
 'version.packaged': '2.0.0p23'
 'version.usable_until': '2.1.999'}</code></pre></div>
</div>
<div class="paragraph"><p>Bearbeiten Sie diese Datei nach Ihren Wünschen.
Achten Sie auf korrekte Python-Syntax.
Unicode-Zeichenketten (Texte, die nicht-ASCII-Zeichen wie Umlaute enthalten) müssen mit einem kleinen vorangestellten <code>u</code> gekennzeichnet werden.</p></div>
<div class="paragraph"><p>Unter dem Eintrag <code>files</code> können Sie Dateien entfernen, welche nicht paketiert werden sollen.
Tragen Sie unter <code>version.min_required</code> die Mindestversion von Checkmk ein, die erforderlich ist, um das Paket zu verwenden.</p></div>
<div class="paragraph"><p>Anschließend können Sie mit <code>mkp pack</code> eine MKP-Datei erzeugen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>mkp<span class="tok-w"> </span>pack<span class="tok-w"> </span>mypackage
<span class="tok-gp">OMD[mysite]:~$ </span>ll<span class="tok-w"> </span>*.mkp
<span class="tok-go">-rw-rw-r-- 1 mysite mysite 495 Dez 22 13:36 mypackage-1.0.mkp</span></code></pre></div></div>
</div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">Auf dieser Seite</div>
<ul class="sectlevel1">
<li>
<a href="#_einleitung">1. Einleitung</a><ul class="sectlevel1">
<li><a href="#exchange">1.1. Die Checkmk Exchange</a></li>
<li><a href="#tools">1.2. Werkzeuge für MKPs</a></li>
</ul>
</li>
<li>
<a href="#wato">2. Erweiterungspakete über das Setup-Menü verwalten</a><ul class="sectlevel1">
<li><a href="#_hinzuf%C3%BCgen_eines_mkps">2.1. Hinzufügen eines MKPs</a></li>
<li><a href="#_aktivierung_eines_mkps">2.2. Aktivierung eines MKPs</a></li>
<li><a href="#_pakete_deaktivieren_und_entfernen">2.3. Pakete deaktivieren und entfernen</a></li>
<li><a href="#distr_wato">2.4. MKPs in verteilten Umgebungen</a></li>
<li><a href="#enabled_inactive">2.5. Sonderfall: Freigeschaltete, aber inaktive Pakete</a></li>
</ul>
</li>
<li>
<a href="#_mkps_f%C3%BCr_entwickler">3. MKPs für Entwickler</a><ul class="sectlevel1">
<li><a href="#_pakete_aufl%C3%B6sen">3.1. Pakete auflösen</a></li>
<li><a href="#_pakete_erstellen">3.2. Pakete erstellen</a></li>
</ul>
</li>
<li>
<a href="#commandline">4. MKP auf der Kommandozeile</a><ul class="sectlevel1">
<li><a href="#_installation_eines_mkps">4.1. Installation eines MKPs</a></li>
<li><a href="#_pakete_deaktivieren_und_entfernen_2">4.2. Pakete deaktivieren und entfernen</a></li>
<li><a href="#enabled_inactive_cli">4.3. Sonderfall: Freigeschaltete, aber inaktive Pakete</a></li>
<li><a href="#_pakete_aufl%C3%B6sen_2">4.4. Pakete auflösen</a></li>
<li><a href="#_pakete_erstellen_2">4.5. Pakete erstellen</a></li>
</ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../../assets/js/lunr.de.js"></script>
<script src="../lunr.index.de.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
