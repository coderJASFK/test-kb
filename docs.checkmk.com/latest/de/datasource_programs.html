<!DOCTYPE html>
<html lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="Mit Datenquellenprogrammen werden Hosts überwacht, welche nicht direkt oder nur über eine API erreichbar sind. Grundlegende Informationen zur Funktion werden hier beschrieben.">
<meta name="og:locale" content="de">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Datenquellenprogramme - Geräte ohne direkten Agentenzugriff überwachen">
<meta name="og:description" content="Mit Datenquellenprogrammen werden Hosts überwacht, welche nicht direkt oder nur über eine API erreichbar sind. Grundlegende Informationen zur Funktion werden hier beschrieben.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Datenquellenprogramme - Geräte ohne direkten Agentenzugriff überwachen</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Suche auf docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/de"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/de"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">de</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/en/datasource_programs.html">English</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/de/datasource_programs.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/de/datasource_programs.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_willkommen_bei_checkmk">
<a class="anchor" href="#_willkommen_bei_checkmk"></a>1. Willkommen bei Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Willkommen im Checkmk Handbuch</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossar</a></p>
</li>
<li>
<p><a href="search.html">Suchen in docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leitfaden_für_einsteiger">
<a class="anchor" href="#_leitfaden_f%C3%BCr_einsteiger"></a>2. Leitfaden für Einsteiger</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Checkmk aufsetzen</a></p>
</li>
<li>
<p><a href="intro_gui.html">Die Checkmk-Oberfläche</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Das Monitoring einrichten</a></p>
</li>
<li>
<p><a href="intro_tools.html">Die Monitoring-Werkzeuge</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk im Monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Das Monitoring feinjustieren</a></p>
</li>
<li>
<p><a href="intro_users.html">Mit mehreren Benutzern arbeiten</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Benachrichtigungen einschalten</a></p>
</li>
<li>
<p><a href="intro_extend.html">Das Monitoring weiter ausbauen</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best Practices, Tipps &amp; Tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_und_vms">
<a class="anchor" href="#_server_und_vms"></a>3.1. Server und VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation unter Debian und Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation unter Red Hat und Derivaten</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation unter SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, Container, Cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation von Checkmk in der Appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation als Docker-Container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation aus dem Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation aus dem AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates und Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update auf Version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update-Matrix für Version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux-Upgrade auf dem Checkmk-Server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk-Versionen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_von_checkmk">
<a class="anchor" href="#_administration_von_checkmk"></a>4. Administration von Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Anmeldung mit SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single Sign-On mit Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk-Server im Docker-Container</a></p>
</li>
<li>
<p><a href="security.html">Sicherheit (Security)</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Weboberfläche mit HTTPS absichern</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support Diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instanzen">
<a class="anchor" href="#_instanzen"></a>4.2. Instanzen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Instanzen (Sites) mit omd verwalten</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk auf der Kommandozeile</a></p>
</li>
<li>
<p><a href="license.html">Lizenzen verwalten</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Verteiltes Monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Passwortspeicher (Password store)</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Konfiguration der Checkmk Instanz analysieren</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk-Erweiterungspakete (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs für GUI-Erweiterungen</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Der Simulationsmodus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konfiguration">
<a class="anchor" href="#_konfiguration"></a>5. Konfiguration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Die Konfiguration von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Verwaltung der Hosts</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Strukturierung der Hosts</a></p>
</li>
<li>
<p><a href="host_tags.html">Host-Merkmale</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamische Host-Konfiguration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automatisch Hosts erstellen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Services verstehen und konfigurieren</a></p>
</li>
<li>
<p><a href="clustered_services.html">Cluster-Services überwachen</a></p>
</li>
<li>
<p><a href="piggyback.html">Der Piggyback-Mechanismus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_regeln">
<a class="anchor" href="#_regeln"></a>5.3. Regeln</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Regeln</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unterstützende_konfigurationen">
<a class="anchor" href="#_unterst%C3%BCtzende_konfigurationen"></a>5.4. Unterstützende Konfigurationen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Zeitperioden (Time Periods)</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Reguläre Ausdrücke in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benutzer_und_berechtigungen">
<a class="anchor" href="#_benutzer_und_berechtigungen"></a>5.5. Benutzer und Berechtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Benutzer, Zuständigkeiten, Berechtigungen</a></p>
</li>
<li>
<p><a href="ldap.html">Benutzerverwaltung mit LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benachrichtigungen">
<a class="anchor" href="#_benachrichtigungen"></a>5.6. Benachrichtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Benachrichtigungen</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Benachrichtigungen per Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Benachrichtigungen per ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Benachrichtigungen per Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Benachrichtigungen per Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Benachrichtigungen per Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Benachrichtigungen per PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Benachrichtigungen per Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Benachrichtigungen per Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Benachrichtigungen per ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Benachrichtigungen per SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Benachrichtigungen per Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Benachrichtigungen per Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">Die Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert Handler</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_überwachung_von_systemen">
<a class="anchor" href="#_%C3%BCberwachung_von_systemen"></a>6. Überwachung von Systemen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring-Agenten</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agenten_und_snmp">
<a class="anchor" href="#_checkmk_agenten_und_snmp"></a>6.1. Checkmk-Agenten und SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatische Agenten-Updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Linux überwachen</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Linux überwachen im Legacy-Modus</a></p>
</li>
<li>
<p><a href="agent_windows.html">Windows überwachen</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">FreeBSD überwachen</a></p>
</li>
<li>
<p><a href="snmp.html">Überwachen via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agentenerweiterungen">
<a class="anchor" href="#_agentenerweiterungen"></a>6.2. Agentenerweiterungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">Die HW/SW-Inventur</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Log-Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Oracle-Datenbanken überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">MySQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">MSSQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">MSSQL mit dem Legacy-Plugin überwachen</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Zeitbasierte Prozesse (Cronjobs) überwachen</a></p>
</li>
<li>
<p><a href="spool_directory.html">Das Spool-Verzeichnis</a></p>
</li>
<li>
<p><a href="localchecks.html">Lokale Checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, Cloud, Container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datenquellenprogramme</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">VMware ESXi überwachen</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Amazon Web Services (AWS) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Microsoft Azure überwachen</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Google Cloud Platform (GCP) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Kubernetes überwachen</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">OpenShift überwachen</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Docker überwachen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpunkte">
<a class="anchor" href="#_endpunkte"></a>6.4. Endpunkte</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Netzwerkdienste überwachen (Aktive Checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring mit Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metriken">
<a class="anchor" href="#_dashboards_views_metriken"></a>7. Dashboards, Views, Metriken</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">Die Benutzeroberfläche</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_allgemein">
<a class="anchor" href="#_allgemein"></a>7.1. Allgemein</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Ansichten von Hosts und Services (Views)</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Messwerte und Graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Anmerkungen (Custom notes)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kommandos_in_ansichten">
<a class="anchor" href="#_kommandos_in_ansichten"></a>7.2. Kommandos in Ansichten</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Kommandos</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Quittierung von Problemen</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Wartungszeiten</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auswertungen_und_prognosen">
<a class="anchor" href="#_auswertungen_und_prognosen"></a>8. Auswertungen und Prognosen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auswertungen">
<a class="anchor" href="#_auswertungen"></a>8.1. Auswertungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Verfügbarkeit (Availability)</a></p>
</li>
<li>
<p><a href="sla.html">Erweiterte Verfügbarkeiten (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Berichte (Reports)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosen">
<a class="anchor" href="#_prognosen"></a>8.2. Prognosen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Prognosebasiertes Monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Vorhersagegraphen erstellen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anbindung_anderer_applikationen">
<a class="anchor" href="#_anbindung_anderer_applikationen"></a>9. Anbindung anderer Applikationen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Prometheus integrieren</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Datadog integrieren</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: Statusdaten auf Karten und Diagrammen</a></p>
</li>
<li>
<p><a href="ntop.html">ntopng in Checkmk integrieren</a></p>
</li>
<li>
<p><a href="grafana.html">Checkmk in Grafana integrieren</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Metriken an InfluxDB und Graphite senden</a></p>
</li>
<li>
<p><a href="nagstamon.html">Nagstamon mit Checkmk verbinden</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_besonderheiten_in_den_editionen">
<a class="anchor" href="#_besonderheiten_in_den_editionen"></a>10. Besonderheiten in den Editionen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatisierung_und_programmierung">
<a class="anchor" href="#_automatisierung_und_programmierung"></a>11. Automatisierung und Programmierung</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Übersicht der API-Ressourcen</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_zur_automatisierung">
<a class="anchor" href="#_apis_zur_automatisierung"></a>11.1. APIs zur Automatisierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Die Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Statusdaten abrufen via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus Befehlsreferenz</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_zur_programmierung">
<a class="anchor" href="#_apis_zur_programmierung"></a>11.2. APIs zur Programmierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">Die Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_programmierung_von_check_plugins">
<a class="anchor" href="#_programmierung_von_check_plugins"></a>11.3. Programmierung von Check-Plugins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Erweiterungen für Checkmk entwickeln</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Agentenbasierte Check-Plugins schreiben</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">SNMP-basierte Check-Plugins schreiben</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konzepte">
<a class="anchor" href="#_konzepte"></a>12. Konzepte</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Grundlagen des Monitorings mit Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_der_checkmk_micro_core_cmc">
<a class="anchor" href="#_der_checkmk_micro_core_cmc"></a>12.1. Der Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">Der Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Besonderheiten des CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration auf den CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">Dateien und Verzeichnisse des CMC</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_die_checkmk_appliance">
<a class="anchor" href="#_die_checkmk_appliance"></a>13. Die Checkmk Appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Schnellstart-Anleitung für Checkmk-Racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Schnellstart-Anleitung für Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Virtuelle Appliance installieren</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Appliance einrichten und nutzen</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in der Appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance im Cluster-Betrieb</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Besonderheiten der Hardware-Appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Datenquellenprogramme</h1>
<div class="details">
<span id="revdate">Last modified on 07-May-2024</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/onprem/de/datasource_programs.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">Dies ist eine am 2025-01-07 22:12:14 +0000 für die Offline-Nutzung exportierte Seite. Sie spiegelt möglicherweise nicht den aktuellen Stand der Checkmk Dokumentation wider. Um eine täglich aktualisierte Version dieser Seite anzusehen, rufen Sie bitte <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a> auf.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="wato_monitoringagents.html">Monitoring-Agenten</a>
<a href="agent_linux.html">Linux überwachen</a>
<a href="localchecks.html">Lokale Checks</a>
<a href="piggyback.html">Der Piggyback-Mechanismus</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_intro">
<span class="hidden-anchor sr-only" id="intro"></span>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph"><p>Der Checkmk-Server erreicht Hosts im <a href="glossar.html#pull_mode">Pull-Modus</a> üblicherweise über eine TCP-Verbindung auf Port 6556.
Seit Version <span class="new">2.1.0</span> lauscht auf diesem Port in den meisten Fällen der Agent Controller, welcher die Agentenausgabe über eine TLS verschlüsselte Verbindung weiterleitet.
Checkmk <span class="new">2.2.0</span> führte mit dem <a href="glossar.html#push_mode">Push-Modus</a> die zusätzliche Möglichkeit ein, die Übertragungsrichtung zu wählen.</p></div>
<div class="paragraph"><p>Es gibt jedoch Umgebungen — zum Beispiel bei sehr schlanken Containern, Legacy- oder Embedded-Systemen — , in der der Agent Controller nicht verwendet werden kann.
Im <em>Legacy-Modus</em> kommt hier <code>(x)inetd</code> zum Einsatz, der bei jeder Anfrage das Agentenskript ausführt, die Ausgabe im Klartext überträgt und dann die Verbindung wieder schließt.</p></div>
<div class="paragraph"><p>In vielen Fällen verlangen Richtlinien, dass Sicherheitsaspekte wie der Verzicht auf die Übertragung von Daten im Klartext berücksichtigt werden müssen.
So kann ein Angreifer zwar mit den Füllständen von Dateisystemen meist wenig anfangen, aber Prozesstabellen und Listen von anstehenden Sicherheitsupdates können helfen, Angriffe zielgerichtet vorzubereiten.
Darüber hinaus sollen oft keine zusätzlichen Ports geöffnet und stattdessen vorhandene Kommunikationskanäle genutzt werden.</p></div>
<div class="paragraph"><p>Die universelle Methode, um solche Transportwege an Checkmk anzudocken, sind die Datenquellenprogramme (<em>datasource programs</em>).
Die Idee ist sehr einfach:
Sie geben Checkmk die Kommandozeile eines Befehls.
Anstelle der Verbindung auf Port 6556 führt Checkmk diesen Befehl aus.
Dieser produziert die Agentendaten auf der <em>Standardausgabe</em>, welche dann von Checkmk genauso verarbeitet werden, als kämen sie von einem „normalen“ Agenten.
Da Änderungen der Datenquellen meist Transportwege betreffen, ist es wichtig, dass Sie den Host in der <a href="hosts_setup.html#monitoring_agents">Setup-GUI</a> auf der Einstellung <span class="guihint">API integrations if configured, else Checkmk agent</span> belassen.</p></div>
<div class="paragraph"><p>Die Modularität von Checkmk hilft, diese Anforderungen zu erfüllen.
Letztlich kann die Klartextausgabe des Agentenskripts über beliebige Wege transportiert werden — direkt oder indirekt, per Pull oder Push.
Hier sind einige Beispiele, mit denen Checkmk-Anwender Daten vom Agenten zum Checkmk-Server bekommen:</p></div>
<div class="ulist"><ul>
<li><p>per E-Mail</p></li>
<li><p>per HTTP-Zugriff vom Server aus</p></li>
<li><p>per HTTP-Upload vom Host aus</p></li>
<li><p>per Zugriff auf eine Datei, die per <code>rsync</code> oder <code>scp</code> vom Host zum Server kopiert wurde</p></li>
<li><p>per Skript, welches die Daten per HTTP von einem Webdienst abholt</p></li>
</ul></div>
<div class="paragraph"><p>Ein weiterer Anwendungsbereich für Datenquellenprogramme sind Systeme, die keine Agenten-Installation zulassen, aber Zustandsdaten per REST-API oder über eine Telnet-Schnittstelle herausgeben.
In solchen Fällen können Sie ein Datenquellenprogramm schreiben, das die vorhandene Schnittstelle abfragt und aus den gewonnenen Daten Agenten-Output generiert.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_writing">
<span class="hidden-anchor sr-only" id="writing"></span>2. Schreiben von Datenquellenprogrammen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__das_einfachst_mögliche_programm">
<span class="hidden-anchor sr-only" id="_das_einfachst_mögliche_programm"></span>2.1. Das einfachst mögliche Programm</h3>
<div class="paragraph"><p>Das Schreiben und Einbinden eines eigenen Datenquellenprogramms ist nicht schwer.
Sie können jede von Linux unterstützte Skript- und Programmiersprache verwenden.
Legen Sie das Programm am besten im Verzeichnis <code>~/local/bin/</code> an, dann wird es immer automatisch ohne Pfadangabe gefunden.</p></div>
<div class="paragraph"><p>Folgendes erstes minimale Beispiel heißt <code>myds</code> und erzeugt einfache fiktive Monitoring-Daten.
Anstatt einen neuen Transportweg zu integrieren, erzeugt es Monitoring-Daten selbst.
Diese enthalten als einzige Sektion <code>&lt;&lt;&lt;df&gt;&gt;&gt;</code>.
mit der Information zu einem einzigen Dateisystem der Größe 100 kB und dem Namen <code>My_Disk</code>.
Das Ganze ist ein Shell-Skript mit drei Zeilen:</p></div>
<div class="listingblock">
<div class="title">~/local/bin/myds</div>
<div class="content"><pre class="pygments highlight"><code><span></span>#!/bin/sh
echo '&lt;&lt;&lt;df&gt;&gt;&gt;'
echo 'My_Disk  foobar  100 70 30  70% /my_disk'</code></pre></div>
</div>
<div class="paragraph"><p>Vergessen Sie nicht, Ihr Programm ausführbar zu machen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>chmod<span class="tok-w"> </span>+x<span class="tok-w"> </span>local/bin/myds</code></pre></div></div>
<div class="paragraph"><p>Legen Sie nun im Setup zum Test einen Host an — z.B. <code>myserver125</code>.
Dieser benötigt keine IP-Adresse.
Um zu verhindern, dass Checkmk den Namen <code>myserver125</code> per DNS aufzulösen versucht, tragen Sie diesen Namen als explizite „IP-Adresse“ ein.</p></div>
<div class="paragraph"><p>Legen Sie dann eine Regel im Regelsatz <span class="guihint">Setup &gt; Agents &gt; Other integrations &gt; Individual program call instead of agent access</span> an, welche für diesen Host gilt und tragen Sie <code>myds</code> als aufzurufendes Programm ein:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ds_program.png" alt="Eingabemaske für einen individuellen Befehl."></div></div>
<div class="paragraph"><p>Wenn Sie jetzt in der Setup-GUI zur Service-Konfiguration des Hosts wechseln, sollten Sie genau einen Service sehen, der für die Überwachung bereitsteht:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ds_program_discovery.png" alt="Der neue Service wurde erkannt."></div></div>
<div class="paragraph"><p>Nehmen Sie diesen in die Überwachung auf, aktivieren Sie die Änderungen und Ihr erstes Datenquellenprogramm läuft.
Sobald Sie jetzt testweise die Daten ändern, die das Programm auswirft, wird das der nächste Check des Dateisystems <code>My_Disk</code> sofort anzeigen.</p></div>
</div>
<div class="sect2">
<h3 id="heading__fehlerdiagnose">
<span class="hidden-anchor sr-only" id="_fehlerdiagnose"></span>2.2. Fehlerdiagnose</h3>
<div class="paragraph"><p>Wenn etwas nicht funktioniert, können Sie auf der Kommandozeile mit <code>cmk -D</code> die Konfiguration des Hosts überprüfen und feststellen, ob Ihre Regel greift:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>cmk<span class="tok-w"> </span>-D<span class="tok-w"> </span>myserver125

<span class="tok-go">myserver125</span>
<span class="tok-go">Addresses:              myserver125</span>
<span class="tok-go">Tags:                   [address_family:ip-v4-only], [agent:cmk-agent], [criticality:prod], [ip-v4:ip-v4], [networking:lan], [piggyback:auto-piggyback], [site:mysite], [snmp_ds:no-snmp], [tcp:tcp]</span>
<span class="tok-go">Host groups:            check_mk</span>
<span class="tok-go">Agent mode:             Normal Checkmk agent, or special agent if configured</span>
<span class="tok-go">Type of agent:</span>
<span class="tok-go">Program: <mark>myds</mark></span></code></pre></div></div>
<div class="paragraph"><p>Mit einem <code>cmk -d</code> können Sie den Abruf der Agentendaten — und damit das Ausführen Ihres Programms — auslösen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>cmk<span class="tok-w"> </span>-d<span class="tok-w"> </span>myserver125
<span class="tok-go">&lt;&lt;&lt;df&gt;&gt;&gt;</span>
<span class="tok-go">My_Disk  foobar  100 70 30  70% /my_disk</span></code></pre></div></div>
<div class="paragraph"><p>Ein doppeltes <code>-v</code> sollte eine Meldung erzeugen, dass Ihr Programm aufgerufen wird:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>cmk<span class="tok-w"> </span>-vvd<span class="tok-w"> </span>myserver125
<span class="tok-go">Calling: myds</span>
<span class="tok-go">&lt;&lt;&lt;df&gt;&gt;&gt;</span>
<span class="tok-go">My_Disk  foobar  100 70 30  70% /my_disk</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__übergeben_des_host_namens">
<span class="hidden-anchor sr-only" id="_übergeben_des_host_namens"></span>2.3. Übergeben des Host-Namens</h3>
<div class="paragraph"><p>Das Programm aus dem ersten Beispiel funktioniert zwar, ist aber nicht sehr praxistauglich, denn es gibt immer die gleichen Daten aus, egal für welchen Host es aufgerufen wird.</p></div>
<div class="paragraph"><p>Ein echtes Programm, dass z.B. per HTTP von irgendwoher Daten holt, benötigt dazu zumindest den Namen des Hosts, für den Daten geholt werden sollen.
Sie können diesen in der Kommandozeile mit dem Platzhalter <code>$HOSTNAME$</code> übergeben lassen:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ds_program_host.png" alt="Übergabe des Host-Namens mit dem Makro $HOSTNAME$."></div></div>
<div class="paragraph"><p>In diesem Beispiel bekommt das Programm <code>myds</code> den Host-Namen als erstes Argument geliefert.
Folgendes Beispielprogramm gibt diesen zum Testen in Form eines <a href="localchecks.html">lokalen Checks</a> aus.
Es greift per <code>$1</code> auf das erste Argument zu und speichert es zum Zwecke der Übersicht in der Variable <code>$HOST_NAME</code>.
Diese wird dann in die Plugin-Ausgabe des lokalen Checks eingesetzt:</p></div>
<div class="listingblock">
<div class="title">~/local/bin/myds</div>
<div class="content"><pre class="pygments highlight"><code><span></span>#!/bin/sh
HOST_NAME="$1"

echo '&lt;&lt;&lt;local&gt;&gt;&gt;'
echo "0 Hostname - My name is ${HOST_NAME}"</code></pre></div>
</div>
<div class="paragraph"><p>Die Service-Erkennung wird jetzt einen neuen Service vom Typ <code>local</code> finden, in dessen Ausgabe der Host-Name zu sehen ist:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ds_program_discovery_host.png" alt="Die Service-Erkennung findet den neuen Service, der nun den übergebenen Host-Namen als Information ausgibt."></div></div>
<div class="paragraph"><p>Der Schritt zu einem echten Datenquellenprogramm, das z.B. Daten per HTTP mit dem Befehl <code>curl</code> holt, ist jetzt nicht mehr weit.
Folgende Platzhalter sind in der Befehlszeile der Datenquellenprogramme erlaubt:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$HOSTNAME$</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Der Host-Name, wie er im Setup konfiguriert ist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$HOSTADDRESS$</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Diejenige IP-Adresse des Hosts, über die er überwacht wird.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$_HOSTTAGS$</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Liste aller <a href="glossar.html#host_tag">Host-Merkmale</a> durch Leerzeichen getrennt. Setzen Sie dieses Argument auf jeden Fall in Anführungszeichen, um es vor einem Aufteilen durch die Shell zu schützen.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Falls Sie den Host dual per IPv4 und IPv6 überwachen, sind unter Umständen noch folgende Makros für Sie interessant:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$_HOSTADDRESS_4$</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die IPv4-Adresse des Hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$_HOSTADDRESS_6$</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die IPv6-Adresse des Hosts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$_HOSTADDRESS_FAMILY$</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Ziffer <code>4</code>, wenn die zur Überwachung genutzte Adresse die IPv4-Adresse ist, ansonsten <code>6</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="heading__fehlerbehandlung">
<span class="hidden-anchor sr-only" id="_fehlerbehandlung"></span>2.4. Fehlerbehandlung</h3>
<div class="paragraph"><p>Egal, welchen Beruf Sie in der IT ausüben — den meisten Teil Ihrer Zeit werden Sie sich mit Fehlern und Problemen befassen.
Und auch Datenquellenprogramme bleiben davon nicht verschont.
Vor allem bei Programmen, die per Netzwerk Daten beschaffen, ist ein Fehler keineswegs unrealistisch.</p></div>
<div class="paragraph"><p>Damit Ihr Programm Checkmk so einen Fehler sauber mitteilen kann, gilt Folgendes:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Jeder Exit Code außer <code>0</code> wird als Fehler gewertet.</p></li>
<li><p>Fehlermeldungen werden auf dem Standardfehlerkanal (<code>stderr</code>) erwartet.</p></li>
</ol></div>
<div class="paragraph"><p>Falls ein Datenquellenprogramm scheitert,</p></div>
<div class="ulist"><ul>
<li><p>verwirft Checkmk die kompletten Nutzdaten der Ausgabe,</p></li>
<li><p>setzt den Checkmk-Service auf <span class="state2">CRIT</span> und zeigt dort die Daten von <code>stderr</code> als Fehler an,</p></li>
<li><p>bleiben die eigentlichen Services auf dem alten Stand (und werden mit der Zeit veralten).</p></li>
</ul></div>
<div class="paragraph"><p>Sie können das Beispiel von oben so modifizieren, dass es einen Fehler simuliert.
Mit der Umleitung <code>&gt;&amp;2</code> wird der Text auf <code>stderr</code> gelenkt.
Und <code>exit 1</code> setzt den Exit Code des Programms auf <code>1</code>:</p></div>
<div class="listingblock">
<div class="title">~/local/bin/myds</div>
<div class="content"><pre class="pygments highlight"><code><span></span>#!/bin/sh
HOST_NAME=$1

echo "&lt;&lt;&lt;local&gt;&gt;&gt;"
echo "0 Hostname - My name is $HOST_NAME"

echo "This didn't work out" &gt;&amp;2
exit 1</code></pre></div>
</div>
<div class="paragraph"><p>Im Checkmk-Service sieht dies dann so aus:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ds_program_error.png" alt="Wenn ein Skript von 0 verschiedene Exit Codes liefert, wird der Dienst sofort CRIT (rot)."></div></div>
<div class="paragraph"><p>Falls Sie Ihr Programm als Shell-Skript schreiben, können Sie gleich am Anfang die Option <code>set -e</code> verwenden:</p></div>
<div class="listingblock">
<div class="title">~/local/bin/myds</div>
<div class="content"><pre class="pygments highlight"><code><span></span>#!/bin/sh
set -e</code></pre></div>
</div>
<div class="paragraph"><p>Sobald ein Befehl fehlschlägt (Exit Code ungleich <code>0</code>), bricht die Shell sofort ab und beendet das Skript mit dem Exit Code <code>1</code>.
Damit haben Sie eine generische Fehlerbehandlung und müssen nicht bei jedem einzelnen Befehl auf Erfolg prüfen.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_specialagents">
<span class="hidden-anchor sr-only" id="specialagents"></span>3. Spezialagenten</h2>
<div class="sectionbody">
<div class="paragraph"><p>Einige häufig benötigte Datenquellenprogramme werden von Checkmk mitgeliefert.
Diese erzeugen Agentenausgaben nicht durch den Abruf eines normalen Checkmk-Agenten auf irgendwelchen krummen Wegen, sondern sind für die Abfrage von bestimmter Hardware oder Software konzipiert.</p></div>
<div class="paragraph"><p>Weil diese Programme teilweise recht komplexe Parameter benötigen, haben wir dafür spezielle Regelsätze in der Setup-GUI definiert, mit denen Sie diese direkt konfigurieren können.
Diese Regelsätze finden Sie gruppiert nach Anwendungsfällen unter <span class="guihint">Setup &gt; Agents &gt; VM, cloud, container</span> und <span class="guihint">Setup &gt; Agents &gt; Other integrations:</span></p></div>
<div class="imageblock">
<div class="content"><img src="../images/ds_program_rules.png" alt="Regelsätze für die Überwachung von Anwendungen per Datenquelle und Piggyback."></div>
<div class="title">Regelsätze unter <span class="guihint">Setup &gt; Agents &gt; Other integrations</span>
</div>
</div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>Wer von älteren Checkmk Versionen umgestiegen ist, wird sich möglicherweise über die neue Gruppierung wundern:
Seit <span class="new">2.0.0</span> gruppiert Checkmk nicht mehr nach Zugriffstechnik, sondern nach Art des überwachten Objektes.
Dies ist insbesondere deshalb sinnvoll, weil es in vielen Fällen den Anwender nicht interessiert, mit welcher Technik Daten eingeholt werden und zudem oft Datenquellen und <a href="piggyback.html">Piggyback</a> miteinander kombiniert werden, hier also keine klare Abgrenzung möglich ist.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>Diese Programme heißen auch <em>Spezialagenten,</em> weil sie eben ein <em>spezieller</em> Ersatz für den normalen Checkmk-Agenten sind.
Nehmen Sie als Beispiel die Überwachung von <em>NetApp Filers.</em>
Diese lassen die Installation eines Checkmk-Agenten nicht zu.
Die SNMP-Schnittstelle ist langsam, fehlerhaft und unvollständig.
Aber es gibt eine spezielle HTTP-Schnittstelle, welche Zugriff auf das NetApp-Betriebssystem <em>Ontap</em> und alle Überwachungsdaten liefert.</p></div>
<div class="paragraph"><p>Der Spezialagent <code>agent_netapp_ontap</code> greift über eine REST-API auf diese Schnittstelle zu und wird über den Regelsatz <span class="guihint">NetApp via Ontap REST API</span> als Datenquellenprogramm eingerichtet.
Im Inhalt der Regel können Sie dann die Daten eingeben, die der Spezialagent braucht.
Fast immer sind das irgendwelche Zugangsdaten.
Beim NetApp-Spezialagenten gibt es unter anderen auch noch eine zusätzliche Checkbox für das Erfassen von Metriken (die hier recht umfangreich werden können):</p></div>
<div class="imageblock"><div class="content"><img src="../images/ds_program_netapp.png" alt="Regel zur Konfiguration des Netapp-Spezialagenten."></div></div>
<div class="paragraph"><p>Wichtig ist, dass Sie den Host in der <a href="hosts_setup.html#monitoring_agents">Setup-GUI</a> auf der Einstellung <span class="guihint">API integrations if configured, else Checkmk agent</span> belassen.</p></div>
<div class="paragraph"><p>Es gibt seltene Situationen, in denen Sie sowohl einen Spezialagenten als auch den normalen Agenten abfragen möchten.
Ein Beispiel dafür ist die Überwachung von <a href="monitoring_vmware.html">VMware ESXi</a> über das vCenter.
Letzteres ist auf einer (meist virtuellen) Windows-Maschine installiert, auf welcher sinnvollerweise auch ein Checkmk-Agent läuft.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ds_program_vcenter.png" alt="Auswahlmöglichkeiten beim Abfragetyp in der VMware ESXi Konfiguration."></div></div>
<div class="paragraph"><p>Die Spezialagenten sind unter <code>~/share/check_mk/agents/special/</code> installiert.
Wenn Sie eine Modifikation an einem solchen Agenten machen möchten, dann kopieren Sie die Datei mit dem gleichen Namen nach <code>~/local/share/check_mk/agents/special/</code> und ändern Sie sie dort.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_files">
<span class="hidden-anchor sr-only" id="files"></span>4. Dateien und Verzeichnisse</h2>
<div class="sectionbody"><table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 45%;">
<col style="width: 55%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Pfad</th>
<th class="tableblock halign-left valign-top">Bedeutung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/local/bin/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ablage von eigenen Programmen oder Skripten, die im Suchpfad sein sollen und ohne Pfadangabe direkt ausgeführt werden können. Ist ein Programm sowohl in <code>~/bin/</code> als auch in <code>~/local/bin/</code>, hat letzteres Vorrang.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/share/check_mk/agents/special/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hier sind die mitgelieferten Spezialagenten installiert.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/local/share/check_mk/agents/special/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ablage der von Ihnen modifizierten Spezialagenten.</p></td>
</tr>
</tbody>
</table></div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">Auf dieser Seite</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Einleitung</a></li>
<li>
<a href="#writing">2. Schreiben von Datenquellenprogrammen</a><ul class="sectlevel1">
<li><a href="#_das_einfachst_m%C3%B6gliche_programm">2.1. Das einfachst mögliche Programm</a></li>
<li><a href="#_fehlerdiagnose">2.2. Fehlerdiagnose</a></li>
<li><a href="#_%C3%BCbergeben_des_host_namens">2.3. Übergeben des Host-Namens</a></li>
<li><a href="#_fehlerbehandlung">2.4. Fehlerbehandlung</a></li>
</ul>
</li>
<li><a href="#specialagents">3. Spezialagenten</a></li>
<li><a href="#files">4. Dateien und Verzeichnisse</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../../assets/js/lunr.de.js"></script>
<script src="../lunr.index.de.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
