<!DOCTYPE html>
<html lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="Die Installation von Checkmk in einem Docker-Container ist mit dem offiziellen Image sehr einfach. Die sinnvollen Optionen dabei werden hier näher beschrieben.">
<meta name="og:locale" content="de">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Installation als Docker-Container">
<meta name="og:description" content="Die Installation von Checkmk in einem Docker-Container ist mit dem offiziellen Image sehr einfach. Die sinnvollen Optionen dabei werden hier näher beschrieben.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Installation als Docker-Container</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Suche auf docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/de"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/de"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">de</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/en/">English</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/de/draft_introduction_docker.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/de/draft_introduction_docker.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_willkommen_bei_checkmk">
<a class="anchor" href="#_willkommen_bei_checkmk"></a>1. Willkommen bei Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Willkommen im Checkmk Handbuch</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossar</a></p>
</li>
<li>
<p><a href="search.html">Suchen in docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leitfaden_für_einsteiger">
<a class="anchor" href="#_leitfaden_f%C3%BCr_einsteiger"></a>2. Leitfaden für Einsteiger</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Checkmk aufsetzen</a></p>
</li>
<li>
<p><a href="intro_gui.html">Die Checkmk-Oberfläche</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Das Monitoring einrichten</a></p>
</li>
<li>
<p><a href="intro_tools.html">Die Monitoring-Werkzeuge</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk im Monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Das Monitoring feinjustieren</a></p>
</li>
<li>
<p><a href="intro_users.html">Mit mehreren Benutzern arbeiten</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Benachrichtigungen einschalten</a></p>
</li>
<li>
<p><a href="intro_extend.html">Das Monitoring weiter ausbauen</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best Practices, Tipps &amp; Tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_und_vms">
<a class="anchor" href="#_server_und_vms"></a>3.1. Server und VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation unter Debian und Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation unter Red Hat und Derivaten</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation unter SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, Container, Cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation von Checkmk in der Appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation als Docker-Container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation aus dem Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation aus dem AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates und Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update auf Version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update-Matrix für Version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux-Upgrade auf dem Checkmk-Server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk-Versionen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_von_checkmk">
<a class="anchor" href="#_administration_von_checkmk"></a>4. Administration von Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Anmeldung mit SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single Sign-On mit Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk-Server im Docker-Container</a></p>
</li>
<li>
<p><a href="security.html">Sicherheit (Security)</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Weboberfläche mit HTTPS absichern</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support Diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instanzen">
<a class="anchor" href="#_instanzen"></a>4.2. Instanzen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Instanzen (Sites) mit omd verwalten</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk auf der Kommandozeile</a></p>
</li>
<li>
<p><a href="license.html">Lizenzen verwalten</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Verteiltes Monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Passwortspeicher (Password store)</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Konfiguration der Checkmk Instanz analysieren</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk-Erweiterungspakete (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs für GUI-Erweiterungen</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Der Simulationsmodus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konfiguration">
<a class="anchor" href="#_konfiguration"></a>5. Konfiguration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Die Konfiguration von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Verwaltung der Hosts</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Strukturierung der Hosts</a></p>
</li>
<li>
<p><a href="host_tags.html">Host-Merkmale</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamische Host-Konfiguration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automatisch Hosts erstellen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Services verstehen und konfigurieren</a></p>
</li>
<li>
<p><a href="clustered_services.html">Cluster-Services überwachen</a></p>
</li>
<li>
<p><a href="piggyback.html">Der Piggyback-Mechanismus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_regeln">
<a class="anchor" href="#_regeln"></a>5.3. Regeln</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Regeln</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unterstützende_konfigurationen">
<a class="anchor" href="#_unterst%C3%BCtzende_konfigurationen"></a>5.4. Unterstützende Konfigurationen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Zeitperioden (Time Periods)</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Reguläre Ausdrücke in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benutzer_und_berechtigungen">
<a class="anchor" href="#_benutzer_und_berechtigungen"></a>5.5. Benutzer und Berechtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Benutzer, Zuständigkeiten, Berechtigungen</a></p>
</li>
<li>
<p><a href="ldap.html">Benutzerverwaltung mit LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benachrichtigungen">
<a class="anchor" href="#_benachrichtigungen"></a>5.6. Benachrichtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Benachrichtigungen</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Benachrichtigungen per Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Benachrichtigungen per ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Benachrichtigungen per Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Benachrichtigungen per Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Benachrichtigungen per Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Benachrichtigungen per PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Benachrichtigungen per Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Benachrichtigungen per Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Benachrichtigungen per ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Benachrichtigungen per SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Benachrichtigungen per Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Benachrichtigungen per Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">Die Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert Handler</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_überwachung_von_systemen">
<a class="anchor" href="#_%C3%BCberwachung_von_systemen"></a>6. Überwachung von Systemen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring-Agenten</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agenten_und_snmp">
<a class="anchor" href="#_checkmk_agenten_und_snmp"></a>6.1. Checkmk-Agenten und SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatische Agenten-Updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Linux überwachen</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Linux überwachen im Legacy-Modus</a></p>
</li>
<li>
<p><a href="agent_windows.html">Windows überwachen</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">FreeBSD überwachen</a></p>
</li>
<li>
<p><a href="snmp.html">Überwachen via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agentenerweiterungen">
<a class="anchor" href="#_agentenerweiterungen"></a>6.2. Agentenerweiterungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">Die HW/SW-Inventur</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Log-Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Oracle-Datenbanken überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">MySQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">MSSQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">MSSQL mit dem Legacy-Plugin überwachen</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Zeitbasierte Prozesse (Cronjobs) überwachen</a></p>
</li>
<li>
<p><a href="spool_directory.html">Das Spool-Verzeichnis</a></p>
</li>
<li>
<p><a href="localchecks.html">Lokale Checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, Cloud, Container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datenquellenprogramme</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">VMware ESXi überwachen</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Amazon Web Services (AWS) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Microsoft Azure überwachen</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Google Cloud Platform (GCP) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Kubernetes überwachen</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">OpenShift überwachen</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Docker überwachen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpunkte">
<a class="anchor" href="#_endpunkte"></a>6.4. Endpunkte</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Netzwerkdienste überwachen (Aktive Checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring mit Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metriken">
<a class="anchor" href="#_dashboards_views_metriken"></a>7. Dashboards, Views, Metriken</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">Die Benutzeroberfläche</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_allgemein">
<a class="anchor" href="#_allgemein"></a>7.1. Allgemein</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Ansichten von Hosts und Services (Views)</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Messwerte und Graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Anmerkungen (Custom notes)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kommandos_in_ansichten">
<a class="anchor" href="#_kommandos_in_ansichten"></a>7.2. Kommandos in Ansichten</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Kommandos</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Quittierung von Problemen</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Wartungszeiten</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auswertungen_und_prognosen">
<a class="anchor" href="#_auswertungen_und_prognosen"></a>8. Auswertungen und Prognosen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auswertungen">
<a class="anchor" href="#_auswertungen"></a>8.1. Auswertungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Verfügbarkeit (Availability)</a></p>
</li>
<li>
<p><a href="sla.html">Erweiterte Verfügbarkeiten (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Berichte (Reports)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosen">
<a class="anchor" href="#_prognosen"></a>8.2. Prognosen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Prognosebasiertes Monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Vorhersagegraphen erstellen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anbindung_anderer_applikationen">
<a class="anchor" href="#_anbindung_anderer_applikationen"></a>9. Anbindung anderer Applikationen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Prometheus integrieren</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Datadog integrieren</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: Statusdaten auf Karten und Diagrammen</a></p>
</li>
<li>
<p><a href="ntop.html">ntopng in Checkmk integrieren</a></p>
</li>
<li>
<p><a href="grafana.html">Checkmk in Grafana integrieren</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Metriken an InfluxDB und Graphite senden</a></p>
</li>
<li>
<p><a href="nagstamon.html">Nagstamon mit Checkmk verbinden</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_besonderheiten_in_den_editionen">
<a class="anchor" href="#_besonderheiten_in_den_editionen"></a>10. Besonderheiten in den Editionen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatisierung_und_programmierung">
<a class="anchor" href="#_automatisierung_und_programmierung"></a>11. Automatisierung und Programmierung</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Übersicht der API-Ressourcen</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_zur_automatisierung">
<a class="anchor" href="#_apis_zur_automatisierung"></a>11.1. APIs zur Automatisierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Die Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Statusdaten abrufen via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus Befehlsreferenz</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_zur_programmierung">
<a class="anchor" href="#_apis_zur_programmierung"></a>11.2. APIs zur Programmierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">Die Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_programmierung_von_check_plugins">
<a class="anchor" href="#_programmierung_von_check_plugins"></a>11.3. Programmierung von Check-Plugins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Erweiterungen für Checkmk entwickeln</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Agentenbasierte Check-Plugins schreiben</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">SNMP-basierte Check-Plugins schreiben</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konzepte">
<a class="anchor" href="#_konzepte"></a>12. Konzepte</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Grundlagen des Monitorings mit Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_der_checkmk_micro_core_cmc">
<a class="anchor" href="#_der_checkmk_micro_core_cmc"></a>12.1. Der Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">Der Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Besonderheiten des CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration auf den CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">Dateien und Verzeichnisse des CMC</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_die_checkmk_appliance">
<a class="anchor" href="#_die_checkmk_appliance"></a>13. Die Checkmk Appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Schnellstart-Anleitung für Checkmk-Racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Schnellstart-Anleitung für Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Virtuelle Appliance installieren</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Appliance einrichten und nutzen</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in der Appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance im Cluster-Betrieb</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Besonderheiten der Hardware-Appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Installation als Docker-Container</h1>
<div class="details">
<span id="revdate">Last modified on 17-May-2023</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/onprem/de/draft_introduction_docker.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">Dies ist eine am 2025-01-07 22:12:14 +0000 für die Offline-Nutzung exportierte Seite. Sie spiegelt möglicherweise nicht den aktuellen Stand der Checkmk Dokumentation wider. Um eine täglich aktualisierte Version dieser Seite anzusehen, rufen Sie bitte <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a> auf.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="intro_setup.html">Checkmk aufsetzen</a>
<a href="managing_docker.html">Checkmk-Server im Docker-Container</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__grundsätzliches">
<span class="hidden-anchor sr-only" id="_grundsätzliches"></span>1. Grundsätzliches</h2>
<div class="sectionbody">
<div class="paragraph"><p>Es gibt viele Gründe, weshalb Anwender Software in einem Docker-Container betreiben möchten.
Auch Checkmk kann man in einer Docker-Umgebung einsetzen.
Ein Anwendungsfall kann sein, eine dynamisch erstellte Containergruppe zu überwachen und Checkmk zu einem Teil dieser Gruppe zu machen.
Wird die Containergruppe nicht mehr benötigt, kann auch die Instanz von Checkmk wieder entfernt werden.</p></div>
<div class="paragraph"><p><strong>Wichtig:</strong> Auch wenn es möglich und sehr einfach ist, Checkmk in eine containerisierte Umgebung zu integrieren, ist das nicht immer der sinnvollste
Weg.
Da jegliche Virtualisierung zum einen eine verringerte Performance mit sich bringt und zum anderen das Monitoring prinzipiell möglichst wenige physische Abhängigkeiten haben sollte,
eignen sich Checkmk-Container zum Beispiel nicht, um damit die gesamte Infrastruktur zu überwachen.
In einem in sich abgeschlossenen Container-Cluster kann es aber durchaus zielführend sein, in dieses einen Checkmk-Container zu integrieren, um es direkt von innen heraus zu überwachen.
Prüfen Sie also auch und besonders hier, ob das Werkzeug Docker/Container für Ihre konkrete Anforderung das richtige ist.</p></div>
<div class="paragraph"><p>Um Ihnen die Nutzung als Container so einfach wie möglich zu machen, stellen wir für jede <a href="intro_setup.html#editions">Checkmk-Edition</a> eigene Images zur Verfügung, welche neben Checkmk das Linux-Betriebssystem Ubuntu enthalten:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image-inline"><img src="../images/icons/CRE.png" alt="CRE" width="20" title="Checkmk Raw"></span> <strong>Checkmk Raw</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://hub.docker.com/r/checkmk/check-mk-raw/" target="_blank">Docker Hub</a> oder <a href="https://checkmk.com/de/download?method=docker&amp;edition=cre&amp;version=stable" target="_blank">Checkmk-Download-Seite</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kommerzielle Editionen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://checkmk.com/de/download?method=docker&amp;edition=cce&amp;version=stable" target="_blank">Checkmk-Download-Seite</a> (ab <span class="image-inline"><img src="../images/icons/CSE.png" alt="CSE" width="20" title="Checkmk Cloud"></span> <strong>Checkmk Cloud</strong>, d.h. für Checkmk Cloud und Checkmk MSP), <a href="https://portal.checkmk.com/de/" target="_blank">Checkmk-Kundenportal</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p><strong>Hinweis:</strong> Die Bereitstellung im Docker Hub ermöglicht den Download und die Installation in einem Kommando, wie wir im <a href="#install_cre">Kapitel zur Installation von Checkmk Raw</a> zeigen werden.</p></div>
<div class="paragraph"><p>In diesem Artikel führen wir Sie durch die Einrichtung von Checkmk in Docker und zeigen Ihnen einige Tricks, die das Leben mit Checkmk in Docker einfacher machen.
Weitere Informationen finden Sie im Artikel <a href="managing_docker.html">Checkmk-Server im Docker-Container.</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_prerequisites">
<span class="hidden-anchor sr-only" id="prerequisites"></span>2. Voraussetzungen</h2>
<div class="sectionbody"><div class="paragraph"><p>Zur Ausführung der in diesem Artikel vorgestellten Kommandos benötigen Sie eine funktionierende Installation der <a href="https://docs.docker.com/engine/install/" target="_blank">Docker Engine</a> und Grundkenntnisse in deren Nutzung.</p></div></div>
</div>
<div class="sect1">
<h2 id="heading_install_cre">
<span class="hidden-anchor sr-only" id="install_cre"></span>3. Installation von Checkmk Raw</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/CRE.svg" alt="CRE" class="icon-left"></span>
Der Start mit Docker mit <span class="image-inline"><img src="../images/icons/CRE.png" alt="CRE" width="20" title="Checkmk Raw"></span> <strong>Checkmk Raw</strong> ist einfach.
Ein passendes Image steht Ihnen direkt über Docker Hub zur Verfügung.
Das Ganze geht mit einem einzigen Kommando auf der Linux-Konsole.
Dabei wird nicht nur ein Docker-Container mit Checkmk erzeugt, sondern auch gleich eine Monitoring-Instanz mit dem Namen <code>cmk</code> eingerichtet und gestartet.
Diese ist sofort bereit zur Anmeldung mit dem Benutzer <code>cmkadmin</code>.</p></div>
<div class="sect2">
<h3 id="heading_docker-run">
<span class="hidden-anchor sr-only" id="docker-run"></span>3.1. Manueller Start</h3>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>run<span class="tok-w"> </span>-dit<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8080</span>:5000<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8000</span>:8000<span class="tok-w"> </span>--tmpfs<span class="tok-w"> </span>/opt/omd/sites/cmk/tmp:uid<span class="tok-o">=</span><span class="tok-m">1000</span>,gid<span class="tok-o">=</span><span class="tok-m">1000</span><span class="tok-w"> </span>-v<span class="tok-w"> </span>monitoring:/omd/sites<span class="tok-w"> </span>--name<span class="tok-w"> </span>monitoring<span class="tok-w"> </span>-v<span class="tok-w"> </span>/etc/localtime:/etc/localtime:ro<span class="tok-w"> </span>--restart<span class="tok-w"> </span>always<span class="tok-w"> </span>checkmk/check-mk-raw:2.2.0-latest
<span class="tok-go">Unable to find image 'checkmk/check-mk-raw:2.2.0-latest' locally</span>
<span class="tok-go">2.2.0-latest: Pulling from checkmk/check-mk-raw</span>
<span class="tok-go">6552179c3509: Pull complete</span>
<span class="tok-go">5a25c1702974: Pull complete</span>
<span class="tok-go">1c5c13e7b7c2: Pull complete</span>
<span class="tok-go">665c930705aa: Pull complete</span>
<span class="tok-go">597c556025e7: Pull complete</span>
<span class="tok-go">fe710cb5a7c0: Pull complete</span>
<span class="tok-go">Digest: sha256:21be9d9ded25c498834009bcb890ef678fbcdabbc5b31a168f56ab4051b9a813</span>
<span class="tok-go">Status: Downloaded newer image for checkmk/check-mk-raw:2.2.0-latest</span>
<span class="tok-go">b75e2e7d8039e73cc6e57ff09d28b4e6bccc91dbc7a85e55a3062e5fd14f596a</span></code></pre></div></div>
<div class="paragraph"><p>Nähere Informationen zu den benutzten Optionen:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Beschreibung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p 8080:5000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Der Webserver des Containers lauscht standardmäßig auf Port 5000.
In diesem Beispiel wird der Port 8080 des Docker-Nodes an den Port des Containers gebunden, damit dieser von außen erreichbar ist.
Wenn Sie keinen anderen Container oder Prozess haben, welcher den Standard-HTTP-Port 80 benutzt, können Sie den Container auch daran binden.
In diesem Fall würde die Option so aussehen: <code>-p 80:5000</code>.
Die Nutzung von HTTPS wird im Artikel <a href="managing_docker.html">Checkmk-Server im Docker-Container</a> erläutert.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p 8000:8000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seit Checkmk <span class="new">2.1.0</span> müssen Sie zusätzlich noch den Port des Agent Receivers veröffentlichen, um die <a href="agent_linux.html#registration">Registrierung des Agent Controllers</a> durchführen zu können.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--tmpfs /opt/omd/sites/cmk/tmp:uid=1000,gid=1000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Für eine optimale Performance können Sie ein temporäres Dateisystem direkt im RAM des Docker-Nodes nutzen.
Mit dieser Option geben Sie den Pfad zu diesem Dateisystem an.
Wenn Sie die ID der Instanz ändern, so muss auch dieser Pfad entsprechend angepasst werden.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-v monitoring:/omd/sites</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Diese Option bindet die Daten der Instanz in diesem Container an eine persistente Stelle im Dateisystem des Docker-Nodes.
Sie gehen daher nicht verloren, wenn der Container wieder entfernt wird.
Der Teil vor dem Doppelpunkt bestimmt hierbei den Namen.
So können Sie später den Speicherpunkt eindeutig identifizieren, zum Beispiel mit dem Befehl <code>docker volume ls</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name monitoring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hiermit wird der Name des Containers definiert.
Dieser Name muss eindeutig sein und darf auf dem Docker-Node kein zweites Mal verwendet werden.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-v /etc/localtime:/etc/localtime:ro</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mit dieser Option nutzen Sie in dem Container dieselbe Zeitzone wie im Docker-Node. Gleichzeitig wird die Datei nur lesend (<code>ro</code>) eingebunden.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--restart always</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normalerweise startet ein Container nicht neu, wenn er gestoppt wurde.
Mit dieser Option sorgen Sie dafür, dass er eben doch automatisch neu startet.
Wenn Sie allerdings einen Container manuell stoppen, wird er nur neu gestartet, wenn der Docker-Daemon neu startet oder der Container selbst manuell neu gestartet wird.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>checkmk/check-mk-raw:2.2.0-latest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bezeichnung des Checkmk Images im Format <code>&lt;Repository&gt;:&lt;Tag&gt;</code>.
Die Bezeichnungen können Sie über den Befehl <code>docker images</code> auslesen.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph" id="login"><p>Nachdem alle benötigten Dateien geladen wurden und der Container gestartet ist, sollten Sie die GUI von Checkmk über <code>http://localhost:8080/cmk/check_mk/</code> erreichen:</p></div>
<div class="imageblock"><div class="content"><img src="../images/login.png" alt="Checkmk-Anmeldedialog." width="60%"></div></div>
<div class="paragraph"><p>Sie können sich nun erstmals <a href="intro_gui.html">einloggen und Checkmk ausprobieren.</a>
Das initiale Passwort für den Benutzer <code>cmkadmin</code> finden Sie in den Logs, die für diesen Container geschrieben werden (hier auf die wesentlichen Informationen gekürzt):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>logs<span class="tok-w"> </span>monitoring
<span class="tok-go">Created new site cmk with version 2.2.0p1.cre.</span>

<span class="tok-go">  The site can be started with <strong>omd start cmk</strong>.</span>
<span class="tok-go">  The default web UI is available at <strong>http://73a86e310b60/cmk/</strong></span>

<span class="tok-go">  The admin user for the web applications is <strong>cmkadmin</strong> with password: <strong>2JLysBmv</strong></span>
<span class="tok-go">  For command line administration of the site, log in with <strong>'omd su cmk'</strong>.</span>
<span class="tok-go">  After logging in, you can change the password for cmkadmin with <strong>'cmk-passwd cmkadmin'</strong>.</span></code></pre></div></div>
<div class="paragraph"><p><strong>Hinweis:</strong> Die im Log angezeigte URL zum Zugriff auf die Weboberfläche mit der ID des Containers ist nur innerhalb des Containers bekannt und für den Zugriff von außen im Webbrowser nicht geeignet.</p></div>
</div>
<div class="sect2">
<h3 id="heading_docker-compose">
<span class="hidden-anchor sr-only" id="docker-compose"></span>3.2. Nutzung von Docker Compose</h3>
<div class="paragraph"><p>Sie können den Container auch mit Hilfe des Tools <code>docker-compose</code> starten.
Das erleichtert u.a. die Angabe der Parameter und ermöglicht zudem den einfachen Start von weiteren Containern.
Im vorliegenden Fall wird erst einmal nur der grundlegende Start mit <span class="guihint">Docker Compose</span> gezeigt.
Legen Sie dafür in einem Testverzeichnis, die Datei <code>docker-compose.yml</code> an und wechseln Sie danach in genau dieses Verzeichnis:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>mkdir<span class="tok-w"> </span>my-compose-test<span class="tok-w"> </span><span class="tok-o">&amp;&amp;</span><span class="tok-w"> </span><span class="tok-nb">cd</span><span class="tok-w"> </span>my-compose-test</code></pre></div></div>
<div class="paragraph"><p>Beachten Sie, dass es immer nur <em>eine</em> Datei mit dem Namen <code>docker-compose.yml</code> pro Verzeichnis geben kann.
Legen Sie nun diese Datei an und beschreiben Sie, wie Checkmk als Container gestartet werden soll.
Der Einfachheit halber sehen Sie in dem nachfolgenden Beispiel dieselben Optionen, wie aus dem manuellen Start:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nn">---</span>
<span class="tok-nt">version</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-s">"3.0"</span>
<span class="tok-nt">services</span><span class="tok-p">:</span>

<span class="tok-w">  </span><span class="tok-nt">checkmk</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">image</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-s">"checkmk/check-mk-raw:2.2.0-latest"</span>
<span class="tok-w">    </span><span class="tok-nt">container_name</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">monitoring</span>
<span class="tok-w">    </span><span class="tok-nt">volumes</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">monitoring:/omd/sites</span>
<span class="tok-w">      </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">/etc/localtime:/etc/localtime:ro</span>
<span class="tok-w">    </span><span class="tok-nt">tmpfs</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-s">"/opt/omd/sites/cmk/tmp:uid=1000,gid=1000"</span>
<span class="tok-w">    </span><span class="tok-nt">ports</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">8080:5000</span>
<span class="tok-w">      </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">8000:8000</span>
<span class="tok-w">    </span><span class="tok-nt">restart</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">always</span>

<span class="tok-nt">volumes</span><span class="tok-p">:</span>
<span class="tok-w">  </span><span class="tok-nt">monitoring</span><span class="tok-p">:</span></code></pre></div></div>
<div class="paragraph"><p>Dieses Beispiel können Sie als funktionierende Ausgangsbasis nutzen, um Checkmk in Ihre eigene Docker-Compose-Umgebung einzubinden.
Für einen ersten Test starten Sie den Container mit dem Befehl <code>docker-compose</code>.
Sie sehen in diesem Fall automatisch die Logs in der Ausgabe und haben damit auch das Passwort direkt wie oben zu sehen verfügbar. Aus Gründen der Übersichtlichkeit ist die Ausgabe weggelassen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker-compose<span class="tok-w"> </span>up</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading_short-lived_containers">
<span class="hidden-anchor sr-only" id="short-lived_containers"></span>3.3. Kurzlebige Container</h3>
<div class="paragraph"><p>Wenn Sie sich sicher sind, dass die Daten in der Checkmk-Container-Instanz nur in diesem speziellen Container verfügbar sein sollen,
können Sie entweder darauf verzichten, dem Container einen persistenten Datenspeicher zuzuordnen oder diesen Speicher automatisch beim Stoppen des Containers entfernen.</p></div>
<div class="paragraph"><p>Um den persistenten Speicher wegzulassen, lassen Sie schlicht die Option <code>-v monitoring:/omd/sites</code> weg:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>run<span class="tok-w"> </span>-dit<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8080</span>:5000<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8000</span>:8000<span class="tok-w"> </span>--tmpfs<span class="tok-w"> </span>/opt/omd/sites/cmk/tmp:uid<span class="tok-o">=</span><span class="tok-m">1000</span>,gid<span class="tok-o">=</span><span class="tok-m">1000</span><span class="tok-w"> </span>--name<span class="tok-w"> </span>monitoring<span class="tok-w"> </span>-v<span class="tok-w"> </span>/etc/localtime:/etc/localtime:ro<span class="tok-w"> </span>--restart<span class="tok-w"> </span>always<span class="tok-w"> </span>checkmk/check-mk-raw:2.2.0-latest</code></pre></div></div>
<div class="paragraph"><p>Um einen persistenten Speicher anzulegen und beim Stoppen automatisch zu entfernen, verwenden Sie den folgenden Befehl:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>run<span class="tok-w"> </span>--rm<span class="tok-w"> </span>-dit<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8080</span>:5000<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8000</span>:8000<span class="tok-w"> </span>--tmpfs<span class="tok-w"> </span>/opt/omd/sites/cmk/tmp:uid<span class="tok-o">=</span><span class="tok-m">1000</span>,gid<span class="tok-o">=</span><span class="tok-m">1000</span><span class="tok-w"> </span>-v<span class="tok-w"> </span>/omd/sites<span class="tok-w"> </span>--name<span class="tok-w"> </span>monitoring<span class="tok-w"> </span>-v<span class="tok-w"> </span>/etc/localtime:/etc/localtime:ro<span class="tok-w"> </span>checkmk/check-mk-raw:2.2.0-latest</code></pre></div></div>
<div class="paragraph"><p>Dieser Befehl hat — im Gegensatz zu dem vorherigen — lediglich zwei andere Optionen:</p></div>
<div class="ulist"><ul>
<li>
<p>Mit <code>--rm</code> übergeben Sie direkt zum Start den Befehl, dass auch der Datenspeicher für den Container beim Stoppen entfernt werden soll. Auf diese Weise sparen Sie sich das manuelle Aufräumen, wenn Sie viele kurzlebige Checkmk-Container haben.</p>
<div class="paragraph"><p><strong>Wichtig:</strong> Beim Stoppen wird auch der Container selbst komplett entfernt!</p></div>
</li>
<li><p>Die Option <code>-v /omd/sites</code> ist im Vergleich zu oben angepasst. Sie beinhaltet keinen selbst vergebenen Namen mehr, da der Datenspeicher sonst nicht korrekt gelöscht wird.</p></li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_install_cee">
<span class="hidden-anchor sr-only" id="install_cee"></span>4. Installation der kommerziellen Editionen</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span>
Auch die kommerziellen Editionen können Sie in einem Docker-Container betreiben.
Die Images der kommerziellen Editionen sind nicht frei über Docker Hub verfügbar.
Laden Sie sich die gewünschte Edition und Version entweder manuell von der <a href="https://checkmk.com/de/download?method=docker&amp;edition=cce&amp;version=stable" target="_blank">Checkmk-Download-Seite</a> (ab Checkmk Cloud) oder im <a href="https://portal.checkmk.com/de/" target="_blank">Checkmk-Kundenportal</a> herunter. Alternativ können Sie auch die 'registry' nutzen, um das Image mit den entsprechenden Login-Daten automatisch herunterzuladen.</p></div>
<div class="sect2">
<h3 id="heading__manuelle_installation_des_image">
<span class="hidden-anchor sr-only" id="_manuelle_installation_des_image"></span>4.1. Manuelle Installation des Image</h3>
<div class="paragraph"><p>Laden Sie das Image aus der heruntergeladenen tar-Archivdatei in Docker:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>load<span class="tok-w"> </span>-i<span class="tok-w"> </span>check-mk-enterprise-docker-2.2.0p1.tar.gz
<span class="tok-go">9e77dbc9fb80: Loading layer [==================================================&gt;]  2.048kB/2.048kB</span>
<span class="tok-go">333c8e825260: Loading layer [==================================================&gt;]  305.6MB/305.6MB</span>
<span class="tok-go">23a76a052da6: Loading layer [==================================================&gt;]  175.7MB/175.7MB</span>
<span class="tok-go">f8583c4a8a97: Loading layer [==================================================&gt;]  758.4MB/758.4MB</span>
<span class="tok-go">789d4e45d714: Loading layer [==================================================&gt;]  6.656kB/6.656kB</span>
<span class="tok-go">Loaded image: checkmk/check-mk-enterprise:2.2.0p1</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__automatische_installation_des_image">
<span class="hidden-anchor sr-only" id="_automatische_installation_des_image"></span>4.2. Automatische Installation des Image</h3>
<div class="paragraph"><p>Loggen Sie sich zunächst auf dem Server ein, unter dem Docker die Images direkt von Checkmk herunterladen kann:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>login<span class="tok-w"> </span>registry.checkmk.com<span class="tok-w"> </span>--username<span class="tok-w"> </span>MYUSERNAME
<span class="tok-go">Password:</span>

<span class="tok-go">Login Succeeded</span></code></pre></div></div>
<div class="paragraph"><p>Da sich der Login hauptsächlich zu Testzwecken eignet, nutzen Sie für eine langfristige Nutzung zum Beispiel den <a href="https://docs.docker.com/engine/reference/commandline/login/#credentials-store">Credential store</a> von Docker.</p></div>
<div class="paragraph"><p>Nachdem Sie eingeloggt sind, kann ein Container fast wie gewohnt installiert werden. Um den Ort des Images festzulegen, geben Sie aber statt <code>checkmk/check-mk-enterprise:2.2.0-latest</code> nun die volle Adresse an. Die Ausgabe ist dann sehr ähnlich wie bei der manuellen Installation und wurde daher in dem nachfolgenden Beispiel weggelassen:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>pull<span class="tok-w"> </span>registry.checkmk.com/enterprise/check-mk-enterprise:2.2.0-latest</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__starten_eines_containers">
<span class="hidden-anchor sr-only" id="_starten_eines_containers"></span>4.3. Starten eines Containers</h3>
<div class="paragraph"><p>Sobald das Image geladen ist, können Sie den Container mit einem sehr ähnlichen Befehl wie in der Raw-Edition starten.
Achten Sie nur darauf, dass Sie den Namen des geladenen Images (<code>Loaded image</code>) aus der vorherigen Kommandoausgabe im folgenden Startkommando verwenden, also nach den obigen Bespielen entweder <code>checkmk/check-mk-enterprise:2.2.0p1</code> oder <code>registry.checkmk.com/enterprise/check-mk-enterprise:2.2.0-latest</code>. In dem Beispiel wird die zweite Variante benutzt:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>run<span class="tok-w"> </span>-dit<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8080</span>:5000<span class="tok-w"> </span>-p<span class="tok-w"> </span><span class="tok-m">8000</span>:8000<span class="tok-w"> </span>--tmpfs<span class="tok-w"> </span>/opt/omd/sites/cmk/tmp:uid<span class="tok-o">=</span><span class="tok-m">1000</span>,gid<span class="tok-o">=</span><span class="tok-m">1000</span><span class="tok-w"> </span>-v<span class="tok-w"> </span>monitoring:/omd/sites<span class="tok-w"> </span>--name<span class="tok-w"> </span>monitoring<span class="tok-w"> </span>-v<span class="tok-w"> </span>/etc/localtime:/etc/localtime:ro<span class="tok-w"> </span>--restart<span class="tok-w"> </span>always<span class="tok-w"> </span>registry.checkmk.com/enterprise/check-mk-enterprise:2.2.0p-latest
<span class="tok-go">f00d10fcb16313d3539065933b90c4dec9f81745f3d7283d794160f4f9b28df1</span></code></pre></div></div>
<div class="paragraph"><p>Nach dem Start des Containers können Sie sich an der Checkmk-Weboberfläche anmelden, wie es bei der <a href="#login">Installation von Checkmk Raw</a> beschrieben ist.</p></div>
<div class="paragraph"><p><strong>Hinweis:</strong> Auf ganz ähnliche Weise gehen Sie vor, wenn Sie einen Container für eine der anderen kommerziellen Editionen starten möchten.
Ersetzen Sie in den Beispielen dazu <code>enterprise</code> durch <code>cloud</code> (für Checkmk Cloud) oder <code>managed</code> (für Checkmk MSP).</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_update">
<span class="hidden-anchor sr-only" id="update"></span>5. Update</h2>
<div class="sectionbody"><div class="paragraph"><p>Wie Sie Checkmk im Docker-Container aktualisieren können, ist im Artikel <a href="update.html#updatedocker">Updates und Upgrades</a> beschrieben.</p></div></div>
</div>
<div class="sect1">
<h2 id="heading_uninstall">
<span class="hidden-anchor sr-only" id="uninstall"></span>6. Deinstallation</h2>
<div class="sectionbody">
<div class="paragraph"><p>Bei der Deinstallation entfernen Sie den Docker-Container und optional die beim Erstellen des Containers erzeugten Daten.</p></div>
<div class="paragraph"><p>Lassen Sie sich die Docker-Container auflisten:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>ls<span class="tok-w"> </span>-a
<span class="tok-go">CONTAINER ID   IMAGE                                 COMMAND                  CREATED          STATUS                    PORTS                              NAMES</span>
<span class="tok-go">9a82ddbabc6e   checkmk/check-mk-enterprise:2.2.0p1   "/docker-entrypoint.…"   57 minutes ago   Up 53 minutes (healthy)   6557/tcp, 0.0.0.0:8080-&gt;5000/tcp   monitoring</span></code></pre></div></div>
<div class="paragraph"><p>Übernehmen Sie aus der Kommandoausgabe die angezeigte <code>CONTAINER ID</code> für die nächsten Kommandos.</p></div>
<div class="paragraph"><p>Stoppen Sie zuerst den Container und entfernen Sie ihn anschließend:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>stop<span class="tok-w"> </span>9a82ddbabc6e
<span class="tok-go">9a82ddbabc6e</span>
<span class="tok-gp">root@linux# </span>docker<span class="tok-w"> </span>container<span class="tok-w"> </span>rm<span class="tok-w"> </span>9a82ddbabc6e
<span class="tok-go">9a82ddbabc6e</span></code></pre></div></div>
<div class="paragraph"><p>Falls Sie den Container mit der Option <code>-v monitoring:/omd/sites</code> erstellt haben, können Sie auch das dadurch erstellte Docker-Volume entfernen:
<code>docker volume ls</code> zeigt die Volumes an und <code>docker volume rm &lt;VOLUME NAME&gt;</code> löscht das Volume.</p></div>
<div class="paragraph"><p>Auf ähnliche Weise können Sie abschließend auch das Image entfernen:
Mit <code>docker images</code> erhalten Sie die Liste der Images und <code>docker rmi &lt;IMAGE ID&gt;</code> entfernt das ausgewählte Image.</p></div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">Auf dieser Seite</div>
<ul class="sectlevel1">
<li><a href="#_grunds%C3%A4tzliches">1. Grundsätzliches</a></li>
<li><a href="#prerequisites">2. Voraussetzungen</a></li>
<li>
<a href="#install_cre">3. Installation von Checkmk Raw</a><ul class="sectlevel1">
<li><a href="#docker-run">3.1. Manueller Start</a></li>
<li><a href="#docker-compose">3.2. Nutzung von Docker Compose</a></li>
<li><a href="#short-lived_containers">3.3. Kurzlebige Container</a></li>
</ul>
</li>
<li>
<a href="#install_cee">4. Installation der kommerziellen Editionen</a><ul class="sectlevel1">
<li><a href="#_manuelle_installation_des_image">4.1. Manuelle Installation des Image</a></li>
<li><a href="#_automatische_installation_des_image">4.2. Automatische Installation des Image</a></li>
<li><a href="#_starten_eines_containers">4.3. Starten eines Containers</a></li>
</ul>
</li>
<li><a href="#update">5. Update</a></li>
<li><a href="#uninstall">6. Deinstallation</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../../assets/js/lunr.de.js"></script>
<script src="../lunr.index.de.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
