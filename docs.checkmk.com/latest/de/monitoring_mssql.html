<!DOCTYPE html>
<html lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="Mit dem Checkmk-Plugin für Windows und Linux überwachen Sie Microsoft SQL Server vollumfänglich.">
<meta name="keywords" content="mssql, sql, db, database">
<meta name="og:locale" content="de">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Microsoft SQL Server überwachen">
<meta name="og:description" content="Mit dem Checkmk-Plugin für Windows und Linux überwachen Sie Microsoft SQL Server vollumfänglich.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Microsoft SQL Server überwachen</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Suche auf docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/de"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/de"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">de</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/en/monitoring_mssql.html">English</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/de/monitoring_mssql.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/de/monitoring_mssql.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_willkommen_bei_checkmk">
<a class="anchor" href="#_willkommen_bei_checkmk"></a>1. Willkommen bei Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Willkommen im Checkmk Handbuch</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossar</a></p>
</li>
<li>
<p><a href="search.html">Suchen in docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leitfaden_für_einsteiger">
<a class="anchor" href="#_leitfaden_f%C3%BCr_einsteiger"></a>2. Leitfaden für Einsteiger</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Checkmk aufsetzen</a></p>
</li>
<li>
<p><a href="intro_gui.html">Die Checkmk-Oberfläche</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Das Monitoring einrichten</a></p>
</li>
<li>
<p><a href="intro_tools.html">Die Monitoring-Werkzeuge</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk im Monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Das Monitoring feinjustieren</a></p>
</li>
<li>
<p><a href="intro_users.html">Mit mehreren Benutzern arbeiten</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Benachrichtigungen einschalten</a></p>
</li>
<li>
<p><a href="intro_extend.html">Das Monitoring weiter ausbauen</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best Practices, Tipps &amp; Tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Grundsätzliches zur Installation von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_und_vms">
<a class="anchor" href="#_server_und_vms"></a>3.1. Server und VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation unter Debian und Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation unter Red Hat und Derivaten</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation unter SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, Container, Cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation von Checkmk in der Appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation als Docker-Container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation aus dem Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation aus dem AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates und Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update auf Version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update-Matrix für Version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux-Upgrade auf dem Checkmk-Server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk-Versionen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_von_checkmk">
<a class="anchor" href="#_administration_von_checkmk"></a>4. Administration von Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Anmeldung mit SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single Sign-On mit Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk-Server im Docker-Container</a></p>
</li>
<li>
<p><a href="security.html">Sicherheit (Security)</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Weboberfläche mit HTTPS absichern</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support Diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instanzen">
<a class="anchor" href="#_instanzen"></a>4.2. Instanzen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Instanzen (Sites) mit omd verwalten</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk auf der Kommandozeile</a></p>
</li>
<li>
<p><a href="license.html">Lizenzen verwalten</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Verteiltes Monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Passwortspeicher (Password store)</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Konfiguration der Checkmk Instanz analysieren</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk-Erweiterungspakete (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs für GUI-Erweiterungen</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Der Simulationsmodus</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konfiguration">
<a class="anchor" href="#_konfiguration"></a>5. Konfiguration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Die Konfiguration von Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Verwaltung der Hosts</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Strukturierung der Hosts</a></p>
</li>
<li>
<p><a href="host_tags.html">Host-Merkmale</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamische Host-Konfiguration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automatisch Hosts erstellen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Services verstehen und konfigurieren</a></p>
</li>
<li>
<p><a href="clustered_services.html">Cluster-Services überwachen</a></p>
</li>
<li>
<p><a href="piggyback.html">Der Piggyback-Mechanismus</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_regeln">
<a class="anchor" href="#_regeln"></a>5.3. Regeln</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Regeln</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unterstützende_konfigurationen">
<a class="anchor" href="#_unterst%C3%BCtzende_konfigurationen"></a>5.4. Unterstützende Konfigurationen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Zeitperioden (Time Periods)</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Reguläre Ausdrücke in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benutzer_und_berechtigungen">
<a class="anchor" href="#_benutzer_und_berechtigungen"></a>5.5. Benutzer und Berechtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Benutzer, Zuständigkeiten, Berechtigungen</a></p>
</li>
<li>
<p><a href="ldap.html">Benutzerverwaltung mit LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_benachrichtigungen">
<a class="anchor" href="#_benachrichtigungen"></a>5.6. Benachrichtigungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Benachrichtigungen</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Benachrichtigungen per Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Benachrichtigungen per ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Benachrichtigungen per Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Benachrichtigungen per Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Benachrichtigungen per Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Benachrichtigungen per PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Benachrichtigungen per Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Benachrichtigungen per Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Benachrichtigungen per ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Benachrichtigungen per SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Benachrichtigungen per Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Benachrichtigungen per Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">Die Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert Handler</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_überwachung_von_systemen">
<a class="anchor" href="#_%C3%BCberwachung_von_systemen"></a>6. Überwachung von Systemen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring-Agenten</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agenten_und_snmp">
<a class="anchor" href="#_checkmk_agenten_und_snmp"></a>6.1. Checkmk-Agenten und SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatische Agenten-Updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Linux überwachen</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Linux überwachen im Legacy-Modus</a></p>
</li>
<li>
<p><a href="agent_windows.html">Windows überwachen</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">FreeBSD überwachen</a></p>
</li>
<li>
<p><a href="snmp.html">Überwachen via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agentenerweiterungen">
<a class="anchor" href="#_agentenerweiterungen"></a>6.2. Agentenerweiterungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">Die HW/SW-Inventur</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Log-Dateien überwachen</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Oracle-Datenbanken überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">MySQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">MSSQL überwachen</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">MSSQL mit dem Legacy-Plugin überwachen</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Zeitbasierte Prozesse (Cronjobs) überwachen</a></p>
</li>
<li>
<p><a href="spool_directory.html">Das Spool-Verzeichnis</a></p>
</li>
<li>
<p><a href="localchecks.html">Lokale Checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, Cloud, Container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datenquellenprogramme</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">VMware ESXi überwachen</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Amazon Web Services (AWS) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Microsoft Azure überwachen</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Google Cloud Platform (GCP) überwachen</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Kubernetes überwachen</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">OpenShift überwachen</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Docker überwachen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpunkte">
<a class="anchor" href="#_endpunkte"></a>6.4. Endpunkte</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Netzwerkdienste überwachen (Aktive Checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring mit Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metriken">
<a class="anchor" href="#_dashboards_views_metriken"></a>7. Dashboards, Views, Metriken</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">Die Benutzeroberfläche</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_allgemein">
<a class="anchor" href="#_allgemein"></a>7.1. Allgemein</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Ansichten von Hosts und Services (Views)</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Messwerte und Graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Anmerkungen (Custom notes)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kommandos_in_ansichten">
<a class="anchor" href="#_kommandos_in_ansichten"></a>7.2. Kommandos in Ansichten</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Kommandos</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Quittierung von Problemen</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Wartungszeiten</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auswertungen_und_prognosen">
<a class="anchor" href="#_auswertungen_und_prognosen"></a>8. Auswertungen und Prognosen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auswertungen">
<a class="anchor" href="#_auswertungen"></a>8.1. Auswertungen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Verfügbarkeit (Availability)</a></p>
</li>
<li>
<p><a href="sla.html">Erweiterte Verfügbarkeiten (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Berichte (Reports)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosen">
<a class="anchor" href="#_prognosen"></a>8.2. Prognosen</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Prognosebasiertes Monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Vorhersagegraphen erstellen</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anbindung_anderer_applikationen">
<a class="anchor" href="#_anbindung_anderer_applikationen"></a>9. Anbindung anderer Applikationen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Prometheus integrieren</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Datadog integrieren</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: Statusdaten auf Karten und Diagrammen</a></p>
</li>
<li>
<p><a href="ntop.html">ntopng in Checkmk integrieren</a></p>
</li>
<li>
<p><a href="grafana.html">Checkmk in Grafana integrieren</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Metriken an InfluxDB und Graphite senden</a></p>
</li>
<li>
<p><a href="nagstamon.html">Nagstamon mit Checkmk verbinden</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_besonderheiten_in_den_editionen">
<a class="anchor" href="#_besonderheiten_in_den_editionen"></a>10. Besonderheiten in den Editionen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatisierung_und_programmierung">
<a class="anchor" href="#_automatisierung_und_programmierung"></a>11. Automatisierung und Programmierung</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Übersicht der API-Ressourcen</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_zur_automatisierung">
<a class="anchor" href="#_apis_zur_automatisierung"></a>11.1. APIs zur Automatisierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">Die Checkmk REST-API</a></p>
</li>
<li>
<p><a href="livestatus.html">Statusdaten abrufen via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus Befehlsreferenz</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_zur_programmierung">
<a class="anchor" href="#_apis_zur_programmierung"></a>11.2. APIs zur Programmierung</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">Die Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_programmierung_von_check_plugins">
<a class="anchor" href="#_programmierung_von_check_plugins"></a>11.3. Programmierung von Check-Plugins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Erweiterungen für Checkmk entwickeln</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Agentenbasierte Check-Plugins schreiben</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">SNMP-basierte Check-Plugins schreiben</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_konzepte">
<a class="anchor" href="#_konzepte"></a>12. Konzepte</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Grundlagen des Monitorings mit Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_der_checkmk_micro_core_cmc">
<a class="anchor" href="#_der_checkmk_micro_core_cmc"></a>12.1. Der Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">Der Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Besonderheiten des CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration auf den CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">Dateien und Verzeichnisse des CMC</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_die_checkmk_appliance">
<a class="anchor" href="#_die_checkmk_appliance"></a>13. Die Checkmk Appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Schnellstart-Anleitung für Checkmk-Racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Schnellstart-Anleitung für Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Virtuelle Appliance installieren</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Appliance einrichten und nutzen</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in der Appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance im Cluster-Betrieb</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Besonderheiten der Hardware-Appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Microsoft SQL Server überwachen</h1>
<div class="details">
<span id="revdate">draft</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/common/de/monitoring_mssql.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">Dies ist eine am 2025-01-07 22:12:14 +0000 für die Offline-Nutzung exportierte Seite. Sie spiegelt möglicherweise nicht den aktuellen Stand der Checkmk Dokumentation wider. Um eine täglich aktualisierte Version dieser Seite anzusehen, rufen Sie bitte <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a> auf.</div>
<div class="sectionbody">
<div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="agent_windows.html">Windows überwachen</a>
<a href="wato_monitoringagents.html">Monitoring-Agenten</a>
<a href="https://checkmk.com/de/integrations" target="_blank">Katalog der Check-Plugins</a>
</div>
</div>
</div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>Dieser Artikel ist derzeit im Entstehen begriffen und wird regelmäßig ergänzt.</p></div></td>
</tr></table></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_intro">
<span class="hidden-anchor sr-only" id="intro"></span>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph"><p>Checkmk ermöglicht Ihnen ein umfangreiches Monitoring von <span class="brand">Microsoft SQL Server</span> (im weiteren Verlauf nur noch mit "MSSQL" abgekürzt).
Eine vollständige Auflistung aller verfügbaren <a href="glossar.html#check_plugin">Check-Plugins</a> finden Sie in unserem <a href="https://checkmk.com/de/integrations?tags=mssql" target="_blank">Katalog der Check-Plugins</a>.</p></div>
<div class="paragraph"><p>Um die Datenbanken überwachen zu können, benötigen Sie neben dem Checkmk-Agenten zusätzlich noch das <a href="glossar.html#agent_plugin">Agentenplugin</a> <code>mk-sql</code>.
Dieses Agentenplugin ist ab Checkmk <span class="new">2.3.0</span> auch in der Lage, Datenbanken auf entfernten Systemen zu überwachen.
Zusätzliche Software wird weder auf dem Checkmk- noch auf dem Datenbank-Server benötigt.</p></div>
<div class="paragraph"><p>Die einzige zwingende Voraussetzung für die Verwendung von <code>mk-sql</code> ist, dass in der SQL-Server-Netzwerkkonfiguration das Protokoll TCP/IP aktiviert ist.
Sollte in Ihrer MSSQL-Server-Umgebung kein TCP/IP zugelassen beziehungsweise erlaubt sein, müssen Sie bis auf Weiteres auf das <a href="monitoring_mssql_legacy.html">Legacy-Plugin <code>mssql.vbs</code></a> zurückgreifen.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_setup_login_windows">
<span class="hidden-anchor sr-only" id="setup_login_windows"></span>2. Login für die Überwachung einrichten (Windows)</h2>
<div class="sectionbody">
<div class="paragraph"><p>Das Agentenplugin benötigt Zugang zu Ihren MSSQL-Instanzen.
Im Regelfall steht — lange bevor das Monitoring-Team kommt — fest, wie ein solcher Zugang aussehen kann oder darf.
Im Falle von MSSQL gibt es zwei Möglichkeiten.
Entweder Sie verwenden ausschließlich den <span class="guihint">Windows Authentication mode</span> oder den Mischbetrieb <span class="guihint">SQL Server and Windows Authentication mode</span>.</p></div>
<div class="sect2">
<h3 id="heading_system_user">
<span class="hidden-anchor sr-only" id="system_user"></span>2.1. Systembenutzer verwenden</h3>
<div class="paragraph"><p>Der Checkmk-Agent wird auf Windows-Systemen vom Systembenutzer (<code>NT AUTHORITY\SYSTEM</code>) ausgeführt.
Wenn Sie diesen Systembenutzer auch für das Monitoring von MSSQL verwenden können, müssen Sie nur noch darauf achten, dass dieses Konto (<em>login</em>), mindestens Berechtigungen für die folgenden absicherungsfähigen Elemente (<span class="guihint">Securables</span>) besitzt:</p></div>
<div class="ulist"><ul>
<li><p><span class="guihint">View server state</span></p></li>
<li><p><span class="guihint">Connect SQL</span></p></li>
</ul></div>
<div class="paragraph"><p>In Abhängigkeit davon, welche Datenbanken Ihrer Instanzen Sie überwachen möchten und je nachdem über welche Server-Rollen und Mappings der Systembenutzer (<code>NT AUTHORITY\SYSTEM</code>) bereits verfügt, kann es notwendig sein, auch die Berechtigung für <span class="guihint">Connect any database (Verbindung mit beliebiger Datenbank)</span> zu erteilen.</p></div>
</div>
<div class="sect2">
<h3 id="heading_dedicated_login">
<span class="hidden-anchor sr-only" id="dedicated_login"></span>2.2. Dediziertes Konto für das Monitoring verwenden</h3>
<div class="paragraph"><p>Es gibt auch gute Gründe dafür, das Monitoring von MSSQL <strong>nicht</strong> über den Systembenutzer von Windows laufen zu lassen.
Denkbar sind unter anderem Sicherheitsvorgaben im Unternehmen oder einfach der Wunsch, dedizierte und klar benannte Logins zu haben, deren Sinn und Zweck schon am Namen ablesbar ist.</p></div>
<div class="paragraph"><p>Selbstverständlich funktioniert das Agentenplugin auch mit solchen Konten (<em>Logins</em>).</p></div>
<div class="paragraph"><p>Die Grundvoraussetzung in MSSQL ist, dass die <span class="guihint">Server authentication</span> auf <span class="guihint">SQL Server and Windows Authentication mode</span> gestellt ist.
Wenn Sie nicht den Windows-eigenen Systembenutzer verwenden wollen oder können, dürfte diese Voraussetzung zwar bereits erfüllt sein, sie soll aber auch nicht unerwähnt bleiben.</p></div>
<div class="paragraph"><p>Sollte noch kein entsprechender Benutzer auf Ihrem MSSQL-Server bzw. in Ihrer -Instanz vorhanden sein, so können Sie diesen auf Ihrem Windows-System über das Microsoft SQL Server Management Studio (mit einem beliebigen Benutzernamen) erstellen:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_new_user.png" alt="Auswahl der Option 'New Login...' in MSSQL." width="38%"></div></div>
<div class="paragraph"><p>Dieser Login benötigt die folgenden Berechtigungen:</p></div>
<div class="ulist"><ul>
<li><p><span class="guihint">View server state</span></p></li>
<li><p><span class="guihint">Connect SQL</span></p></li>
<li><p><span class="guihint">Connect any database</span></p></li>
</ul></div>
<div class="paragraph"><p>Erteilen Sie diese Berechtigungen im <span class="guihint">Object Explorer</span> über <span class="guihint">Security &gt; Logins</span>.
Öffnen Sie hier die Eigenschaften des Kontos (<em>login</em>) und klicken Sie auf <span class="guihint">Securables</span>.
Unter <span class="guihint">Explicit</span> finden Sie die drei oben genannten Einträge.
Setzen Sie in der Spalte <span class="guihint">Grant</span> die entsprechenden Haken und bestätigen über <span class="guihint">OK</span>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/mssql_permissions.png" alt="Berechtigung 'Connect any database' erteilen."></div></div>
<div class="paragraph"><p>Alternativ können Sie den Benutzer und die Berechtigungen auch über die Befehlszeile erzeugen.
Im folgenden Beispiel wird das für den Benutzer <code>checkmk</code> erledigt:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span><span class="tok-n">mssql</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">USE</span><span class="tok-w"> </span><span class="tok-n">master</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">CREATE</span><span class="tok-w"> </span><span class="tok-k">USER</span><span class="tok-w"> </span><span class="tok-n">checkmk</span><span class="tok-w"> </span><span class="tok-k">WITH</span><span class="tok-w"> </span><span class="tok-n">PASSWORD</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-s1">'MyPassword123'</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GO</span></code></pre></div></div>
<div class="paragraph"><p>und danach:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span><span class="tok-n">mssql</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">USE</span><span class="tok-w"> </span><span class="tok-n">master</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GRANT</span><span class="tok-w"> </span><span class="tok-k">CONNECT</span><span class="tok-w"> </span><span class="tok-k">SQL</span><span class="tok-w"> </span><span class="tok-k">TO</span><span class="tok-w"> </span><span class="tok-n">checkmk</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GRANT</span><span class="tok-w"> </span><span class="tok-k">CONNECT</span><span class="tok-w"> </span><span class="tok-k">ANY</span><span class="tok-w"> </span><span class="tok-k">DATABASE</span><span class="tok-w"> </span><span class="tok-k">TO</span><span class="tok-w"> </span><span class="tok-n">checkmk</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GRANT</span><span class="tok-w"> </span><span class="tok-k">VIEW</span><span class="tok-w"> </span><span class="tok-k">ANY</span><span class="tok-w"> </span><span class="tok-k">DATABASE</span><span class="tok-w"> </span><span class="tok-k">TO</span><span class="tok-w"> </span><span class="tok-n">checkmk</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GO</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__manuelle_einrichtung_der_verbindung">
<span class="hidden-anchor sr-only" id="_manuelle_einrichtung_der_verbindung"></span>2.3. Manuelle Einrichtung der Verbindung</h3>
<div class="paragraph"><p>Wenn Sie <span class="image-inline"><img src="../images/icons/CRE.png" alt="CRE" width="20" title="Checkmk Raw"></span> <strong>Checkmk Raw</strong> nutzen oder die Agentenbäckerei der kommerziellen Editionen nicht nutzen wollen, richten Sie die Kommunikation manuell ein.</p></div>
<div class="paragraph"><p>Für die weitere Beschreibung gehen wir davon aus, dass der Agent für die Windows-Überwachung bereits auf dem Host installiert ist.</p></div>
<div class="sect3">
<h4 id="heading__konfigurationsdatei_erstellen">
<span class="hidden-anchor sr-only" id="_konfigurationsdatei_erstellen"></span>Konfigurationsdatei erstellen</h4>
<div class="paragraph"><p>Auf dem Windows-Host legen Sie im unten angegebenen Verzeichnis eine Datei <code>mk-sql.yml</code> an:</p></div>
<div class="paragraph"><p>Bei Verwendung des Systembenutzers genügt:</p></div>
<div class="listingblock">
<div class="title">C:\ProgramData\checkmk\agent\config\mk-sql.yml</div>
<div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nn">---</span>
<span class="tok-nt">mssql</span><span class="tok-p">:</span>
<span class="tok-w">  </span><span class="tok-nt">main</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">authentication</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-s">''</span>
<span class="tok-w">      </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">integrated</span></code></pre></div>
</div>
<div class="paragraph"><p>Verwenden Sie stattdessen das <a href="#dedicated_login">dezidierte Konto für das Monitoring,</a> so brauchen Sie folgenden Inhalt:</p></div>
<div class="listingblock">
<div class="title">C:\ProgramData\checkmk\agent\config\mk-sql.yml</div>
<div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nn">---</span>
<span class="tok-nt">mssql</span><span class="tok-p">:</span>
<span class="tok-w">  </span><span class="tok-nt">main</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">authentication</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">checkmk</span>
<span class="tok-w">      </span><span class="tok-nt">password</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">MyPassword123</span>
<span class="tok-w">      </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sql_server</span></code></pre></div>
</div>
<div class="paragraph"><p>Sollten Sie auf dem Host mehrere MSSQL-Instanzen mit verschiedenen Benutzernamen und Passwörtern betreiben, erweitern Sie die <code>yml</code>-Datei entsprechend um die Angaben zu den Instanzen.
Ihre <code>yml</code>-Datei könnte dann beispielsweise so aussehen:</p></div>
<div class="listingblock">
<div class="title">C:\ProgramData\checkmk\agent\config\mk-sql.yml</div>
<div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nn">---</span>
<span class="tok-nt">mssql</span><span class="tok-p">:</span>
<span class="tok-w">  </span><span class="tok-nt">main</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">authentication</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-s">""</span>
<span class="tok-w">      </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">integrated</span>
<span class="tok-w">    </span><span class="tok-nt">instances</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-nt">sid</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myInstance 1</span>
<span class="tok-w">        </span><span class="tok-nt">auth</span><span class="tok-p">:</span>
<span class="tok-w">          </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myUser1</span>
<span class="tok-w">          </span><span class="tok-nt">password</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-s">"123456"</span>
<span class="tok-w">          </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sql_server</span>
<span class="tok-w">      </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-nt">sid</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myInstance 2</span>
<span class="tok-w">        </span><span class="tok-nt">auth</span><span class="tok-p">:</span>
<span class="tok-w">          </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myUser2</span>
<span class="tok-w">          </span><span class="tok-nt">password</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-s">"987654"</span>
<span class="tok-w">          </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sql_server</span></code></pre></div>
</div>
</div>
<div class="sect3">
<h4 id="heading__agentenplugin_installieren">
<span class="hidden-anchor sr-only" id="_agentenplugin_installieren"></span>Agentenplugin installieren</h4>
<div class="paragraph"><p>Unter <span class="guihint">Setup &gt; Agents &gt; Windows files</span> finden Sie im Abschnitt <span class="guihint">Windows Agent</span> die Datei <code>mk-sql.exe</code>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_agentfile.png" alt="Auswahl des Agentenplugins in Checkmk."></div></div>
<div class="paragraph"><p>Laden Sie die Datei herunter und legen Sie diese auf dem Windows-Host im Verzeichnis <code>C:\ProgramData\checkmk\agent\plugins\</code> ab.
Führen Sie die Datei danach einmal aus.</p></div>
</div>
<div class="sect3">
<h4 id="heading__services_einrichten">
<span class="hidden-anchor sr-only" id="_services_einrichten"></span>Services einrichten</h4>
<div class="paragraph"><p>Nachdem Sie das Agentenplugin nun installiert und konfiguriert haben, können Sie für diesen Host eine <a href="glossar.html#service_discovery">Service-Erkennung</a> durchführen.
Der folgende Screenshot zeigt dabei nur eine Auswahl der auffindbaren Services:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_discovery.png" alt="Auszug der Service-Erkennung."></div></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_extended_configuration">
<span class="hidden-anchor sr-only" id="extended_configuration"></span>2.4. Erweiterte Konfiguration</h3>
<div class="sect3">
<h4 id="heading__asynchrone_ausführung_des_agentenplugins">
<span class="hidden-anchor sr-only" id="_asynchrone_ausführung_des_agentenplugins"></span>Asynchrone Ausführung des Agentenplugins</h4>
<div class="paragraph"><p>Das Agentenplugin für die Überwachung von MSSQL kann — wie so viele andere — asynchron ausgeführt werden, um beispielsweise längeren Laufzeiten bei großen MSSQL-Instanzen Rechnung zu tragen.</p></div>
<div class="paragraph"><p>Um das Agentenplugin unter Windows asynchron auszuführen, passen Sie die Konfiguration des Agenten an und erweitern die Sektion <code>execution</code> unter <code>plugins</code> um den folgenden Eintrag:</p></div>
<div class="listingblock">
<div class="title">C:\ProgramData\checkmk\agent\check_mk.user.yml</div>
<div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nt">plugins</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">execution</span><span class="tok-p">:</span>
<span class="tok-w">        </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-nt">pattern</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">mssql.vbs</span>
<span class="tok-w">          </span><span class="tok-nt">cache_age</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">300</span>
<span class="tok-w">          </span><span class="tok-nt">async</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">yes</span></code></pre></div>
</div>
<div class="paragraph"><p>Eine detaillierte Anleitung zur asynchronen Ausführung von Agentenplugins auf einem Windows-Host finden Sie im Artikel über den <a href="agent_windows.html#customizeexecution">Windows-Agenten.</a></p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_setup_login_linux">
<span class="hidden-anchor sr-only" id="setup_login_linux"></span>3. Login für die Überwachung einrichten (Linux)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_system_user_linux">
<span class="hidden-anchor sr-only" id="system_user_linux"></span>3.1. Benutzer für das Monitoring anlegen</h3>
<div class="paragraph"><p>Der Checkmk-Agent wird auf Linux-Systemen von einem Systembenutzer (<code>root</code>) ausgeführt.
Auch für das Monitoring von MSSQL können Sie einen Systembenutzer verwenden. Dieser Benutzer sollte mindestens die folgenden Berechtigungen besitzen:</p></div>
<div class="ulist"><ul>
<li><p><code>View server state</code></p></li>
<li><p><code>Connect SQL</code></p></li>
<li><p><code>Connect any database`</code></p></li>
</ul></div>
<div class="paragraph"><p>Es gibt auch gute Gründe dafür, das Monitoring von MSSQL <strong>nicht</strong> über einen Systembenutzer von Linux laufen zu lassen.
Diese reichen von Sicherheitsvorgaben im Unternehmen bis zu einfach dem Wunsch, dedizierte und klar benannte Logins zu haben, deren Sinn und Zweck schon am Namen ablesbar ist.</p></div>
<div class="paragraph"><p>Selbstverständlich funktioniert das Agentenplugin auch mit solchen Konten (<em>Logins</em>).</p></div>
<div class="paragraph"><p>Die Grundvoraussetzung in MSSQL ist, dass die <span class="guihint">Server authentication</span> auf <span class="guihint">SQL Server and Windows Authentication mode</span> gestellt ist.
Wenn Sie keinen Linux-Systembenutzer verwenden wollen oder können, dürfte diese Voraussetzung zwar bereits erfüllt sein, sie soll aber auch nicht unerwähnt bleiben.</p></div>
<div class="paragraph"><p>Sollte noch kein entsprechender Benutzer auf Ihrem MSSQL-Server bzw. in Ihrer -Instanz vorhanden sein, so können Sie diesen auf Ihrem Linux-System über die Befehlszeile erstellen:</p></div>
<div class="paragraph"><p>Im folgenden Beispiel wird das für den Benutzer <code>checkmk</code> erledigt:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span><span class="tok-n">sudo</span><span class="tok-w"> </span><span class="tok-n">adduser</span><span class="tok-w"> </span><span class="tok-c1">--system checkmk --ingroup sudo</span></code></pre></div></div>
<div class="paragraph"><p>Folgen Sie den Aufforderungen zur Passwortvergabe etc.</p></div>
<div class="paragraph"><p>Danach:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span><span class="tok-n">sudo</span>
<span class="tok-w">      </span><span class="tok-k">GRANT</span><span class="tok-w"> </span><span class="tok-k">CONNECT</span><span class="tok-w"> </span><span class="tok-k">SQL</span><span class="tok-w"> </span><span class="tok-k">TO</span><span class="tok-w"> </span><span class="tok-n">checkmk</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GRANT</span><span class="tok-w"> </span><span class="tok-k">CONNECT</span><span class="tok-w"> </span><span class="tok-k">ANY</span><span class="tok-w"> </span><span class="tok-k">DATABASE</span><span class="tok-w"> </span><span class="tok-k">TO</span><span class="tok-w"> </span><span class="tok-n">checkmk</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GRANT</span><span class="tok-w"> </span><span class="tok-k">VIEW</span><span class="tok-w"> </span><span class="tok-k">ANY</span><span class="tok-w"> </span><span class="tok-k">DATABASE</span><span class="tok-w"> </span><span class="tok-k">TO</span><span class="tok-w"> </span><span class="tok-n">checkmk</span><span class="tok-p">;</span>
<span class="tok-w">      </span><span class="tok-k">GO</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__manuelle_einrichtung_der_verbindung_2">
<span class="hidden-anchor sr-only" id="_manuelle_einrichtung_der_verbindung_2"></span>3.2. Manuelle Einrichtung der Verbindung</h3>
<div class="paragraph"><p>Wenn Sie <span class="image-inline"><img src="../images/icons/CRE.png" alt="CRE" width="20" title="Checkmk Raw"></span> <strong>Checkmk Raw</strong> nutzen oder die Agentenbäckerei der kommerziellen Editionen nicht nutzen wollen, richten Sie die Kommunikation manuell ein.</p></div>
<div class="paragraph"><p>Für die weitere Beschreibung gehen wir davon aus, dass der Agent für die Linux-Überwachung bereits auf dem Host installiert ist.</p></div>
<div class="sect3">
<h4 id="heading__konfigurationsdatei_erstellen_2">
<span class="hidden-anchor sr-only" id="_konfigurationsdatei_erstellen_2"></span>Konfigurationsdatei erstellen</h4>
<div class="paragraph"><p>Auf dem Linux-Host legen Sie im unten angegebenen Verzeichnis eine Datei <code>mk-sql.yml</code> an:</p></div>
<div class="listingblock">
<div class="title">/etc/check_mk/mk-sql.yml</div>
<div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nn">---</span>
<span class="tok-nt">mssql</span><span class="tok-p">:</span>
<span class="tok-w">  </span><span class="tok-nt">main</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">authentication</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">checkmk</span>
<span class="tok-w">      </span><span class="tok-nt">password</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">checkmkPW</span>
<span class="tok-w">      </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sql_server</span></code></pre></div>
</div>
<div class="paragraph"><p>Sollten Sie auf dem Host mehrere MSSQL-Instanzen mit verschiedenen Benutzernamen und Passwörtern betreiben, erweitern Sie die <code>yml</code>-Datei entsprechend um die Angaben zu den Instanzen.
Ihre <code>yml</code>-Datei könnte dann beispielsweise so aussehen:</p></div>
<div class="listingblock">
<div class="title">/etc/check_mk/mk-sql.yml</div>
<div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nn">---</span>
<span class="tok-nt">mssql</span><span class="tok-p">:</span>
<span class="tok-w">  </span><span class="tok-nt">main</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">authentication</span><span class="tok-p">:</span>
<span class="tok-w">      </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">checkmk</span>
<span class="tok-w">      </span><span class="tok-nt">password</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">checkmkPW</span>
<span class="tok-w">      </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sql_server</span>
<span class="tok-w">    </span><span class="tok-nt">instances</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-nt">sid</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myInstance1</span>
<span class="tok-w">      </span><span class="tok-nt">auth</span><span class="tok-p">:</span>
<span class="tok-w">        </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myUser1</span>
<span class="tok-w">        </span><span class="tok-nt">password</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">123456</span>
<span class="tok-w">        </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sql_server</span>
<span class="tok-w">    </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-nt">sid</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myInstance2</span>
<span class="tok-w">      </span><span class="tok-nt">auth</span><span class="tok-p">:</span>
<span class="tok-w">        </span><span class="tok-nt">username</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">myUser2</span>
<span class="tok-w">        </span><span class="tok-nt">password</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">987654</span>
<span class="tok-w">        </span><span class="tok-nt">type</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sql_server</span></code></pre></div>
</div>
</div>
<div class="sect3">
<h4 id="heading__agentenplugin_installieren_2">
<span class="hidden-anchor sr-only" id="_agentenplugin_installieren_2"></span>Agentenplugin installieren</h4>
<div class="paragraph"><p>Unter <span class="guihint">Setup &gt; Agents &gt; Linux, Solaris, AIX files</span> finden Sie im Abschnitt <span class="guihint">/linux</span> die Datei <code>mk-sql.txt</code>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_agentfile_linux.png" alt="Auswahl des Agentenplugins in Checkmk."></div></div>
<div class="paragraph"><p>Laden Sie die Datei herunter und legen Sie diese auf dem Linux-Host im Verzeichnis <code>~/usr/lib/check_mk_agent/plugins/mk-sql</code> ab.</p></div>
<div class="paragraph"><p>Führen Sie die Datei danach einmal aus.</p></div>
</div>
<div class="sect3">
<h4 id="heading__services_einrichten_2">
<span class="hidden-anchor sr-only" id="_services_einrichten_2"></span>Services einrichten</h4>
<div class="paragraph"><p>Nachdem Sie das Agentenplugin nun installiert und konfiguriert haben, können Sie für diesen Host eine <a href="glossar.html#service_discovery">Service-Erkennung</a> durchführen.
Der folgende Screenshot zeigt dabei nur eine Auswahl der auffindbaren Services:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_discovery.png" alt="Auszug der Service-Erkennung."></div></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_extended_configuration_linux">
<span class="hidden-anchor sr-only" id="extended_configuration_linux"></span>3.3. Erweiterte Konfiguration</h3>
<div class="sect3">
<h4 id="heading__asynchrone_ausführung_des_agentenplugins_2">
<span class="hidden-anchor sr-only" id="_asynchrone_ausführung_des_agentenplugins_2"></span>Asynchrone Ausführung des Agentenplugins</h4>
<div class="paragraph"><p>Das Agentenplugin für die Überwachung von MSSQL kann — wie so viele andere — asynchron ausgeführt werden, um beispielsweise längeren Laufzeiten bei großen MSSQL-Instanzen Rechnung zu tragen.</p></div>
<div class="paragraph"><p>Um das Agentenplugin unter Linux asynchron auszuführen, passen Sie die Konfiguration des Agenten an und erweitern die Sektion <code>execution</code> unter <code>plugins</code> um den folgenden Eintrag:</p></div>
<div class="listingblock">
<div class="title">/etc/check_mk/mk-sql.yml</div>
<div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-nt">plugins</span><span class="tok-p">:</span>
<span class="tok-w">    </span><span class="tok-nt">execution</span><span class="tok-p">:</span>
<span class="tok-w">        </span><span class="tok-p tok-p-Indicator">-</span><span class="tok-w"> </span><span class="tok-nt">pattern</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">mssql.vbs</span>
<span class="tok-w">          </span><span class="tok-nt">cache_age</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">300</span>
<span class="tok-w">          </span><span class="tok-nt">async</span><span class="tok-p">:</span><span class="tok-w"> </span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">yes</span></code></pre></div>
</div>
<div class="paragraph"><p>Eine detaillierte Anleitung zur asynchronen Ausführung von Agentenplugins auf einem Linux-Host finden Sie im Artikel über den <a href="agent_linux.html#async_plugins">Linux-Agenten.</a></p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__weitere_konfiguration_in_checkmk">
<span class="hidden-anchor sr-only" id="_weitere_konfiguration_in_checkmk"></span>4. Weitere Konfiguration in Checkmk</h2>
<div class="sectionbody"><div class="sect2">
<h3 id="heading__schwellwerte_konfigurieren">
<span class="hidden-anchor sr-only" id="_schwellwerte_konfigurieren"></span>4.1. Schwellwerte konfigurieren</h3>
<div class="sect3">
<h4 id="heading__verbindungen_überwachen">
<span class="hidden-anchor sr-only" id="_verbindungen_überwachen"></span>Verbindungen überwachen</h4>
<div class="paragraph"><p>Für die Auslastung der durch MSSQL vorgegebenen maximalen Anzahl an gleichzeitigen Verbindungen können Sie eigene Schwellwerte vorgeben, da diese viel stärker als bei anderen Services vom Aufbau Ihrer MSSQL-Instanz abhängig sind.
Die Einrichtung entsprechender Schwellwerte lässt sich mit einer Regel aus dem Regelsatz <span class="guihint">MSSQL Connections</span> im Handumdrehen bewerkstelligen.</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_connections.png" alt="Einstellung der oberen Schwellwerte für aktive Verbindungen."></div></div>
</div>
<div class="sect3">
<h4 id="heading__dateigrößen_überwachen">
<span class="hidden-anchor sr-only" id="_dateigrößen_überwachen"></span>Dateigrößen überwachen</h4>
<div class="paragraph"><p>Auch für die Größe einzelner Dateien in MSSQL können Sie Schwellwerte festlegen.
Dazu verwenden Sie den Regelsatz <span class="guihint">MSSQL datafile sizes.</span></p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_size_datafile.png" alt="Einstellung der genutzten Dateigrößen."></div></div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_bakery">
<span class="hidden-anchor sr-only" id="bakery"></span>5. Konfiguration über die Agentenbäckerei</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span>
Die Einrichtung wird in den kommerziellen Editionen mittels der <a href="glossar.html#agent_bakery">Agentenbäckerei</a> sehr vereinfacht,
da Syntaxfehler in den Konfigurationsdateien vermieden werden und Anpassungen an sich verändernde Umgebungen einfach bewerkstelligt werden können.
Der wesentliche Unterschied zu einer manuellen Installation ist, dass Sie nur noch dann auf dem MSSQL-Host auf der Kommandozeile arbeiten müssen, wenn Sie spezielle MSSQL-spezifische Konfigurationen vornehmen möchten.</p></div>
<div class="paragraph"><p>Für die erste Einrichtung reicht es, wenn Sie eine entsprechende Regel in der Agentenbäckerei anlegen.
Sie finden den Regelsatz unter <span class="guihint">Setup &gt; Agents &gt; Windows, Linux, Solaris, AIX &gt; Agent rules.</span>
In dem Suchfeld können Sie dann nach <code>mssql</code> suchen:</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_bakery_ruleset_search.png" alt="Die Regel 'Microsoft SQL Server (Linux, Windows)' in den Agentenregeln."></div></div>
<div class="sect2">
<h3 id="heading__einrichtung_der_agentenregel_windows">
<span class="hidden-anchor sr-only" id="_einrichtung_der_agentenregel_windows"></span>5.1. Einrichtung der Agentenregel (Windows)</h3>
<div class="paragraph"><p>Je nachdem, wie sich das Agentenplugin an Ihrem MSSQL-Server anmelden darf (siehe <a href="#setup_login">Login für die Überwachung einrichten</a>), wählen Sie unter <span class="guihint">Authentication</span> nun die entsprechende Option aus.
Nutzen Sie den Systembenutzer (<code>NT AUTHORITY\SYSTEM</code>), belassen Sie die Auswahl bei <span class="guihint">Local Integrated Authentication (Windows)</span>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_bakery_new.png" alt="Mögliche Einstellungen für den MSSQL Server in der Agentenbäckerei."></div></div>
<div class="paragraph"><p>Verwenden Sie stattdessen die <em>SQL Server Authentication,</em> wählen Sie hier die Option <span class="guihint">SQL Database User Credentials,</span> geben zusätzlich den <span class="guihint">Login name</span> im Feld <span class="guihint">User</span> ein und fügen das zugehörige <span class="guihint">Password</span> hinzu.</p></div>
<div class="paragraph"><p>Sollten Sie auf dem Host mehrere MSSQL-Instanzen mit verschiedenen Benutzernamen und Passwörtern betreiben, wählen Sie die Option <span class="guihint">Custom instances</span>.
Über <span class="guihint">Add new element</span> gelangen Sie zu den Angaben für die erste — und danach jede weitere — Instanz, die überwacht werden soll.
Tragen Sie hier, analog zur obigen Beschreibung, die Zugriffsdaten je Instanz ein.</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_bakery_more.png" alt="Mehrere MSSQL-Instanzen in der Bakery-Regel."></div></div>
</div>
<div class="sect2">
<h3 id="heading__einrichtung_der_agentenregel_linux">
<span class="hidden-anchor sr-only" id="_einrichtung_der_agentenregel_linux"></span>5.2. Einrichtung der Agentenregel (Linux)</h3>
<div class="paragraph"><p>Wählen Sie unter <span class="guihint">Authentication</span> die Option <span class="guihint">SQL database user credentials</span>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_bakery_unix.png" alt="Mögliche Einstellungen für den MSSQL Server in der Agentenbäckerei."></div></div>
<div class="paragraph"><p>Geben Sie dann den <span class="guihint">Login name</span> im Feld <span class="guihint">User</span> ein und fügen Sie das zugehörige <span class="guihint">Password</span> hinzu.
Ergänzen Sie für die <span class="guihint">Connection</span> den <span class="guihint">Host name</span>.</p></div>
<div class="paragraph"><p>Sollten Sie auf dem Host mehrere MSSQL-Instanzen mit verschiedenen Benutzernamen und Passwörtern betreiben, wählen Sie die Option <span class="guihint">Custom instances</span>.
Über <span class="guihint">Add new element</span> gelangen Sie zu den Angaben für die erste — und danach jede weitere — Instanz, die überwacht werden soll.
Tragen Sie hier, analog zur obigen Beschreibung, die Zugriffsdaten je Instanz ein.</p></div>
<div class="imageblock"><div class="content"><img src="../images/monitoring_mssql_bakery_more.png" alt="Mehrere MSSQL-Instanzen in der Bakery-Regel."></div></div>
</div>
<div class="sect2">
<h3 id="heading__weitere_optionen">
<span class="hidden-anchor sr-only" id="_weitere_optionen"></span>5.3. Weitere Optionen</h3>
<div class="paragraph"><p>Mit den soeben vorgenommenen Einstellungen kreieren Sie zunächst einen einfachen Agenten zur Überwachung Ihrer MSSQL-Instanz, die sich direkt auf dem Host befindet.
Alle verfügbaren Daten werden direkt in Checkmk ausgewertet und für den Standardfall sollte dies bereits genügen.
Haben Sie eine komplexere MSSQL-Welt in Ihrem Unternehmen, so gibt es jedoch weitere Optionen, sowohl für die Überwachung der Datenbank auf dem gleichen Host als auch für die Überwachung auf einem entfernten Host.
Diese sind prinzipiell für beide Verbindungstypen gleich.</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Funktion</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Connection</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Brauchen Sie für die allgemeine Verbindung zum MSSQL-Server spezifischere Verbindungsdaten, so können Sie diese hier angeben.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Data to collect (Sections)</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hier können Sie abschnittsweise einschränken, welche Daten eingesammelt werden sollen bzw. ob diese synchron oder asynchron gesammelt werden sollen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Cache age for asynchronous checks</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Für die zuvor festgelegten asynchronen Checks können Sie den Caching-Zeitraum in Sekunden ändern.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map data to specific host (Piggyback)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="glossar.html#piggyback">Piggyback</a>-Daten können — unabhängig von der eigentlichen Quelle — einem Host zugeordnet werden. So lassen sich zum Beispiel die SQL-Informationen von den Daten des zugrundeliegenden Windows-Servers trennen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Discovery mode of databases</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Einstellungen für die Suche in der Instanz.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Custom instances</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ergänzend zu den allgemeinen Vorgaben zum Zugriff auf Ihren MSSQL-Server, können Sie hier für spezifische Instanzen eigene Einstellungen setzen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Options</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die maximale Anzahl an parallelen SQL-Server-Verbindungen kann hier eingestellt werden.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_diagnostic">
<span class="hidden-anchor sr-only" id="diagnostic"></span>6. Diagnosemöglichkeiten</h2>
<div class="sectionbody"><div class="sect2">
<h3 id="heading__mögliche_fehler_und_fehlermeldungen">
<span class="hidden-anchor sr-only" id="_mögliche_fehler_und_fehlermeldungen"></span>6.1. Mögliche Fehler und Fehlermeldungen</h3>
<div class="sect3">
<h4 id="heading__fehlermeldung_failed_to_gather_sql_server_instances">
<span class="hidden-anchor sr-only" id="_fehlermeldung_failed_to_gather_sql_server_instances"></span>Fehlermeldung: Failed to gather SQL Server instances</h4>
<div class="paragraph"><p>Prüfen Sie, ob die TCP/IP-Verbindung konfiguriert ist und funktioniert.</p></div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_files">
<span class="hidden-anchor sr-only" id="files"></span>7. Dateien und Verzeichnisse</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__auf_dem_mssql_host_windows">
<span class="hidden-anchor sr-only" id="_auf_dem_mssql_host_windows"></span>7.1. Auf dem MSSQL-Host (Windows)</h3>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 55%;">
<col style="width: 45%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Pfad</th>
<th class="tableblock halign-left valign-top">Verwendung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\plugins\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis zur Ablage der Agentenplugins.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\config\mk-sql.yml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konfigurationsdatei für das Agentenplugin.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="heading__auf_dem_mssql_host_linux">
<span class="hidden-anchor sr-only" id="_auf_dem_mssql_host_linux"></span>7.2. Auf dem MSSQL-Host (Linux)</h3>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 55%;">
<col style="width: 45%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Pfad</th>
<th class="tableblock halign-left valign-top">Verwendung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/lib/check_mk_agent/plugins/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verzeichnis zur Ablage der Agentenplugins.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/etc/check_mk/mk-sql.yml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konfigurationsdatei für das Agentenplugin.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="heading__auf_dem_checkmk_server">
<span class="hidden-anchor sr-only" id="_auf_dem_checkmk_server"></span>7.3. Auf dem Checkmk-Server</h3>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 55%;">
<col style="width: 45%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Pfad</th>
<th class="tableblock halign-left valign-top">Verwendung</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/share/check_mk/agents/windowss/mk-sql.exe</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Agentenplugin, das Sie auf Ihre Windows-Hosts kopieren müssen, um MSSQL dort zu überwachen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/share/check_mk/agents/linux/mk-sql</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Agentenplugin, das Sie auf Ihre Linux-Hosts kopieren müssen, um MSSQL dort zu überwachen.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">Auf dieser Seite</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Einleitung</a></li>
<li>
<a href="#setup_login_windows">2. Login für die Überwachung einrichten (Windows)</a><ul class="sectlevel1">
<li><a href="#system_user">2.1. Systembenutzer verwenden</a></li>
<li><a href="#dedicated_login">2.2. Dediziertes Konto für das Monitoring verwenden</a></li>
<li>
<a href="#_manuelle_einrichtung_der_verbindung">2.3. Manuelle Einrichtung der Verbindung</a><ul class="sectlevel2">
<li><a href="#_konfigurationsdatei_erstellen">Konfigurationsdatei erstellen</a></li>
<li><a href="#_agentenplugin_installieren">Agentenplugin installieren</a></li>
<li><a href="#_services_einrichten">Services einrichten</a></li>
</ul>
</li>
<li>
<a href="#extended_configuration">2.4. Erweiterte Konfiguration</a><ul class="sectlevel2"><li><a href="#_asynchrone_ausf%C3%BChrung_des_agentenplugins">Asynchrone Ausführung des Agentenplugins</a></li></ul>
</li>
</ul>
</li>
<li>
<a href="#setup_login_linux">3. Login für die Überwachung einrichten (Linux)</a><ul class="sectlevel1">
<li><a href="#system_user_linux">3.1. Benutzer für das Monitoring anlegen</a></li>
<li>
<a href="#_manuelle_einrichtung_der_verbindung_2">3.2. Manuelle Einrichtung der Verbindung</a><ul class="sectlevel2">
<li><a href="#_konfigurationsdatei_erstellen_2">Konfigurationsdatei erstellen</a></li>
<li><a href="#_agentenplugin_installieren_2">Agentenplugin installieren</a></li>
<li><a href="#_services_einrichten_2">Services einrichten</a></li>
</ul>
</li>
<li>
<a href="#extended_configuration_linux">3.3. Erweiterte Konfiguration</a><ul class="sectlevel2"><li><a href="#_asynchrone_ausf%C3%BChrung_des_agentenplugins_2">Asynchrone Ausführung des Agentenplugins</a></li></ul>
</li>
</ul>
</li>
<li>
<a href="#_weitere_konfiguration_in_checkmk">4. Weitere Konfiguration in Checkmk</a><ul class="sectlevel1"><li>
<a href="#_schwellwerte_konfigurieren">4.1. Schwellwerte konfigurieren</a><ul class="sectlevel2">
<li><a href="#_verbindungen_%C3%BCberwachen">Verbindungen überwachen</a></li>
<li><a href="#_dateigr%C3%B6%C3%9Fen_%C3%BCberwachen">Dateigrößen überwachen</a></li>
</ul>
</li></ul>
</li>
<li>
<a href="#bakery">5. Konfiguration über die Agentenbäckerei</a><ul class="sectlevel1">
<li><a href="#_einrichtung_der_agentenregel_windows">5.1. Einrichtung der Agentenregel (Windows)</a></li>
<li><a href="#_einrichtung_der_agentenregel_linux">5.2. Einrichtung der Agentenregel (Linux)</a></li>
<li><a href="#_weitere_optionen">5.3. Weitere Optionen</a></li>
</ul>
</li>
<li>
<a href="#diagnostic">6. Diagnosemöglichkeiten</a><ul class="sectlevel1"><li>
<a href="#_m%C3%B6gliche_fehler_und_fehlermeldungen">6.1. Mögliche Fehler und Fehlermeldungen</a><ul class="sectlevel2"><li><a href="#_fehlermeldung_failed_to_gather_sql_server_instances">Fehlermeldung: Failed to gather SQL Server instances</a></li></ul>
</li></ul>
</li>
<li>
<a href="#files">7. Dateien und Verzeichnisse</a><ul class="sectlevel1">
<li><a href="#_auf_dem_mssql_host_windows">7.1. Auf dem MSSQL-Host (Windows)</a></li>
<li><a href="#_auf_dem_mssql_host_linux">7.2. Auf dem MSSQL-Host (Linux)</a></li>
<li><a href="#_auf_dem_checkmk_server">7.3. Auf dem Checkmk-Server</a></li>
</ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../../assets/js/lunr.de.js"></script>
<script src="../lunr.index.de.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
