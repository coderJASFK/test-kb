<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="Checkmk Synthetic Monitoring integrates software testing based on Robot Framework into your monitoring.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Checkmk Synthetic Monitoring with Robotmk">
<meta name="og:description" content="Checkmk Synthetic Monitoring integrates software testing based on Robot Framework into your monitoring.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Checkmk Synthetic Monitoring with Robotmk</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/de/robotmk.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/en/robotmk.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/en/robotmk.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginnerâ€™s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and derivatives</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation from Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation from AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Password store</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs for GUI extensions</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automated host creation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Rules</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Notifications</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Notifications via ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Notifications via Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Notifications via SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Monitoring log files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">Monitoring MSSQL with the legacy plug-in</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMware ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Monitoring Google Cloud Platform (GCP)</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">Monitoring OpenShift</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring with Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Measured values and graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Custom notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Overview of API resources</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">The Checkmk REST API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Developing extensions for Checkmk</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Writing agent-based check plug-ins</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">Writing SNMP-based check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Checkmk Synthetic Monitoring with Robotmk</h1>
<div class="details">
<span id="revdate">Last modified on 31-Jul-2024</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/onprem/en/robotmk.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="wato_monitoringagents.html">Monitoring agents</a>
<a href="agent_deployment.html">Automatic agent updates</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_intro">
<span class="hidden-anchor sr-only" id="intro"></span>1. Synthetic monitoring with Robot Framework</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span> Checkmk Synthetic Monitoring is available in the commercial Checkmk editions, but it requires an <a href="https://checkmk.com/request-quote/synthetic-monitoring" target="_blank">additional subscription</a>.
You can however test the function with up to three tests free of charge and without a time limit.</p></div>
<div class="paragraph"><p>With Checkmk you can monitor your own infrastructure very closelyâ€‰â€”â€‰right down to the question of whether a particular service, such as a web server, is running properly.
If your website is operated via a third-party cloud service, you will not have access to the service itself, but you can use an HTTP check to verify whether the website is accessible.
But will that say anything about the user experience? The fact that an online store is accessible does not mean that navigation, ordering processes and the like work smoothly.</p></div>
<div class="paragraph"><p>This is where Checkmk Synthetic Monitoring comes in.
With the Robotmk plug-in, Checkmk offers genuine end-to-end monitoring, i.e. the monitoring of running applications from the userâ€™s perspective.
The actual testing is carried out by the open-source software <a href="https://robotframework.org/" target="_blank">Robot Framework</a>â€‰â€”â€‰of which Checkmk GmbH is also a member.</p></div>
<div class="paragraph"><p>The automation software can be used to fully replicate a userâ€™s behavior, for example to simulate order processes in online stores, 'click-by-click'.
The special thing about Robot Framework is that tests are not written in a fully-fledged programming language, but are defined using easy-to-use keywords such as <code>Open Browser</code> or <code>Click Button</code>.
An <code>Open Browser checkmk.com</code> is sufficient to call up the Checkmk website.
Several test cases are then combined in so-called test suites (in the form of a <code>.robot</code> file).</p></div>
<div class="paragraph"><p>Robotmk can now trigger these Robot Framework test suites on the host and monitor their execution and results as services in Checkmk.
In the Checkmk web interface you will then find the status, associated performance graphs and the original evaluations of Robot Framework itself.</p></div>
<div class="sect2">
<h3 id="heading__components">
<span class="hidden-anchor sr-only" id="_components"></span>1.1. Components</h3>
<div class="paragraph"><p>Multiple components work together to create this end-to-end monitoring, so here is a brief overview.</p></div>
<div class="sect3">
<h4 id="heading__checkmk_server">
<span class="hidden-anchor sr-only" id="_checkmk_server"></span>Checkmk server</h4>
<div class="paragraph"><p>Checkmk Synthetic monitoring is realized via Robotmk, which uses an agent plug-in as a data collector, and the Robotmk scheduler (on the monitored host) for triggering Robot Framework projects.
Synthetic monitoring is activated and configured via the <span class="guihint">Robotmk Scheduler</span> rule.
Here you specify which test suites should be executed and how exactly Robot Framework should start themâ€‰â€”â€‰summarized in a <em>plan.</em>
Once rolled out, the Robotmk scheduler on the target host ensures the scheduled execution of your Robot Framework suites.</p></div>
<div class="paragraph"><p>In the monitoring, a number of new services will be generated: <span class="guihint">RMK Scheduler Status</span> shows the status of the scheduler itself, i.e. whether test suites could be started successfully.
There are also services for all configured test plans (such as <span class="guihint">RMK MyApp1 Plan</span>) and individual tests from test suites (such as <span class="guihint">RMK MyApp1 Test</span>).
The services of the individual tests also include the original Robot Framework reports.</p></div>
<div class="paragraph"><p>Last but not least, there are two optional service rules: <span class="guihint">Robotmk plan</span> and <span class="guihint">Robotmk test</span> provide for fine-tuning the plan and test servicesâ€‰â€”â€‰for example, to effect status changes at certain runtimes.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_services_menu.png" alt="Robotmk rules in the setup menu."></div>
<div class="title">The Robotmk rules in Checkmk</div>
</div>
</div>
<div class="sect3">
<h4 id="heading__test_machine">
<span class="hidden-anchor sr-only" id="_test_machine"></span>Test machine</h4>
<div class="paragraph"><p>You must provide the Robot Framework test suites on a <strong>Windows host</strong>.
For execution, Robot Framework requires access to their dependencies (Python, libraries, drivers for browser automation and so on).
This configuration is independent of Checkmk and can be stored declaratively in a portable package.
This is performed with the open-source command line tool <a href="https://github.com/robocorp/rcc" target="_blank">RCC</a>.
This tool uses your configuration files in YAML format to build virtual Python environments including dependencies and the Robot Framework itself.
The Robotmk scheduler running as a background process triggers this build and then executes the tests itself.</p></div>
<div class="paragraph"><p>Such an <em>RCC automation package</em> with the package configuration (<code>robot.yaml</code>), the definition of the execution environment (<code>conda.yaml</code>) and the test suites (<code>tests.robot</code>) is also called <em>robot</em>.
RCC and the scheduler are rolled out with the Checkmk agent, the automation package must be available on the host.</p></div>
<div class="paragraph"><p>The great advantage of RCC is that the executing Windows host itself does not require a configured Python environment.</p></div>
<div class="paragraph"><p>The agent itself is only required for the transfer of results, logs and screenshots.
This also enables the monitoring of very long-running or locally very resource-intensive suitesâ€‰â€”â€‰provided that your Windows host has the corresponding capacities.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_ruleconfig">
<span class="hidden-anchor sr-only" id="ruleconfig"></span>2. Monitoring test suites with Robotmk</h2>
<div class="sectionbody">
<div class="paragraph"><p>In the following, we will show you how to include a test suite in the monitoring.
As an example we will use a simple Hello World suite which only outputs two strings and which waits briefly between each.
An introduction to Robot Framework is of course not the subject of this article, but a brief look at the automation package and the demo test suite is necessary so that you can see which data ends up where in the monitoring.</p></div>
<div class="paragraph"><p>The example runs on the basis of RCC, so that the Windows host does not have to be configured separately.
The <code>rcc.exe</code> is rolled out with the agent and can be found under <code>C:\ProgramData\checkmk\agent\bin\</code>.
You can download the sample suite as a ZIP file <a href="https://github.com/elabit/robotmk-examples/blob/main/minimal.zip" target="_blank">via GitHub</a>.
The directory of the suite:</p></div>
<div class="listingblock">
<div class="title">C:\robots\mybot\</div>
<div class="content"><pre class="pygments highlight"><code><span></span>conda.yaml
robot.yaml
tests.robot</code></pre></div>
</div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>RCC can also process test suites based on a number of other programming languages, but for use in Checkmk it must be the Robot Framework declaration.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>The suite directory now contains two important files:
The declaration of the environment required for execution in the file <code>conda.yaml</code> and the actual tests in the file <code>tests.robot</code> (the suite).
The <code>robot.yaml</code> file is not relevant for use in Checkmk, but is required by RCC.</p></div>
<div class="paragraph"><p>For the sake of completeness, here is a brief look into <code>robot.yaml</code> file:</p></div>
<div class="listingblock">
<div class="title">C:\robots\mybot\robot.yaml</div>
<div class="content"><pre class="pygments highlight"><code><span></span>tasks:
  task1:
    # (task definitions are not required by Robotmk,
    but expected by RCC to be compatible with other Robocorp features)
    shell: echo "nothing to do"

environmentConfigs:
  - conda.yaml

artifactsDir: output</code></pre></div>
</div>
<div class="paragraph"><p>At first, <code>tasks</code> defines which tasks, here tests, are to be executed at all.
However, although this part is formally required by RCC, it is not used by Robotmk.</p></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>Robot Framework distinguishes between tests and tasks, which stand for automations.
However, both are used in exactly the same way.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>In the <code>environmentConfigs</code> area, only the <code>conda.yaml</code> is referenced, which takes care about the actual environment.</p></div>
<div class="paragraph"><p>In this case, only the Python, Pip and Robot Framework dependencies are installed for the environment.
The environment build later appears in the monitoring as <span class="guihint">RCC environment build status</span>.
The tests can only be processed and consequently monitored if the environment has been built successfully.</p></div>
<div class="listingblock">
<div class="title">c:\robots\mybot\conda.yaml</div>
<div class="content"><pre class="pygments highlight"><code><span></span>channels:
  - conda-forge

dependencies:
  - python=3.10.12
  - pip=23.2.1
  - pip:
     - robotframework==7.0</code></pre></div>
</div>
<div class="paragraph"><p>The actual test suite now looks like this:</p></div>
<div class="listingblock">
<div class="title">C:\robots\mybot\tests.robot</div>
<div class="content"><pre class="pygments highlight"><code><span></span>*** Settings ***
Documentation Template robot main suite.

*** Variables ***
${MYVAR}    Hello Checkmk!

*** Test Cases ***
My Test
    Log ${MYVAR}
    Sleep 3
    Log Done.</code></pre></div>
</div>
<div class="paragraph"><p>Here, only the value of the <code>MYVAR</code> variable is output, then following a 3 second wait, <code>Done</code> will be output.
You can set the value of the variable later in the Checkmk web interfaceâ€‰â€”â€‰otherwise the default <code>Hello Checkmk!</code> specified here will be used.</p></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>You can run this test suite manually.
To do this, the agent and RCC must already be installed (or you can download the RCC binary yourself).
First navigate to your test suite directory, where the <code>tests.robot</code> is also located.
Then start the RCC shell with <code>C:\ProgramData\checkmk\agent\bin\rcc.exe task shell</code>.
The virtual environment defined in <code>conda.yaml</code> is then created.
Then start the suite with <code>robot tests.robot</code>.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>And this is exactly what the Robotmk scheduler does as soon as the agent plug-in has been activated.</p></div>
<div class="sect2">
<h3 id="heading_agentconfig">
<span class="hidden-anchor sr-only" id="agentconfig"></span>2.1. Configure a rule for the agent plug-in</h3>
<div class="paragraph"><p>You can find the Robotmk scheduler under <span class="guihint">Setup &gt; Agent rules &gt; Robotmk scheduler (Windows)</span>.
As the rule is quite extensive, here is a look at the empty configuration:</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_00.png" alt="Empty Robotmk scheduler rule."></div>
<div class="title">Configuration of the agent plug-in</div>
</div>
<div class="paragraph"><p>First, the scheduler requires the base directory in which all your test suites are located.
Enter this arbitrary, explicit file path under <span class="guihint">Base directory of suites</span>, for example <code>C:\robots</code>.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_01.png" alt="Path for test suites."></div>
<div class="title">Base directory for all Robot Framework projects</div>
</div>
<div class="paragraph"><p>The <span class="guihint">Parallel plan groups</span> that are shown now are a Checkmk-specific concept.</p></div>
<div class="paragraph"><p>To explain this, we must first go down one hierarchy level: Here you can see the item <span class="guihint">Sequential plans</span>.
Such a sequential plan defines which suites are to be executed with which parameters.
Robot Framework will process these suites one after the other.
The reason for this is simple: in practice, tests are sometimes run on the desktop and several test suites could get in each otherâ€™s way at the same time (think of them stealing each others control of the mouse cursor).</p></div>
<div class="paragraph"><p>The plan groups are now an encapsulation for sequentially executed plansâ€‰â€”â€‰and are themselves executed in parallel.
Again, the reasoning is simple: this allows test suites that do not rely on the desktop to be executed in their own plans without delayâ€‰â€”â€‰the test suite used in this article is a good example of such processing.</p></div>
<div class="paragraph"><p>Back to the dialog: The only explicit setting is the execution interval, which you set under <span class="guihint">Group execution interval</span>.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_02.png" alt="Execution interval for execution groups."></div>
<div class="title">Interval for the (parallel) execution of plan groups</div>
</div>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p>The plans in the plan group naturally have their own runtimes, determined by the timeout of a single execution and the maximum number of repeated executions in the event of failed tests.
The execution interval of the plan group must therefore be greater than the sum of the maximum runtimes of all plans in the group.
The maximum runtime of a plan is calculated as follows: <span class="guihint">Limit per attempt</span> Ã— (1 + <span class="guihint">Maximum number of re-executions</span>).</p></div></td>
</tr></table></div>
<div class="paragraph"><p>Now itâ€™s time to configure the first plan.
You can enter any name under <span class="guihint">Application name</span>.
This name does not have to be unique!
The name of the application to be monitored makes sense here, for example <code>OnlineShop</code>, or here in this example simply <code>MyApplication</code>.
Of course, it can happen that this online store is tested several times, either by other test suites or by the same test suite with different parameters.
In such cases, the <span class="guihint">Variant</span> field is used to achieve unambiguous results despite identical names.
For example, if the application <code>OnlineShop</code> is tested once in German and once in English (via corresponding parameters), you could use corresponding abbreviations here.
The monitoring will then return results for <code>My OnlineShop_en</code> and <code>My OnlineShop_de</code>.</p></div>
<div class="paragraph"><p>However, the specification under <span class="guihint">Relative path to test suite file or folder</span> is necessary.
The path is relative to the base directory specified above, e.g. <code>mybot\test.robot</code> for <code>C:\robots\</code>.
Alternatively, a directory (with several <code>robot</code> files) can also be specified here, in which case it would simply be <code>mybot</code>.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_03.png" alt="Name and path of the suite."></div>
<div class="title">Plan for the execution of suites</div>
</div>
<div class="paragraph"><p>Continue with the <span class="guihint">Execution configuration.</span>
Under <span class="guihint">Limit per attempt</span> you define the maximum elapsed timeâ€‰â€”â€‰per attemptâ€‰â€”â€‰that a test suite may run.
With <span class="guihint">Robot Framework re-executions</span> you can now instruct Robot Framework to repeat test suites completely or incrementally if tests fail.
If the individual tests in a test suite are independent of each other, the incremental strategy is the best way to save time.
If, on the other hand, the test suite tests a logical sequence, such as "Login â†’ Call up product page â†’ Product in shopping cart â†’ Checkout", the test suite must of course be completely reprocessed.
In the end, there is always only one result.</p></div>
<div class="paragraph"><p>In the case of complete retries, only the results from self-contained suites are taken into account for the final result: If a test fails on its final retry, the test suite is counted as a failure.
In the case of incremental retries, the final result is made up of the best partial results: If some tests only run successfully on the third attempt, the final result is also counted as a success.
Reminder: The combination of attempts and maximum run times of all plans in a plan group determines their minimum execution interval.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_04.png" alt="Configuration of execution runtimes and repetitions."></div>
<div class="title">Failed tests/suites can be repeated</div>
</div>
<div class="paragraph"><p>By default, execution via RCC is activated under <span class="guihint">Automated environment setup (via RCC)</span>, for which you must enter two values.
Firstly, RCC requires the specification of where the <code>robot.yaml</code> file is located.
Its primary purpose is to reference the <code>conda.yaml</code> file, which is responsible for setting up the Python environment, i.e. installing Python and dependencies.
This specification is relative to the base directory that you have set above under <span class="guihint">Relative path to test suite file or folder</span>.
The YAML files can be saved in subdirectories, but best practice is the top suite directory.
For the above base directory <code>C:\robot\</code> and the suite directory <code>C:\robot\mybot</code> it is accordingly <code>mybot\robot.yaml</code>.</p></div>
<div class="paragraph"><p>With the following time limit for building the Python environment, you should bear in mind that sometimes large volumes of data need to be downloaded and set up.
Especially for the required browsers, several hundred megabytes are quickly accumulatedâ€‰â€”â€‰but only for the first run.
RCC only rebuilds environments if the content of <code>conda.yaml</code> has changed.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_05.png" alt="RCC configuration of the suite."></div>
<div class="title">Time limit for building virtual environments</div>
</div>
<div class="paragraph"><p>Under <span class="guihint">Robot Framework parameters</span> you have the possibility to use some of the command line parameters of Robot Framework (which are also displayed by the command <code>robot --help</code>).
If you want to use additional parameters, the option <span class="guihint">Argument files</span> will help.
A file specified here can contain any robot parameters.
Further information about the individual parameters can be found in the inline help.</p></div>
<div class="paragraph"><p>For our example project, only the option <span class="guihint">Variables</span> is activated and a variable <code>MYVAR</code> with the value <code>My Value</code> is set.
Remember the command <code>Log ${MYVAR}</code> at the top of the file <code>tests.robot</code>?
This is the corresponding reference.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_06.png" alt="Command line parameters of Robot Framework."></div>
<div class="title">Some options of the <code>robot</code> command</div>
</div>
<div class="paragraph"><p>At the end of the suite configuration, there are three largely self-explanatory options.
<span class="guihint">Execute plan as a specific user</span> allows Robotmk to be executed in the context of a specific user account.
Background: By default, Robotmk is executed in the context of the Checkmk agent (<a href="https://learn.microsoft.com/en-us/windows/win32/services/localsystem-account" target="_blank">LocalSystem account</a>), which has no authorization to access the desktop.
Here a user can be specified who must be permanently logged in to a desktop session and who has access to graphical desktop applications accordingly.</p></div>
<div class="paragraph"><p>With <span class="guihint">Assign plan/test result to piggyback host</span> the results of the plan/test can be assigned to another host.
For example, if Robot Framework is testing the ordering process of an online store, the results can be assigned to the corresponding web server.</p></div>
<div class="paragraph"><p>Each test run produces data that is stored under <code>C:\ProgramData\checkmk\agent\robotmk_output\working\suites\</code>.
By default, results from the last 14 days are retained, but you should bear in mind that large volumes of data can quickly accumulate here.
At least 500 kilobytes of data are generated per runâ€‰â€”â€‰with more complex test suites and embedded screenshots, for example, this can quickly add up to several megabytes of data.
Depending on the execution interval, the size of the report and your documentation requirements, you should intervene in such a situation.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_07.png" alt="Options for user context, host assignment and automatic cleanup"></div>
<div class="title">Automatic cleanup of the large volume of generated data</div>
</div>
<div class="paragraph"><p>Once here, you can now create further plans in this plan group or further plan groups.</p></div>
<div class="paragraph"><p>At the end there are two more options, which in turn relate to the complete Robotmk scheduler configuration.</p></div>
<div class="paragraph"><p><span class="guihint">RCC profile configuration</span> allows you to specify proxy servers and hosts to be excluded.</p></div>
<div class="paragraph"><p><span class="guihint">Grace period before scheduler starts</span> can also be very useful: The scheduler starts together with the Checkmk agent before the desktop logonâ€‰â€”â€‰which, of course, means that any tests on the desktop must fail.
The start can be manually delayed using a grace period.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_08.png" alt="Options for proxy server and a grace period for the scheduler start."></div>
<div class="title">A grace period prevents failures</div>
</div>
<div class="paragraph"><p>This completes the configuration and you can bake a new <a href="wato_monitoringagents.html#bakery">agent with the plug-in</a> and then roll it out, manually or via the <a href="agent_deployment.html">automatic agent updates</a>.</p></div>
<div class="sect3">
<h4 id="heading__data_in_the_agent_output">
<span class="hidden-anchor sr-only" id="_data_in_the_agent_output"></span>Data in the agent output</h4>
<div class="paragraph"><p>The output in the agent is quite extensive:
error messages, status, configuration and test data are transmitted in several sections.
The latter can be found in the <code>robotmk_suite_execution_report</code> section, here is an abbreviated excerpt:</p></div>
<div class="listingblock">
<div class="title">mysite-robot-host-agent.txt</div>
<div class="content"><pre>&lt;&lt;&lt;robotmk_suite_execution_report:sep(0)&gt;&gt;&gt;
{
    "attempts": [
        {
            "index": 1,
            "outcome": "AllTestsPassed",
            "runtime": 20
        }
    ],
    "rebot": {
        "Ok": {
            "xml": "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n
			&lt;robot generator=\"Rebot 6.1.1 (Python 3.10.12 on win32)\"
			generated=\"20240319 16:23:19.944\"
			rpa=\"true\"
			schemaversion=\"4\"&gt;\r\n&lt;suite id=\"s1\"
			name=\"Mybot\"
			source=\"C:\\robots\\mybot\"&gt;\r\n&lt;suite id=\"s1-s1\"
			name=\"Tests\"
			source=\"C:\\robots\\mybot\\tests.robot\"&gt;\r\n&lt;test id=\"s1-s1-t1\"
			name=\"Mytest\"
			line=\"6\"&gt;\r\n&lt;kw
			name=\"Sleep\"
			library=\"BuiltIn\"&gt;\r\n&lt;arg&gt;3 Seconds&lt;/arg&gt;\r\n&lt;doc&gt;Pauses the test executed for the given time.&lt;/doc&gt;\r\n&lt;msg
			timestamp=\"20240319 16:23:02.936\"
			level=\"INFO\"&gt;Slept 3 seconds&lt;/msg&gt;\r\n&lt;status
			status=\"PASS\"
			starttime=\"20240319 16:23:00.934\"
			endtime=\"20240319 16:23:02.936\"/&gt;"
        }
    },
    "suite_id": "mybot",
    "timestamp": 1710861778
}
...
"html_base64":"PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW ...</pre></div>
</div>
<div class="paragraph"><p>Two areas are of particular interest here.
Firstly, <code>rebot</code>: The <code>rebot</code> tool has produced the actual status report for Robot Framework from several partial results (hence re-bot).
Secondly, the last line <code>html_base64</code>: The HTML reports from Robot Framework are then base64-encoded.
Screenshots taken via tests are also transferred in this wayâ€‰â€”â€‰the output/data volume in the agent can be correspondingly extensive.</p></div>
</div>
<div class="sect3">
<h4 id="heading__data_in_monitoring">
<span class="hidden-anchor sr-only" id="_data_in_monitoring"></span>Data in monitoring</h4>
<div class="paragraph"><p>As soon as the Robotmk scheduler and the test suite have been run, the <a href="glossar.html#service_discovery">service discovery</a> will produce three new services:</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_scheduler_09.png" alt="Robotmk-Services im Monitoring"></div>
<div class="title">The newly discovered Robotmk services</div>
</div>
<div class="paragraph"><p>The service <span class="guihint">RMK Scheduler Status</span> exists once and immediately after deployment.
The services for plans and tests, here <span class="guihint">RMK MyApplication_mybot Plan</span> and <span class="guihint">RMK MyApplication_mybot Test: /Test: My Test</span>, are added to the monitoring as soon as the associated suites have been run for the first time.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_serviceconfig">
<span class="hidden-anchor sr-only" id="serviceconfig"></span>2.2. Configuring service rules</h3>
<div class="sect3">
<h4 id="heading__creating_a_rule_for_the_plan_status">
<span class="hidden-anchor sr-only" id="_creating_a_rule_for_the_plan_status"></span>Creating a rule for the plan status</h4>
<div class="paragraph"><p>Reminder: Maximum runtimes for plans were defined in the agent rule above.
These runtimes can be evaluated with the <span class="guihint">Robotmk plan</span> rule.
For example, you can set the service to <span class="state2">CRIT</span> when 90 percent of all calculated timeouts have been reached.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_service_suite_status_01.png" alt="Configuration dialog for threshold values for runtimes of test suites."></div>
<div class="title">Threshold values for status changes based on runtimes</div>
</div>
<div class="paragraph"><p>In the <span class="guihint">Conditions</span> box, there is the option of restricting the rule to specific plans.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_service_suite_status_02.png" alt="Dialog with restriction to the test suite 'mybot'."></div>
<div class="title">Optional restriction to certain plans</div>
</div>
</div>
<div class="sect3">
<h4 id="heading__creating_a_rule_for_the_test_status">
<span class="hidden-anchor sr-only" id="_creating_a_rule_for_the_test_status"></span>Creating a rule for the test status</h4>
<div class="paragraph"><p>Additional data can also be retrieved for individual tests in the test suites via the <span class="guihint">Robotmk test</span> rule.
Here you will again find the option to monitor runtimes, both for tests and keywords.
The monitoring of keywords is a Checkmk-specific function.
Therefore, the suite-internal status in the Robot Framework report could also be <code>OK</code> because the test suite was processed within the maximum permitted runtimeâ€‰â€”â€‰in Checkmk, however, <span class="state1">WARN</span> or <span class="state2">CRIT</span>, because a status change takes place at, for example, 80 percent of this maximum permitted runtime.</p></div>
<div class="paragraph"><p>In addition, the <span class="guihint">Enable metrics for high-level keywords</span> option can be used to generate metrics for higher-level keywords.
This is particularly useful if your tests are organized in such a way that the higher-level keywords describe the 'what' and the lower-level keywords describe the 'how'â€‰â€”â€‰this gives you more abstract evaluations.</p></div>
<div class="paragraph"><p>In this example, the threshold values for the maximum runtime of a test are 2 and 4 seconds.
You will see the effects below in the chapter <a href="#monitoring">Robotmk in monitoring</a>.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_service_test_status_01.png" alt="Rule for monitoring keywords with example values."></div>
<div class="title">Monitoring can be expanded using keyword metrics</div>
</div>
<div class="paragraph"><p>Once again, there is an explicit filter option in the <span class="guihint">Conditions</span> box, here for individual tests.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_service_test_status_02.png" alt="Dialog with option to restrict to tests."></div>
<div class="title">Optional restriction to certain tests</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="heading_monitoring">
<span class="hidden-anchor sr-only" id="monitoring"></span>2.3. Robotmk in monitoring</h3>
<div class="paragraph"><p>In monitoring, you will find services for the status of the Robotmk scheduler as well as the individual plans and testsâ€‰â€”â€‰even if you have not created any separate service rules.</p></div>
<div class="sect3">
<h4 id="heading__scheduler_status">
<span class="hidden-anchor sr-only" id="_scheduler_status"></span>Scheduler status</h4>
<div class="paragraph"><p>The service <span class="guihint">RMK Scheduler Status</span> is <span class="state0">OK</span> if the scheduler is running and has successfully built the execution environments.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_monitorng_scheduler.png" alt="Status of the scheduler in monitoring."></div>
<div class="title">RCC was able to build the environmentsâ€‰â€”â€‰in just one second</div>
</div>
<div class="paragraph"><p>Here in the image you can see the note <span class="guihint">Environment build took 1 second.</span>
One second to build a virtual Python environment with Pip and Robot Framework?
This is possible because RCC is clever: files that have already been downloaded are reused and a new build is only carried out after changes have been made in <code>conda.yaml</code>.
The first build would have taken 30 seconds or more.</p></div>
</div>
<div class="sect3">
<h4 id="heading__plan_status">
<span class="hidden-anchor sr-only" id="_plan_status"></span>Plan status</h4>
<div class="paragraph"><p>The status of a plan is reflected in a service named by application name and suite, for example <span class="guihint">RMK MyApplication_mybot Plan</span>.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_monitorng_suite.png" alt="Status of the test suite in monitoring."></div>
<div class="title">The execution of a planâ€‰â€”â€‰especially relevant for administrators</div>
</div>
</div>
<div class="sect3">
<h4 id="heading__test_status">
<span class="hidden-anchor sr-only" id="_test_status"></span>Test status</h4>
<div class="paragraph"><p>The evaluation of the tests is where it gets really interesting.
In the image you can now see the effect of the threshold values set above for the runtime of testsâ€‰â€”â€‰here the 2 seconds for the <span class="state1">WARN</span> status.
As the <code>Sleep 3 Seconds</code> instruction in the test itself already ensures a longer runtime, this service must go to <span class="state1">WARN</span> here, although the test was successful.
The fact that the test was successful is shown by the Robot Framework report, which you can access via the <span class="image-inline"><img src="../images/icons/icon_log.png" alt="icon log"></span> log icon.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_monitorng_test.png" alt="Status of the test in monitoring."></div>
<div class="title">Results of a specific suiteâ€‰â€”â€‰especially relevant for developers</div>
</div>
<div class="paragraph"><p>The report now clearly shows that the test and test suite have run successfully.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_monitorng_report_01.png" alt="Robot Framework report for 'Mybot' test suite."></div>
<div class="title">The Robot Framework log, here in optional dark mode</div>
</div>
<div class="paragraph"><p>At the bottom of the data you can also see the individual keywords, here for example <code>Log ${MYVAR}</code> together with the value <code>My value</code> set in Checkmk for <code>MYVAR</code>.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_monitorng_report_02.png" alt="Robot Framework report at keyword level."></div>
<div class="title">The log file can be expanded down to the smallest details</div>
</div>
</div>
<div class="sect3">
<h4 id="heading__dashboards">
<span class="hidden-anchor sr-only" id="_dashboards"></span>Dashboards</h4>
<div class="paragraph"><p>Of course, you can build your own dashboards as usualâ€‰â€”â€‰but you can also find two built-in dashboards under <span class="guihint">Monitor &gt; Synthetic Monitoring</span>.</p></div>
<div class="imageblock">
<div class="content"><img src="../images/robotmk_dashboard_01.png" alt="Robotmk dashboard in the web interface."></div>
<div class="title">The complete Checkmk Synthetic Monitoring at a glance (shortened)</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_troubleshooting">
<span class="hidden-anchor sr-only" id="troubleshooting"></span>3. Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__scheduler_reports_no_data">
<span class="hidden-anchor sr-only" id="_scheduler_reports_no_data"></span>3.1. Scheduler reports <code>No Data</code>
</h3>
<div class="paragraph"><p>If the scheduler does not receive any data, building the environment probably did not work.
A common reason for this are network problems, for example, due to which certain dependencies cannot be loaded.
In this case, take a look at the corresponding log file under <code>C:\ProgramData\checkmk\agent\robotmk_output\working\environment_building</code>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__environment_building_fails_post_install_script_execution">
<span class="hidden-anchor sr-only" id="_environment_building_fails_post_install_script_execution"></span>3.2. Environment building fails: <code>post-install script execution</code>
</h3>
<div class="paragraph"><p>This is a particularly interesting error that you might encounter on fresh Windows systems.
The <code>conda.yaml</code> can also contain instructions that are to be executed after the installation of the dependenciesâ€‰â€”â€‰for example, the initialization of the Robot Framework browser.
Python commands should therefore be executed here.
By default, Windows 11 has aliases for <code>python.exe</code> and <code>python3.exe</code> that refer to the Microsoft Store.
You must deactivate these aliases under 'Settings/Aliases for app execution'.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_files">
<span class="hidden-anchor sr-only" id="files"></span>4. Files and directories</h2>
<div class="sectionbody"><table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">File path</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\robotmk_output\working\suites\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log files and results of the suites</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\robotmk_output\working\environment_building</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log files for building virtual environments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\robotmk_output\working\rcc_setup</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Messages of the RCC execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\logs\robotmk_scheduler_rCURRENT.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log file of the agent plug-in</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\bin\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rcc.exe</code> and <code>robotmk_scheduler.exe</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\ProgramData\checkmk\agent\plugins\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Agent plug-in <code>robotmk_agent_plugin.exe</code></p></td>
</tr>
</tbody>
</table></div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li>
<a href="#intro">1. Synthetic monitoring with Robot Framework</a><ul class="sectlevel1"><li>
<a href="#_components">1.1. Components</a><ul class="sectlevel2">
<li><a href="#_checkmk_server">Checkmk server</a></li>
<li><a href="#_test_machine">Test machine</a></li>
</ul>
</li></ul>
</li>
<li>
<a href="#ruleconfig">2. Monitoring test suites with Robotmk</a><ul class="sectlevel1">
<li>
<a href="#agentconfig">2.1. Configure a rule for the agent plug-in</a><ul class="sectlevel2">
<li><a href="#_data_in_the_agent_output">Data in the agent output</a></li>
<li><a href="#_data_in_monitoring">Data in monitoring</a></li>
</ul>
</li>
<li>
<a href="#serviceconfig">2.2. Configuring service rules</a><ul class="sectlevel2">
<li><a href="#_creating_a_rule_for_the_plan_status">Creating a rule for the plan status</a></li>
<li><a href="#_creating_a_rule_for_the_test_status">Creating a rule for the test status</a></li>
</ul>
</li>
<li>
<a href="#monitoring">2.3. Robotmk in monitoring</a><ul class="sectlevel2">
<li><a href="#_scheduler_status">Scheduler status</a></li>
<li><a href="#_plan_status">Plan status</a></li>
<li><a href="#_test_status">Test status</a></li>
<li><a href="#_dashboards">Dashboards</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#troubleshooting">3. Troubleshooting</a><ul class="sectlevel1">
<li><a href="#_scheduler_reports_no_data">3.1. Scheduler reports <code>No Data</code></a></li>
<li><a href="#_environment_building_fails_post_install_script_execution">3.2. Environment building fails: <code>post-install script execution</code></a></li>
</ul>
</li>
<li><a href="#files">4. Files and directories</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
