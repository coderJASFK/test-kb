<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="In this article you will learn how to use familiar structuring markers from other environments in Checkmk by using host and service labels.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Labels">
<meta name="og:description" content="In this article you will learn how to use familiar structuring markers from other environments in Checkmk by using host and service labels.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Labels</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/de/labels.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/en/labels.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/en/labels.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginnerâ€™s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and derivatives</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation from Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation from AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Password store</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs for GUI extensions</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automated host creation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Rules</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Notifications</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Notifications via ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Notifications via Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Notifications via SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Monitoring log files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">Monitoring MSSQL with the legacy plug-in</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMware ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Monitoring Google Cloud Platform (GCP)</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">Monitoring OpenShift</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring with Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Measured values and graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Custom notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Overview of API resources</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">The Checkmk REST API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Developing extensions for Checkmk</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Writing agent-based check plug-ins</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">Writing SNMP-based check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Labels</h1>
<div class="details">
<span id="revdate">Last modified on 08-May-2024</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/common/en/labels.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="hosts_setup.html">Host administration</a>
<a href="wato_rules.html">Rules</a>
<a href="notifications.html">Notifications</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>Checkmk supports the concept of labels, of which you can assign any number to a host.
Labels and <a href="glossar.html#host_tag">host tags</a> behave quite similarly:</p></div>
<div class="ulist"><ul>
<li><p>Labels are 'attached' to hosts in the same way as tags.</p></li>
<li><p>Labels can be used as conditions for rules in the same way as tags.</p></li>
<li><p>Labels are created similarly to tags on the <code>key:value</code> principle.</p></li>
</ul></div>
<div class="paragraph"><p>So why is there a new concept here?
Well, the IT world is changing and becoming much more dynamic.
Cloud and container systems such as <a href="monitoring_aws.html">Amazon Web Services (AWS)</a>, <a href="monitoring_azure.html">Microsoft Azure</a> and <a href="monitoring_kubernetes.html">Kubernetes</a> autonomously create and delete what they refer to as <em>objects</em>â€‰â€”â€‰which correspond to hosts in Checkmk.
In these technologies labels and tags play a big role because they make the connections between the monitored objects and their functions.
The host names, on the other hand, are increasingly random and meaningless.</p></div>
<div class="paragraph"><p>Checkmk can create such dynamic hosts automatically with the <a href="dcd.html">dynamic host configuration</a>, and can also receive information on any labels/tags that are already present.
These labels/tags can then be used for rule conditions, searches, evaluations, dashboards, and other tasks.</p></div>
<div class="paragraph"><p>Of course the question arisesâ€‰â€”â€‰why we do not simply map such dynamic labels to the existing concept of host tags.
That is actually a very obvious conclusion at first look.
However host tags have a very important property which would make that very difficult and complicated:
Checkmk rigidly defines which tags and tag groups are present.
Everything is well-defined.
Every host has exactly one tag from every group.
Everyone can rely on it.
Typing errors in the spelling of tags cannot occurâ€‰â€”â€‰not even with hosts which do not stick to the schemeâ€‰â€”â€‰because its compliance is strictly controlled by Checkmk.
This is very important and useful in very heterogeneous environments with many thousands of manually-managed hosts.</p></div>
<div class="paragraph"><p>By contrast, dynamic labels from Kubernetes and Co are effectively 'free-form', and even if they do follow a scheme, this is unknown to Checkmk.
In addition you might be monitoring several different platforms, which in turn use labels in very different ways.</p></div>
<div class="paragraph"><p>That is why a Checkmk labels concept has been introduced which suits this growing dynamic.
Of course you can also use the labels even if you do not use connections to Cloud environments.</p></div>
<div class="paragraph"><p>To answer the question "When to use labels and when to use host tags?", there is more information in the article on <a href="hosts_structure.html">structuring hosts</a>.</p></div>
<div class="paragraph"><p>Here are the features of labels:</p></div>
<div class="ulist"><ul>
<li><p>Labels do not have to be predefined anywhere.
There is no fixed scheme for labels.
Everything is free-form.
Everything is allowed.</p></li>
<li><p>Each host can have as many labels as you like.
These can be maintained manually, defined via <a href="glossar.html#rule">rules</a>, or created automatically.</p></li>
<li><p>Labels are structured according to the <code>key:value</code> principle.
Each host may only have one value per key.
So a host that has the label <code>foo:bar</code> cannot at the same time have <code>foo:bar2</code>.</p></li>
<li><p>Unlike the host tags, both the key and the valueâ€‰â€”â€‰except for the colon (<strong>:</strong>)â€‰â€”â€‰may contain <strong>any</strong> characters.</p></li>
<li><p>There is no distinction between ID and title (or displayed name): the key of the label is both at the same time.</p></li>
</ul></div>
<div class="paragraph"><p>Labels have the following tasks:</p></div>
<div class="ulist"><ul>
<li><p>They lay a foundation for conditions in configuration rules, for example:
'All hosts with the label <code>os:windows</code> should be monitored in the same way.'</p></li>
<li><p>It is very easy to store additional information or comments about a host (for example, <code>location:RZ 74/123/xyz</code>) and to display this in <a href="glossar.html#view">views</a> for example.</p></li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_create_labels">
<span class="hidden-anchor sr-only" id="create_labels"></span>2. Creating labels</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_explicit">
<span class="hidden-anchor sr-only" id="explicit"></span>2.1. Explicit labels</h3>
<div class="paragraph"><p>Labels can be assigned to a host in a number of ways.</p></div>
<div class="paragraph"><p>The first of these is simple:
On the host properties page, which is displayed when you <a href="hosts_setup.html#create_hosts">create or edit a host</a> in the <a href="user_interface.html#setup_menu">Setup</a>,
you can give a host as many labels as you like:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_host_properties.png" alt="Dialog with properties of a host for defining labels."></div></div>
<div class="paragraph"><p>Activate <span class="guihint">Labels</span> with the checkbox, then click in the <span class="guihint">Add some label</span> field, enter the label definition following the scheme <code>key:value</code> and finish with Enter.</p></div>
<div class="paragraph"><p>You can edit an existing label by clicking it in its text, or delete it with the little 'x'.</p></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>Both the key and the value of a label may include <em>any character</em>â€‰â€”â€‰except the colon (<code>:</code>)!
However you should think carefully about the use of characters and upper/lower case, since if you later define conditions via labels, then the spelling of both the key and the value must be strictly observed.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>Of course labels can also be inherited from a folder.
Like other attributes, labels can be in subfolders or at the host, then as needed be overwritten againâ€‰â€”â€‰<strong>individually</strong> in fact.
If for example, the label <code>location:munich</code> is set in the folder, this will be inherited by all hosts in this folder which do not themselves already have the label <code>location</code> defined.
Other labels a host may have will remain unaffected.</p></div>
<div class="paragraph"><p>Explicitly-defined labels for hosts or folders appear violet in the list of hosts:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_host_list.png" alt="List entry of a host with the assigned explicit labels."></div></div>
</div>
<div class="sect2">
<h3 id="heading_rules">
<span class="hidden-anchor sr-only" id="rules"></span>2.2. Creating labels using rules</h3>
<div class="paragraph"><p>As usual in Checkmk, attributes can also be assigned to hosts and services by <a href="glossar.html#rule">rules</a>.
This will make you independent of the folder structure, and it also applies to the labels.
There is a <span class="guihint">Host labels</span> rule set for this function, which you can quickly find via a <a href="user_interface.html#search_setup">search in the Setup menu</a>.</p></div>
<div class="paragraph"><p>The following rule adds the <code>hw:real</code> label to all hosts in the <code>Bavaria</code> folder which have the <code>Real Hardware</code> host tag:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_rule_host_labels.png" alt="Rule for specifying labels for hosts."></div></div>
<div class="paragraph"><p>You may have noticed that labels <em>cannot</em> be used in the conditions for this rule.
This is not a mistake, but intentional, and it avoids recursive dependencies and other anomalies.</p></div>
<div class="paragraph"><p>Labels added via rules appear red at the host shown, but do not appear in the host list in the Setup,
instead they only appear with the <a href="#views">status view of the host</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_automatic">
<span class="hidden-anchor sr-only" id="automatic"></span>2.3. Automatically-generated labels</h3>
<div class="paragraph"><p>The third way labels can be created is fully-automatically.
Various data sources such as the <a href="glossar.html#special_agent">special agents</a> for monitoring cloud and container systems automatically generate labels.
In particular, the special agents for AWS, Azure and Kubernetes should be mentioned here.
Sometimes these things are also referred to as <em>tags</em> on the respective platforms and are created in Checkmk as host or service labels.
The respective rule sets provide sufficient information about this.</p></div>
<div class="paragraph"><p>The nice thing is that you do not have to configure anything at all.
As soon as these data sources are active, the corresponding labels will be generated.</p></div>
<div class="paragraph"><p>In the <a href="#automatic_host_labels">Automatically-generated host labels</a> section you will find an overview of the labels that Checkmk generates automatically.</p></div>
</div>
<div class="sect2">
<h3 id="heading_agent_plugins">
<span class="hidden-anchor sr-only" id="agent_plugins"></span>2.4. Specifying labels via an agent plug-in</h3>
<div class="paragraph"><p>A simple way to manipulate labels directly is to add an <a href="glossar.html#agent_plugin">agent plug-in</a>, which, analogous to <a href="glossar.html#local_check">local checks</a>, creates a section called <code>labels</code>.
In this way you can assign labels in more detail than by evaluating the HW/SW inventory aloneâ€‰â€”â€‰for example, according to nuances of the installed hardware (such as CPU features), or relevant to processes that are actually running (instead of simply the installed software).</p></div>
<div class="paragraph"><p>The label output is to be formatted as a Python dictionary, as in the following example:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-go">&lt;&lt;&lt;labels:sep(0)&gt;&gt;&gt;</span>
<span class="tok-go">{"cpu/vendor": "zilog"}</span></code></pre></div></div>
<div class="paragraph"><p>Avoid conflicts with the labels automatically assigned by Checkmk itself and other plug-ins, as no particular order of evaluation can be guaranteed.</p></div>
</div>
<div class="sect2">
<h3 id="heading_discovery_check">
<span class="hidden-anchor sr-only" id="discovery_check"></span>2.5. Including labels found in the discovery check</h3>
<div class="paragraph"><p>If you have enabled the <a href="wato_services.html#discovery_check">discovery check</a>â€‰â€”â€‰which is the default for new installationsâ€‰â€”â€‰it will warn you when new host labels are found that have not yet been added to the host properties in the Setup.
This will look like this, for example:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_discovery_check.png" alt="Service list with the service 'Check_MK Discovery'."></div></div>
<div class="paragraph"><p>You have two options for responding to this warning.
The first is to add the new labels by calling the service configuration for the host in the Setup and updating the configuration of the labels with the <span class="guihint">Hosts &gt; Update host labels</span> menu item.
The discovery check will then be <span class="state0">OK</span> again the next time it runs (up to a two-hour delay), even if you have not yet activated the changes.
If you do not want to wait that long, you can also manually update the service immediately by selecting <span class="guihint">Reschedule check</span> in the serviceâ€™s action menu.</p></div>
<div class="paragraph"><p>If this affects many hosts at once, you will certainly not want to visit the service configuration for each host.
The best thing to do here is to run the <a href="hosts_setup.html#bulk_operations">bulk action</a> for <span class="guihint">Run bulk service discovery</span> and select <span class="guihint">Only discover new host labels</span> as the modeâ€‰â€”â€‰or alternatively <span class="guihint">Add unmonitored services and new host labels</span> if you also want to take the opportunity to add new services.</p></div>
<div class="paragraph"><p>The second way to turn the discovery check green is to reconfigure it so that it no longer warns you about new labels.
To do this, go to the <span class="guihint">Periodic service discovery</span> rule set, and edit the existing ruleâ€‰â€”â€‰there you will find the <span class="guihint">Severity of new host labels</span> option:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_rule_periodic_service_discovery.png" alt="Rule for periodic service discovery."></div></div>
<div class="paragraph"><p>This is set to <span class="guihint">Warning</span> by default.
Choose <span class="guihint">OK - do not alert, just display</span> and the check will go silent.</p></div>
<div class="paragraph"><p>Labels found via discovery check are displayed in yellow-ocher.</p></div>
</div>
<div class="sect2">
<h3 id="heading_sequence">
<span class="hidden-anchor sr-only" id="sequence"></span>2.6. Sequence of label assignment priorities</h3>
<div class="paragraph"><p>Theoretically, the same label may be defined with different values in multiple sources simultaneously.
Thatâ€™s why there is the following order of priority:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>First of all, explicit labels, i.e., those that you define for the host or folder directly in the Setup.</p></li>
<li><p>In the second place are labels that are created by rules.</p></li>
<li><p>In the last place are automatically-generated labels.</p></li>
</ol></div>
<div class="paragraph"><p>These precedence rules give you the ultimate control over the labels.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_conditions">
<span class="hidden-anchor sr-only" id="conditions"></span>3. Labels as conditions in rules</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_rule_conditions">
<span class="hidden-anchor sr-only" id="rule_conditions"></span>3.1. Conditions in rules</h3>
<div class="paragraph"><p>An important function of labels is the same as for host features:
Namely, their use as a condition in rules.
This is especially useful for automatically-generated labels, because you can adapt your monitoring fully-automatically based on information from AWS, Azure, Kubernetes and co.</p></div>
<div class="paragraph"><p>Add conditions with <span class="guihint">Add to condition</span> for the host or service labels.
Now select either <span class="guihint">is</span> or <span class="guihint">not</span> to formulate a positive or negative condition and then enter the label in the usual form <code>key:value</code>.
Pay attention to the exact spelling here, including capitalization.
As labels can be defined without specifications, Checkmk cannot recognize typos.
Nevertheless: When you type in a label, Checkmk suggests existing labels if they match your previous input.
No distinction is made between host and service labels in the suggestions: all matching labels are offered.
Pay attention to the correct spelling, as misspellings, incorrect capitalization, etc. will result in the rule no longer working.</p></div>
<div class="paragraph"><p>However, the definition of the condition goes one step further:
To further refine the condition, you also have the Boolean operators <code>Not</code>, <code>And</code> and <code>Or</code> at your disposal.
Here, <code>Not</code> is the abbreviation for <code>And Not</code>.</p></div>
<div class="ulist"><ul>
<li><p><code>Not</code> means that condition A must be fulfilled and condition B must not be fulfilled at the same time.</p></li>
<li><p><code>And</code> means that both condition A and condition B must be fulfilled at the same time.</p></li>
<li><p><code>Or</code> means that either condition A or condition B must be fulfilled, but both conditions may also be fulfilled.</p></li>
</ul></div>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p>The operators are processed in exactly this priorityâ€‰â€”â€‰<code>Not</code>, <code>And</code>, <code>Or</code>â€‰â€”â€‰i.e. <em>not</em> necessarily in the order in which they appear in the list.
This corresponds to the standard of Boolean algebra.
For example, <code>A And B Not C Or D</code> would correspond to the parentheses <code>(A And (B Not C)) Or D</code>.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>For example, to find hosts with the label <code>cmk/site:today</code> but without the label <code>cmk/piggyback_source_today:yes</code>, the condition could look like this:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_props_labels.png" alt="Condition for host labels."></div></div>
<div class="paragraph"><p>You can refine this condition with <span class="guihint">is</span> or <span class="guihint">not</span> with any other specifications.
Or you can add a new group of conditions with <span class="guihint">Add to condition</span>, which makes the now more complex condition easier to read, but does not change the evaluation of the Boolean algebra:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_props_labels2.png" alt="multiple conditions for host labels."></div></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>If you have defined neither <span class="guihint">Host tags</span> nor <span class="guihint">Host labels</span>, the rule in question is always applied to all hosts or services.
If you have created several rules, subsequent rules may no longer be evaluated, see <a href="wato_rules.html#matching">Types of rule analysis</a>.</p></div></td>
</tr></table></div>
<div class="paragraph"><p>You can use both labels and host tags in a rule.
These are automatically AND-linked.
The rule therefore only applies if both conditions are fulfilled at the same time.</p></div>
</div>
<div class="sect2">
<h3 id="heading_notification_conditions">
<span class="hidden-anchor sr-only" id="notification_conditions"></span>3.2. Conditions in notification rules</h3>
<div class="paragraph"><p>You can use labels as conditions in <a href="notifications.html#rules">notification rules</a>, too.
The usage is the same as in other <a href="notifications.html#rule_conditions">conditions</a>, so you do not need to re-educate yourself to use them.
Select <span class="guihint">Match host labels</span> and simply enter which labels a host or service must have, thus triggering a notification through this rule.
Again, multiple labels are connected by the AND operation.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_views">
<span class="hidden-anchor sr-only" id="views"></span>4. Labels in views</h2>
<div class="sectionbody">
<div class="paragraph"><p>So far we have only talked about the labels in the <a href="glossar.html#configuration_environment">configuration environment</a> (or short: the Setup).
The labels are also visible in the <a href="glossar.html#monitoring_environment">monitoring environment</a>â€‰â€”â€‰in the status view of a host, for instance:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_host_status.png" alt="Dialog with the host state and the assigned labels."></div></div>
<div class="paragraph"><p>Here you can see the labels in different colors depending on how they were created:
Explicit labels in violet, labels created by rules in red and labels created by a discovery check in yellow-ocher.</p></div>
<div class="paragraph"><p>The colored highlighting of the labels not only stands out visually in the view, they are also practical because they can be clicked on, which leads you to a search for all hosts with this label:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_search_filterbar.png" alt="Filter bar with filter to search for a label." width="60%"></div></div>
<div class="paragraph"><p>Here you can search for hosts <em>with</em> this label (using the default <span class="guihint">is</span>) or <em>without</em> this label (using the option <span class="guihint">is not</span>).</p></div>
<div class="paragraph"><p>You can also use the Boolean operators <code>Not</code>, <code>And</code> and <code>Or</code> in the label search, as described under <a href="#rule_conditions">Conditions in rules</a>.
For example, to find Linux hosts that are located in Munich and which are not web servers, the filter could look like this:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_filter_boolean.png" alt="Filter options with 3 label filters linked by logical operators." width="60%"></div></div>
<div class="paragraph"><p>You can further refine this filter, e.g. to additionally find Windows hosts that are both 'headless' (with <span class="guihint">or</span>), and French (with <span class="guihint">and</span>).
You can enter the three new lines for this extension of the filter directly under the existing onesâ€‰â€”â€‰or you can create a new group with <span class="guihint">Add to query</span>, which makes the now more complex filter easier to read, but does not change the evaluation of the Boolean algebra:</p></div>
<div class="imageblock"><div class="content"><img src="../images/labels_filter_boolean_extended.png" alt="Filter options with 6 label filters linked by logical operators." width="60%"></div></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>If you are interested in which bracket replacement Checkmk generates from the label filters entered, you can have the associated Livestatus query displayed.
To do this, activate <span class="guihint">Setup &gt; General &gt; Global settings &gt; Debug Livestatus queries.</span></p></div></td>
</tr></table></div>
<div class="paragraph"><p>In the filter bar you can of course also combine the search for labels with the other available search parameters.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_service_labels">
<span class="hidden-anchor sr-only" id="service_labels"></span>5. Service labels</h2>
<div class="sectionbody">
<div class="paragraph"><p>Services can also have labels.
These are similar to the host labels, however with a few small differences:</p></div>
<div class="ulist"><ul>
<li><p>You cannot define service labels explicitly.
These can only be created by rules (<span class="guihint">Service labels</span>), or automatically.</p></li>
<li><p>You can also formulate conditions with service labels.
In a rule set, the service labels are only offered for input if the rule can match a service.</p></li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_agent_labels">
<span class="hidden-anchor sr-only" id="agent_labels"></span>6. Agent labels</h2>
<div class="sectionbody">
<div class="paragraph"><p><span class="image-inline"><img src="../images/icons/CSE.png" alt="CSE" width="20" title="Checkmk Cloud"></span> <strong>Checkmk Cloud</strong> and <span class="image-inline"><img src="../images/icons/CME.png" alt="CME" width="20" title="Checkmk MSP"></span> <strong>Checkmk MSP</strong> include the option to <a href="hosts_autoregister.html">create hosts automatically</a>.
For this, the whole chain of agent registration, host creation, service discovery and change activation is automated.
The creation of the host takes place following the registration.</p></div>
<div class="paragraph"><p>This automation creates some challenges for the structuring of newly created hosts.
Until now, the operating system (stored in the host label <code>cmk/os_family</code>) could only be determined from the agent output.
However, to get this, the host must already have been created.</p></div>
<div class="paragraph"><p>For this reason, the concept of volatile agent labels was introduced. These labels are submitted during a registration and are thus available before the first agent is created.
During registration, you can use the agent labels to determine whether a host should actually be created in the monitoring, andâ€‰â€”â€‰if soâ€‰â€”â€‰to influence the hostâ€™s folder, as well as other host attributes.
Once registration has been completed, agent labels can no longer be accessed.</p></div>
<div class="paragraph"><p>Two predefined agent labels are always transferred during a registration:</p></div>
<div class="ulist"><ul>
<li><p><code>cmk/os-family</code> contains the operating system family (currently <code>Windows</code> or <code>Linux</code>).</p></li>
<li><p><code>cmk/hostname-simple</code> contains the computer name in an abbreviated form (i.e. without the domain portion)</p></li>
</ul></div>
<div class="paragraph"><p>You can freely assign additional, custom agent labels, for example:
<code>organizational/department:documentation</code>.</p></div>
<div class="paragraph"><p>Automatically-registered hosts are assigned the <code>cmk/agent_auto_registered:yes</code> host label.
A direct assignment of host labels as a result of specific agent labels is not supported.
However, you have the alternative of registering hosts in a (temporary) folder and then assigning host labels for all hosts in that folder.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading__further_information">
<span class="hidden-anchor sr-only" id="_further_information"></span>7. Further information</h2>
<div class="sectionbody"><div class="sect2">
<h3 id="heading_automatic_host_labels">
<span class="hidden-anchor sr-only" id="automatic_host_labels"></span>7.1. Automatically-generated host labels</h3>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Values</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/agent_auto_registered</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>yes</code>, if a host was created via auto-registration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/aws/ec2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instance</code> for all EC2 instances</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/aws/account</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the AWS account the host belongs to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/aws/tag/{key}:{value}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tags from AWS objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/azure/resource_group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource group the Azure object belongs to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/azure/tag/{key}:{value}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tags from Azure objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/azure/vm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instance</code> for all Azure VMs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/check_mk_server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>yes</code> for all Checkmk servers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/device_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SNMP transmitted device name, e.g. <code>appliance</code>, <code>fcswitch</code>, <code>firewall</code>, <code>printer</code>, <code>router</code>, <code>sensor</code>, <code>switch</code>, <code>ups</code>, <code>wlc</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/docker_image</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker image, e.g. <code>docker.io/library/nginx:latest</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/docker_image_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the Docker image, e.g. <code>nginx</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/docker_image_version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the Docker image, e.g. <code>latest</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/docker_object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container</code>, if the host is a Docker container; <code>node</code>, if the host is a Docker node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/annotation/{key}:{value}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">These labels are output for any Kubernetes label that is a valid Kubernetes annotation (configurable via the <span class="guihint">Kubernetes</span> rule).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>yes</code> if the host is a Kubernetes object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/cluster</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the Kubernetes cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/cluster-host</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the Kubernetes cluster host</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/cronjob</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes Cronjob</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/daemonset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the DaemonSet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/deployment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the deployment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the associated Kubernetes namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/node</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the associated Kubernetes node. Checkmk hosts of type Pod or Node get this label.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes object type, e.g. <code>endpoint</code> if the host is a Kubernetes endpoint object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/kubernetes/statefulset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the StatefulSet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/meraki</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>yes</code> for all Meraki devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/meraki/device_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meraki device type, e.g. <code>switch</code> or <code>wireless</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/meraki/net_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network ID the Meraki device belongs to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/meraki/org_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organization ID the Meraki device belongs to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/meraki/org_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organization name the Meraki device belongs to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/nutanix/object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>control_plane</code> for the host with the Nutanix special agent; <code>node</code> for a Nutanix host; <code>vm</code> for Nutanix VMs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/os_family</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating system, reported by the agent as <code>AgentOS</code> (e.g. <code>windows</code> or <code>linux</code> )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/os_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating system type, reported by the agent as <code>OS type</code> (e.g. <code>windows</code>, <code>linux</code> or <code>unix</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/os_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating system name, reported by the agent as <code>OSName</code> (e.g. <code>Microsoft Windows 10 Pro</code>, <code>Ubuntu</code> or <code>Oracle Solaris</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/os_platform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating system platform, reported by the agent as <code>OSPlatform</code> (e.g. <code>Ubuntu</code> for Ubuntu derivatives such as <em>Xubuntu</em>), if stored in <code>/etc/os-release</code>; if this line is missing in the agent output, the label receives the value of <code>cmk/os_family</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/os_version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating system version, reported by the agent as <code>OSVersion</code> (e.g. <code>22.04</code> for Ubuntu or <code>10.0.19045</code> for Windows)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/vsphere_object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vm</code> if the host is a virtual machine; <code>server</code> if the host is an ESXi host system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmk/vsphere_vcenter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>yes</code> if the host is a VMware vCenter.</p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li>
<a href="#create_labels">2. Creating labels</a><ul class="sectlevel1">
<li><a href="#explicit">2.1. Explicit labels</a></li>
<li><a href="#rules">2.2. Creating labels using rules</a></li>
<li><a href="#automatic">2.3. Automatically-generated labels</a></li>
<li><a href="#agent_plugins">2.4. Specifying labels via an agent plug-in</a></li>
<li><a href="#discovery_check">2.5. Including labels found in the discovery check</a></li>
<li><a href="#sequence">2.6. Sequence of label assignment priorities</a></li>
</ul>
</li>
<li>
<a href="#conditions">3. Labels as conditions in rules</a><ul class="sectlevel1">
<li><a href="#rule_conditions">3.1. Conditions in rules</a></li>
<li><a href="#notification_conditions">3.2. Conditions in notification rules</a></li>
</ul>
</li>
<li><a href="#views">4. Labels in views</a></li>
<li><a href="#service_labels">5. Service labels</a></li>
<li><a href="#agent_labels">6. Agent labels</a></li>
<li>
<a href="#_further_information">7. Further information</a><ul class="sectlevel1"><li><a href="#automatic_host_labels">7.1. Automatically-generated host labels</a></li></ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
