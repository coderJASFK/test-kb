<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="In Checkmk users and contact groups can also be synchronized via LDAP or Microsoft's Active Directory (AD).">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="User management with LDAP/Active Directory">
<meta name="og:description" content="In Checkmk users and contact groups can also be synchronized via LDAP or Microsoft's Active Directory (AD).">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>User management with LDAP/Active Directory</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/de/ldap.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/en/ldap.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/en/ldap.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginnerâ€™s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and derivatives</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation from Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation from AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Password store</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs for GUI extensions</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automated host creation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Rules</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Notifications</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Notifications via ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Notifications via Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Notifications via SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Monitoring log files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">Monitoring MSSQL with the legacy plug-in</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMware ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Monitoring Google Cloud Platform (GCP)</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">Monitoring OpenShift</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring with Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Measured values and graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Custom notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Overview of API resources</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">The Checkmk REST API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Developing extensions for Checkmk</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Writing agent-based check plug-ins</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">Writing SNMP-based check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>User management with LDAP/Active Directory</h1>
<div class="details">
<span id="revdate">Last modified on 29-Dec-2021</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/onprem/en/ldap.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="kerberos.html">Single sign-on with Kerberos</a>
<a href="omd_https.html">Securing the web interface with HTTPS</a>
<a href="wato_user.html">Users, roles and permissions</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody"><div class="paragraph"><p>Since the manual definition of users is scalable only up to a certain level, Checkmk provides a facility for using LDAP-based services for managing users,
for automatically synchronizing users from the home directories, and likewise for assigning contact groups, roles and other attributes to these users in Checkmk automatically.
Checkmk is not restricted to a single LDAP source, and it can also distribute the users to other connected sites if required.</p></div></div>
</div>
<div class="sect1">
<h2 id="heading_connect">
<span class="hidden-anchor sr-only" id="connect"></span>2. Configuring an LDAP connection</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__connecting_to_the_server">
<span class="hidden-anchor sr-only" id="_connecting_to_the_server"></span>2.1. Connecting to the server</h3>
<div class="paragraph"><p>Creating a connection to an LDAP-compatible server requires a user with read permission for the server.
As a minimum it must have read permission for the persons and groups that it is to synchronize.
In the following example this user is called <code>check_mk</code>.</p></div>
<div class="paragraph"><p>Under <span class="guihint">Setup &gt; Users &gt; LDAP &amp; Active Directory &gt; Add connection</span> a new connection can be created.
In the form, first enter any desired <span class="guihint">ID</span> for the connection in the <span class="guihint">General Properties</span> box.
A simple meaningful title can be optionally entered in the <span class="guihint">Description</span> field.
As always, the <span class="guihint">ID</span> must be unique and cannot be changed later.
It may only consist of letters, digits, dashes and underscores, starting with a letter or underscore.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_general_properties.png" alt="ldap new connection general properties"></div></div>
<div class="paragraph"><p>Next, under <span class="guihint">LDAP Connection</span> the LDAP server can be defined, as well as one or more failover servers if they are available.
Then only the <span class="guihint">Directory type</span> needs to be selected, and the user data for the read-access defined under <span class="guihint">Bind credentials</span>.
Note that the user name with its full LDAP path must be entered.
Upper and lower case must not does not need to be taken into account.
The configuration should then look something like this:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_ldap_connection.png" alt="ldap new connection ldap connection"></div></div>
<div class="paragraph"><p>Checkmk supports more than just Active Directory.
To alter the directory to, e.g., OpenLDAP, select it in the <span class="guihint">Directory type</span> fieldâ€‰â€”â€‰further configuration alterations resulting from this action occur in only a few locations.</p></div>
<div class="paragraph"><p>The <span class="guihint">Failover Servers</span> are used when the actual server is not accessible, or when a time limit has been exceeded.
This makes sense if there is no local own server in use, but it is desired to create a redundant connection.</p></div>
<div class="paragraph"><p>The connection of Checkmk with the LDAP server is always maintained until the LDAP server is no longer accessible due to a timeout or other problems.
Only then is the switch to the failover server made.
The same applies after the switchover:
The connection will only revert to the actually configured server if the failover server becomes unavailable.</p></div>
</div>
<div class="sect2">
<h3 id="heading_user_filter">
<span class="hidden-anchor sr-only" id="user_filter"></span>2.2. Defining users</h3>
<div class="paragraph"><p>Next the paths to the users and groups will be defined, and the filters set.
In <span class="guihint">User base DN</span>, first enter the path via which the users are to be found.
Make sure here that the <em>Operational Unit</em> (OU) is set so that all desired users and as few others as possible are included.
The more users that are queried, the slower the synchronization will be to process.</p></div>
<div class="paragraph"><p>Next set the <span class="guihint">Search scope</span> option.
Here you can recursively filter for all users located in the OU and in those units below it, or restrict the search to those located directly in this OU.
If you have entered a user directly in the path, you should select <span class="guihint">Search only the entry at the base DN</span>â€‰â€”â€‰only this user will then be included.</p></div>
<div class="paragraph"><p>With the help of the option <span class="guihint">Search filter</span> you can narrow down the selection of users to be imported even further.
If for example you want to synchronize only the users belonging to a specific group, set an LDAP query as shown in the following screenshot.
The prerequisite for this is that the users have the <code>memberof</code> attribute.
How to filter by group membership, without this attribute, can be learned <a href="#filter_group">below</a>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_users.png" alt="ldap new connection users"></div></div>
<div class="paragraph"><p>The standard filter can also be combined with the <code>memberof</code>, or with other filters:</p></div>
<div class="paragraph"><p><code>(&amp;(objectclass=user)(objectcategory=person)(memberof=cn=cmk-admins,ou=groups,dc=mycompany,dc=org))</code></p></div>
<div class="paragraph"><p>As can be seen in the <span class="guihint">Users</span> box, there are further options for a user search.
With the <span class="guihint">User-ID attribute</span> option it is possible to specify which attribute the user is to utilize as its login ID in Checkmk.
The user will subsequently use this login when signing in.
As a rule, in Active Directory it will be the <code>sAMAccountName</code> attribute, which is used as standard in Checkmk.
Under OpenLDAP it is often the <code>uid</code> attribute.</p></div>
<div class="paragraph"><p>With the <span class="guihint">Lower case User-IDs</span> options you can convert the synchronized IDs to lower-case letters.
This is possibly sensible, since as already mentioned, Active Directory/LDAP does not differentiate between upper and lower case letters, but Checkmk does.
That can lead to confusion which this option can solve.</p></div>
<div class="paragraph"><p>The <span class="guihint">Umlauts in User-IDs (deprecated)</span> option was only provided for compatibility reasons and should no longer be used/altered.</p></div>
<div class="paragraph"><p>Last but not least the option <span class="guihint">Create users only on login</span> allows you to create new users only once they login to Checkmk instead of during the synchronization with LDAP.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_users_search_filter_2.png" alt="ldap new connection users search filter 2"></div></div>
<div class="paragraph" id="filter_group"><p>The <span class="guihint">Filter group</span> option should only be used if the LDAP server is <strong>not</strong> an Active Directory, and the <code>memberof</code> dynamic attribute is not available in the user data.
In such cases the user filtering takes place in Checkmk itself.
In the process it is possible that many users will be queried which will later be discarded.
Such a scenario can be largely stopped by the LDAP module in Checkmk.</p></div>
<div class="paragraph"><p>Should you be dependent on this option however, the complete path for the group to be filtered must be entered here:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_users_filter_group.png" alt="ldap new connection users filter group"></div></div>
</div>
<div class="sect2">
<h3 id="heading_groupfilter">
<span class="hidden-anchor sr-only" id="groupfilter"></span>2.3. Defining groups</h3>
<div class="paragraph"><p>Should you wish to filter the users by group, define the path to the group so that a matching can be performed.
This can be done in the same way as with the usersâ€‰â€”â€‰when a group is directly specified, under <span class="guihint">Search scope</span> the <span class="guihint">Search only the entry at the base DN</span> option can be usedâ€‰â€”â€‰otherwise the search will be performed either directly in the OU or its subsidiary units will also be included.</p></div>
<div class="paragraph"><p>Here as well, with the help of the <span class="guihint">Search filter</span> option it is possible to specify how the groupâ€™s name is to be defined in Checkmk.
You can additionally specify the name of the attribute (<span class="guihint">Member attribute</span>) in which the groupâ€™s members are lodged.
Checkmk uses <code>member</code> as standard.
Under OpenLDAP this can also be <code>uniqueMember</code>.
Alter the option as appropriate.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_groups.png" alt="ldap new connection groups"></div></div>
</div>
<div class="sect2">
<h3 id="heading_config_test">
<span class="hidden-anchor sr-only" id="config_test"></span>2.4. Testing the configuration</h3>
<div class="paragraph"><p>The first setup is now complete, and for diagnosis the configuration can now be saved and tested via the <span class="guihint">Save &amp; test</span> button.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_diagnostics.png" alt="ldap new connection diagnostics"></div></div>
<div class="paragraph"><p>You donâ€™t need to specify groups to produce a functioning configuration.
However, if there are only users for Checkmk in the OU, it makes sense to restrict the selection via one or more groups.</p></div>
</div>
<div class="sect2">
<h3 id="heading__the_synchronization_interval">
<span class="hidden-anchor sr-only" id="_the_synchronization_interval"></span>2.5. The synchronization interval</h3>
<div class="paragraph"><p>Finally, you can also define how often the users are to be automatically synchronized.
In an environment in which changes seldom occur the standard is perhaps too tight.
The time frame should not not be too long however, so that any changes can be reflected promptly in Checkmk.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_other.png" alt="ldap new connection other"></div></div>
<div class="paragraph"><p>A synchronization can be manually initiated at any time in <span class="guihint">Setup &gt; Users &gt; Users &gt; Synchronize users</span>.
In addition, a user will be synchronized if required when they attempt to log in and have not yet been synchronized.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__automatic_allocation_of_attributes">
<span class="hidden-anchor sr-only" id="_automatic_allocation_of_attributes"></span>3. Automatic allocation of attributes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_contact_groups">
<span class="hidden-anchor sr-only" id="contact_groups"></span>3.1. Contact groups</h3>
<div class="paragraph"><p>It is not much use being able to create all users automatically, if it is then necessary to allocate them to contact groups manually.
Checkmk provides the function of using the LDAP serverâ€™s groups to enable allocation to contact groups.
For this, activate the <span class="guihint">Attribute sync plugins &gt; Contactgroup Membership</span> option:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_contactgroup_membership.png" alt="ldap new connection contactgroup membership"></div></div>
<div class="paragraph"><p>For an allocation to be successful, the groupâ€™s name (<code>cn</code>) on the LDAP server must be identical to that in Checkmkâ€‰â€”â€‰i.e., the <code>oracle_admins</code> group will only be allocated to a user if it is also in the <code>oracle_admins</code> group in LDAP.
If, instead of this, it is in the <code>oracle-admins</code> or the <code>ORACLE_admins</code> groups the allocation will not work.
Therefore be careful to use the correct syntax and use of upper and lower case should problems arise in this situation.</p></div>
<div class="sect3">
<h4 id="heading_nested_groups">
<span class="hidden-anchor sr-only" id="nested_groups"></span>Nested groups</h4>
<div class="paragraph"><p>Checkmk also offersâ€‰â€”â€‰currently only for Active Directoryâ€‰â€”â€‰the possibility of using inherited groups.
Activate this option if, for example, your user is in the <code>oracle_admins</code> group, and this group is in turn a member of <code>cmk-user</code>.</p></div>
</div>
<div class="sect3">
<h4 id="heading__groups_from_other_connections">
<span class="hidden-anchor sr-only" id="_groups_from_other_connections"></span>Groups from other connections</h4>
<div class="paragraph"><p>If multiple LDAP connections have been created in Checkmk, groups from other sources can also be utilized to enable an allocation.
This can make sense if one general connection has been configured, and others are filtered only for particular groups.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading__roles">
<span class="hidden-anchor sr-only" id="_roles"></span>3.2. Roles</h3>
<div class="paragraph"><p>Roles can also be automatically allocated in a similar way and the <a href="#nested_groups">Nested groups</a> function likewise used here.
One or more groups can be defined for each role.
Select the role for which a connection is to be created and enter the full path to the group.
As standard a search will be performed in groups found in <a href="#groupfilter">group filter</a>.
Other connections can however be searched in order to use the groups found there.
Select the connections to be searched from the list.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_roles.png" alt="ldap new connection roles"></div></div>
<div class="paragraph"><p>With the settings in the image above, all users in the nominated group will  be allocated to the <span class="guihint">Administrator</span> role,
as long as they are also synchronized by the <a href="#user_filter">user filter</a>.
As can be seen in the screenshot, your own configured roles can also be selected and connected with LDAP groups.</p></div>
</div>
<div class="sect2">
<h3 id="heading_other_attr">
<span class="hidden-anchor sr-only" id="other_attr"></span>3.3. Other attributes</h3>
<div class="paragraph"><p>For the synchronization of other user information, as a rule only the activation of the relevant plug-in under <span class="guihint">Attribute Sync Plugins</span> is required,
and possibly also the entry of the attribute which provides the information.
Below is a table of the plug-ins and the attribute used (if not manually set) and a short description.
Some of the attributes are also found in the <a href="user_interface.html#user_menu">User menu</a> of a user.</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 35%;">
<col style="width: 3.3333%;">
<col style="width: 3.3333%;">
<col style="width: 3.3333%;">
<col style="width: 55.0001%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Plug-in</th>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">possible values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Alias</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normally the userâ€™s first and last name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Authentication Expiration</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pwdlastset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interval</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When a user will be logged out or locked out.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Disable notifications</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>disable_notifications</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code>, <code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code> disables <strong>all</strong> notifications to the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Email address</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mail</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The userâ€™s email address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Mega menu icons</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icons_per_item</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>None</code>, <code>entry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display green icons by topic (<code>None</code>) or colored icons by each menu item (<code>entry</code>) in the mega menus.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Navigation bar icons</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nav_hide_icons_title</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>None</code>, <code>hide</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display only icons (<code>hide</code>) or icons with title (<code>None</code>) in the <a href="glossar.html#navigation_bar">navigation bar</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Pager</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mobile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A nominated telephone/pager contact number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Show more / Show less</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>show_mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default_show_less</code>, <code>default_show_more</code>, <code>enforce_show_more</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display less (<code>default_show_less</code>), more (<code>default_show_more</code>) or always all (<code>enforce_show_more</code>) in the user interface. For more information on Show less and Show more modes, see the <a href="intro_gui.html#show_less_more">Beginnerâ€™s Guide</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Sidebar position</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ui_sidebar_position</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>None</code>, <code>left</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display the <a href="glossar.html#sidebar">sidebar</a> on the right (<code>None</code>) or on the left (<code>left</code>) side.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Start URL to display in main frame</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>start_url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Examples: <code>view.py?view_name=allhosts</code> or <code>dashboard.py</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the start page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Temperature unit</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>temperature_unit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>celsius</code>, <code>fahrenheit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unit of temperature in Celsius or Fahrenheit for display in graphs and Perf-O-Meters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">User interface theme</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ui_theme</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>facelift</code>, <code>modern-dark</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The theme of the user interface: Dark (<code>modern-dark</code>) or Light (<code>facelift</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="guihint">Visibility of hosts/services</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>force_authuser</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code>, <code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display all hosts and services (<code>False</code>) or only those for which the user is assigned as contact (<code>True</code>).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_distr_wato">
<span class="hidden-anchor sr-only" id="distr_wato"></span>4. LDAP in distributed environments</h2>
<div class="sectionbody">
<div class="paragraph"><p>When configuring a <a href="distributed_monitoring.html">distributed monitoring</a> with a <a href="distributed_monitoring.html#distr_wato">centralized configuration</a> you can specify whether, and which LDAP connections should be synchronized from the remote site.
If not otherwise specified, the remote site itself will synchronize all users of the configured connection.
In this way changes will be automatically reflected on every site within the defined time frame and do not first need to be copied from the central to the remote site(s).
The synchronization can also be restricted to specific connections or completely disabled.
In the second case the users on the central site are retrieved from the LDAP connections and copied to the remote sites with an <a href="glossar.html#activate_changes">activate changes</a>.</p></div>
<div class="paragraph"><p>You can configure the settings in <span class="guihint">Setup &gt; General &gt; Distributed monitoring</span> in the <span class="guihint">Properties</span> of the connection.
Here is an example where the connection set up above is selected:</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_distributed_monitoring_sync_ldap.png" alt="ldap distributed monitoring sync ldap"></div></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_ssl">
<span class="hidden-anchor sr-only" id="ssl"></span>5. Securing LDAP with SSL</h2>
<div class="sectionbody">
<div class="paragraph"><p>In order to secure the LDAP connection with SSL, simply activate the <span class="guihint">Use SSL</span> checkbox in the connection data and match the <span class="guihint">TCP port</span> (usually <code>636</code> for SSL in LDAP).</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_new_connection_ldap_connection_ssl.png" alt="ldap new connection ldap connection ssl"></div></div>
<div class="paragraph"><p>If the LDAP server(s) use a certificate signed by a trustworthy certification authority, everything necessary to establish an encrypted connection is already done.</p></div>
<div class="paragraph"><p>If a self-signed certificate is to be used, the connection can only be established after the certificate has been imported into the certificate store.
Only then will it be classified as trustworthy and the connection established.</p></div>
<div class="paragraph"><p>In order to do so, simply go to <span class="guihint">Setup &gt; General &gt; Global settings &gt; Site management &gt; Trusted certificate authorities for SSL</span>.
Click <span class="guihint">Add new CA certificate or chain</span> and either paste in the content of your CRT or PEM file or choose <span class="guihint">Upload CRT/PEM File</span> and do just that.</p></div>
<div class="imageblock"><div class="content"><img src="../images/ldap_add_new_ca_certificate.png" alt="ldap add new ca certificate"></div></div>
</div>
</div>
<div class="sect1">
<h2 id="heading__error_diagnosis">
<span class="hidden-anchor sr-only" id="_error_diagnosis"></span>6. Error diagnosis</h2>
<div class="sectionbody">
<div class="paragraph"><p>An error diagnosis is implemented directly in the <a href="#config_test">configuration settings</a>.
Even after setup, it is possible to check here for the possible source of an error.
Error messages will additionally be written to the <code>web.log</code>.
These messages can likewise point to the source of an error:</p></div>
<div class="listingblock">
<div class="title">~/var/log/web.log</div>
<div class="content"><pre class="pygments highlight"><code><span></span>2020-09-19 16:03:17,155 [40] [cmk.web 31797] /ldaptest/check_mk/wato.py Internal error: Traceback (most recent call last):
  File "/omd/sites/ldaptest/share/check_mk/web/htdocs/wato.py", line 6563, in mode_edit_ldap_connection
    state, msg = test_func(connection, address)
  File "/omd/sites/ldaptest/share/check_mk/web/htdocs/wato.py", line 6506, in test_group_count
    connection.connect(enforce_new = True, enforce_server = address)
  File "/omd/sites/ldaptest/share/check_mk/web/plugins/userdb/ldap.py", line 274, in connect
    ('\n'.join(errors)))
MKLDAPException: LDAP connection failed:
ldap://myldap.mycompany.org: Can't contact LDAP server</code></pre></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading__files_and_directories">
<span class="hidden-anchor sr-only" id="_files_and_directories"></span>7. Files and directories</h2>
<div class="sectionbody"><table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">File path</th>
<th class="tableblock halign-left valign-top">Function</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/etc/check_mk/multisite.d/wato/user_connections.mk</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All LDAP connections configured in the Setup will be retained in this file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/etc/check_mk/multisite.d/wato/users.mk</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All users will be defined here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/var/log/web.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The log file in which connection errors are be recordedâ€‰â€”â€‰it is thus one of the first sources of information when problems occur.</p></td>
</tr>
</tbody>
</table></div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li>
<a href="#connect">2. Configuring an LDAP connection</a><ul class="sectlevel1">
<li><a href="#_connecting_to_the_server">2.1. Connecting to the server</a></li>
<li><a href="#user_filter">2.2. Defining users</a></li>
<li><a href="#groupfilter">2.3. Defining groups</a></li>
<li><a href="#config_test">2.4. Testing the configuration</a></li>
<li><a href="#_the_synchronization_interval">2.5. The synchronization interval</a></li>
</ul>
</li>
<li>
<a href="#_automatic_allocation_of_attributes">3. Automatic allocation of attributes</a><ul class="sectlevel1">
<li>
<a href="#contact_groups">3.1. Contact groups</a><ul class="sectlevel2">
<li><a href="#nested_groups">Nested groups</a></li>
<li><a href="#_groups_from_other_connections">Groups from other connections</a></li>
</ul>
</li>
<li><a href="#_roles">3.2. Roles</a></li>
<li><a href="#other_attr">3.3. Other attributes</a></li>
</ul>
</li>
<li><a href="#distr_wato">4. LDAP in distributed environments</a></li>
<li><a href="#ssl">5. Securing LDAP with SSL</a></li>
<li><a href="#_error_diagnosis">6. Error diagnosis</a></li>
<li><a href="#_files_and_directories">7. Files and directories</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
