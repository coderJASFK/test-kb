<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="No matter whether Raw or one of the commercial editions: updating Checkmk is as simple as possible. The principles are explained here.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Updates and Upgrades">
<meta name="og:description" content="No matter whether Raw or one of the commercial editions: updating Checkmk is as simple as possible. The principles are explained here.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Updates and Upgrades</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/de/update.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/en/update.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/en/update.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and derivatives</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation from Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation from AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Password store</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs for GUI extensions</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automated host creation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Rules</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Notifications</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Notifications via ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Notifications via Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Notifications via SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Monitoring log files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">Monitoring MSSQL with the legacy plug-in</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMware ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Monitoring Google Cloud Platform (GCP)</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">Monitoring OpenShift</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring with Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Measured values and graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Custom notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Overview of API resources</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">The Checkmk REST API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Developing extensions for Checkmk</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Writing agent-based check plug-ins</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">Writing SNMP-based check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Updates and Upgrades</h1>
<div class="details">
<span id="revdate">Last modified on 08-May-2024</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/common/en/update.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="cmk_versions.html">Checkmk versions</a>
<a href="cmc.html">The Checkmk micro core (CMC)</a>
<a href="cmc_migration.html">Migration to the CMC</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading__introduction">
<span class="hidden-anchor sr-only" id="_introduction"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>Updating Checkmk is a bit different than most other software packages that you may be familiar with.
Why is that?</p></div>
<div class="paragraph"><p>The reason is that Checkmk not only allows multiple independent <strong>sites</strong> to run on a single server,
but it also allows multiple <a href="cmk_versions.html">software versions</a> to be installed simultaneously.
With this system each site is assigned to an installed version of the software.
To illustrate, we can take the following situation on a fictional server:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update1.png" alt="update1" width="400"></div></div>
<div class="paragraph"><p>Here the site <code>mysite1</code> uses version <code>2.0.0p3.cee</code>, but the sites <code>mysite2</code> and <code>mysite3</code> use version <code>2.0.0p1.cre</code>.
Although Checkmk-Version <code>2.0.0p1.cfe</code> has been installed, it is currently not being used.</p></div>
<div class="paragraph"><p>This example makes it clear that an update does not simply mean the installation of a new Checkmk RPM/DEB package on a server.
An additional step is also required.
Let us take the following situation as an example:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update2.png" alt="update2" width="400"></div></div>
<div class="paragraph"><p>Here the site <code>mysite</code> is to be updated to the Checkmk-version <code>2.0.0p3.cee</code>.
The first step is to download and install the appropriate RPM/DEB-Packet.
This is performed exactly as with the <a href="install_packages.html">initial installation</a>.
At first the newly-installed version will not be used by any site, and it will look like this:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update3.png" alt="update3" width="400"></div></div>
<div class="paragraph"><p>The second step will now be to update the site from <code>2.0.0p1.cre</code> to the <code>2.0.0p3.cee</code>.
This is performed with the <code>omd update</code> command, which we will discuss in detail below:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update4.png" alt="update4" width="400"></div></div>
<div class="paragraph"><p>Following the update, the (likely) no longer required version <code>2.0.0p1.cre</code> can be deleted by uninstalling the appropriate package.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_before_update">
<span class="hidden-anchor sr-only" id="before_update"></span>2. Before the update</h2>
<div class="sectionbody">
<div class="paragraph"><p>If you are planning to update Checkmk from version <span class="new">2.2.0</span> to version <span class="new">2.3.0</span>, you should first read the <a href="update_major.html">Update to version 2.3.0</a> article, in which we have compiled the most important issues you should consider before and after such an update.</p></div>
<div class="paragraph"><p>However even if you have already installed a <span class="new">2.3.0</span> version and want to update to a new stable patch version of <span class="new">2.3.0</span>, the topics described in the following sections may still be relevant.</p></div>
<div class="sect2">
<h3 id="heading_update_major_version">
<span class="hidden-anchor sr-only" id="update_major_version"></span>2.1. Update to major versions</h3>
<div class="paragraph"><p>When updating to a higher major version, you must always update step-by-step through any available intermediate versions until the target version has been reached, and <em>not</em> just skip over any intermediate versions.
For example, if you want to update from version <span class="new">2.1.0</span> to version <span class="new">2.3.0</span>, first update to the intermediate version <span class="new">2.2.0</span>.
The reason for this procedure is simple: there are sometimes simply so many changes between two major versions that skipping versions can cause problems.</p></div>
<div class="paragraph"><p>The <code>omd update</code> command also allows an 'update' to a <em>lower</em> version.
This procedure is only intended for regressions.
After such an update in the reverse direction, many adjustments will be required to make the configuration and runtime environment compatible again — especially, but not only, in the case of an 'update' to a lower major version.
We therefore strongly advise against such a procedure — and will also no longer provide support in the case of an update to a lower version.</p></div>
</div>
<div class="sect2">
<h3 id="heading_incompatible_mkps">
<span class="hidden-anchor sr-only" id="incompatible_mkps"></span>2.2. Incompatible and obsolete MKPs</h3>
<div class="paragraph"><p>Your monitoring system can be extended quite easily and conveniently using the <a href="glossar.html#mkp">Checkmk extension packages (MKPs)</a>.
On the one hand, it is possible that some older MKPs are no longer being maintained and thus may no longer be compatible with newer versions of Checkmk.
On the other hand, we keep adding new plug-ins and functional extensions to Checkmk, which is why MKPs sometimes become obsolete.
The functionality of those plug-ins and extensions is simply provided by Checkmk itself as standard.</p></div>
<div class="paragraph"><p>For this reason, when preparing for an update it is strongly recommended that you review all installed MKPs.
This will prevent incompatible packages from interfering with the update, or resulting in duplicate or at least very similar services following the update.</p></div>
<div class="paragraph"><p>To do this, check your installed MKPs against our <a href="https://checkmk.com/integrations" target="_blank">Catalog of Check Plug-ins</a> and remove any packages containing functions that are now provided natively by Checkmk.
You can also use this opportunity to remove MKPs that may have only been installed for a test run.
A list can be found in the <span class="guihint">Setup</span> menu under <span class="guihint">Maintenance &gt; Extension packages</span>.
On the command line, you can display the installed extensions with the <code>mkp list</code> command.
Check the output of this command for extensions that are no longer needed or that you cannot even identify.</p></div>
<div class="paragraph"><p>Checkmk supports the installation of MKPs for a version newer than the currently running version in preparation for future updates.
When performing an update, the package for the lower Checkmk version is then disabled and the package for the higher version is enabled.
Details are explained in the <a href="mkps.html">article on using MKPs</a>.</p></div>
<div class="paragraph"><p><strong>Caution:</strong>
If you have made local changes to files that originally came from MKPs, repack the MKP after increasing the version number.
During an update, files that have been otherwise modified will be overwritten by those contained in the MKP.</p></div>
</div>
<div class="sect2">
<h3 id="heading_local_files">
<span class="hidden-anchor sr-only" id="local_files"></span>2.3. Local files</h3>
<div class="paragraph"><p>Local files allow you to customize and extend the functionality provided by Checkmk.
These files are located in the local part of the site directory structure, i.e. in <code>~/local</code>.
Local files can cause problems when updating, as they may no longer match the new Checkmk version.</p></div>
<div class="paragraph"><p>Since it is not possible for Checkmk to intercept and handle local customizations and any third-party extension during an update, you should check your Checkmk site before an update to see if and which local files you are using.</p></div>
<div class="paragraph"><p>Get an overview of the local files of your Checkmk site by executing the following command as the site user (where the <code>-L</code> option ensures that symbolic links are also followed):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>find<span class="tok-w"> </span>-L<span class="tok-w"> </span>~/local<span class="tok-w"> </span>-type<span class="tok-w"> </span>f</code></pre></div></div>
<div class="paragraph"><p>In a fresh installation of Checkmk, you will currently only see a file called <code>README.TXT</code> listed.
Anything beyond that should be at the top of your troubleshooting list in case you have problems updating.</p></div>
<div class="paragraph"><p>Ideally, local files are already fully packaged in <a href="#incompatible_mkps">MKPs</a>.
Use <code>mkp find</code> to identify unpackaged files.
For further details on creating packages, see our <a href="mkps.html#developers">article on Checkmk extension packages</a>.
Once packaged, each extension can be deactivated or reactivated as a complete element.</p></div>
</div>
<div class="sect2">
<h3 id="heading_backup">
<span class="hidden-anchor sr-only" id="backup"></span>2.4. Backup and test run</h3>
<div class="paragraph"><p>We don’t need to remind you of the importance of creating a backup immediately before any update, so that you don’t risk losing too much of your monitoring history in the event of a failure during the update.
What is relevant at this point is that a regular backup can also serve you well for test runs of a pending update.
This practice enables you to restore the backup under an alternative name — and then use the <code>newsite</code> site to test the update before it goes live:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>restore<span class="tok-w"> </span>newsite<span class="tok-w"> </span>/path/to/backup</code></pre></div></div>
<div class="paragraph"><p><strong>Alternatively</strong> you can also copy your site via <code>omd cp</code>.
For this, however, a live site must be stopped for a short time:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>stop<span class="tok-w"> </span>mysite<span class="tok-w"> </span><span class="tok-o">&amp;&amp;</span><span class="tok-w"> </span>omd<span class="tok-w"> </span>cp<span class="tok-w"> </span>mysite<span class="tok-w"> </span>newsite<span class="tok-w"> </span><span class="tok-o">&amp;&amp;</span><span class="tok-w"> </span>omd<span class="tok-w"> </span>start<span class="tok-w"> </span>mysite</code></pre></div></div>
<div class="paragraph"><p>Then run the update on this new, cloned site first, for example, to check that the local changes mentioned above have been made in the new environment.
If the tests with the cloned site were successful, you will usually want to delete or at least stop it <em>before</em> the actual update of the production site for space and performance reasons.</p></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>Since Checkmk <span class="new">2.3.0</span>, if an update fails, the configuration status prior to the update will be restored.
An update can fail due to an unexpected internal error, but also due to user input during the update process, for example by selecting the menu option <code>abort</code> or by pressing the key combination <code>CTRL+C</code>.
Restoring the configuration does not replace a complete backup, but in many cases helps to reduce downtimes.</p></div></td>
</tr></table></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_detailed">
<span class="hidden-anchor sr-only" id="detailed"></span>3. Updating Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__installing_new_versions">
<span class="hidden-anchor sr-only" id="_installing_new_versions"></span>3.1. Installing new versions</h3>
<div class="paragraph"><p>As described in the introduction, the first step with an update is the <a href="install_packages.html">installation</a> of the desired new <a href="cmk_versions.html">version</a> of Checkmk.
This is achieved in exactly the same way as with the initial installation — it will however proceed somewhat more quickly since most of the dependent packages have already been installed.
In the following example we are installing the package for Ubuntu 22.04 (Jammy Jellyfish):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>apt<span class="tok-w"> </span>install<span class="tok-w"> </span>/tmp/check-mk-enterprise-2.3.0p1_0.jammy_amd64.deb</code></pre></div></div>
<div class="paragraph"><p><strong>Note:</strong> When installing a local package via <code>apt install</code>, you have to state the pull path to the .deb file.</p></div>
<div class="paragraph"><p>A list of your installed Checkmk versions can be displayed at any time with the <code>omd versions</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>versions
<span class="tok-go">2.1.0p42.cre</span>
<span class="tok-go">2.2.0p22.cee</span>
<span class="tok-go">2.3.0p1.cee (default)</span></code></pre></div></div>
<div class="paragraph"><p>One of these listed versions is marked with <code>(default)</code>.
This default version will be used automatically when creating new sites, as long as no other version is specified with <code>omd -V myversion create mysite</code>.
The current default version can be queried with <code>omd version</code>, and it can be altered with <code>omd setversion</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>version
<span class="tok-go">OMD - Open Monitoring Distribution Version 2.3.0p1.cee</span>
<span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>setversion<span class="tok-w"> </span><span class="tok-m">2</span>.2.0p22.cee
<span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>version
<span class="tok-go">OMD - Open Monitoring Distribution Version 2.2.0p22.cre</span></code></pre></div></div>
<div class="paragraph"><p>The default version plays no role when managing <em>existing</em> sites.
The <code>omd</code> command always starts with the version appropriate to the site for which the command is called.</p></div>
<div class="paragraph"><p>A listing of the current sites and the versions they use is provided by the <code>omd sites</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>sites
<span class="tok-go">SITE             VERSION          COMMENTS</span>
<span class="tok-go">mysite           2.2.0p22.cee</span>
<span class="tok-go">test             2.3.0p1.cee      default version</span></code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading_execute">
<span class="hidden-anchor sr-only" id="execute"></span>3.2. Performing the update</h3>
<div class="paragraph"><p>Once the desired new version has been installed, the site can be updated.
No <code>root</code>-permissions are required for this.
The best way to do this is as a site user:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>su<span class="tok-w"> </span>mysite</code></pre></div></div>
<div class="paragraph"><p>Ensure that the site has been stopped:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>stop</code></pre></div></div>
<div class="paragraph"><p>The update — in effect switching to a different version — can now simply be performed with the <code>omd update</code> command:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>update</code></pre></div></div>
<div class="paragraph"><p>If more than one target version is available, a selection list will open:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_omd-update-2.png" alt="update omd update 2" width="55%"></div></div>
<div class="paragraph"><p>In the following dialog box, confirm the selected update to the new version:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_omd-update-3.png" alt="update omd update 3" width="55%"></div></div>
<div class="paragraph"><p>To be on the safe side, when you perform an <em>edition upgrade</em> from an Checkmk Raw to one of the commercial editions at the same time as the <em>version update</em>, you will be reminded of this fact again:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_raw_to_enterprise.png" alt="update raw to enterprise" width="55%"></div></div>
<div class="paragraph"><p>An important part of an update is the refreshing of the originally provided configuration files.
Here changes that had possibly been made to these files by the user will not simply be discarded, instead they will be merged.
This functions very much like version control systems which attempt to amalgamate changes made to a single file simultaneously by multiple developers.</p></div>
<div class="paragraph"><p>Occasionally — when the changes affect the same location in the file — that won’t function, and a <em>conflict</em> occurs.
How you can solve such conflicts will be explained <a href="#conflicts">later below</a>.</p></div>
<div class="paragraph"><p>The update provides a listing of all modified files and directories (shortened in the following example):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-go">2024-04-09 15:55:04 - Updating site 'mysite' from version 2.2.0p23.cee to 2.3.0p1.cee...</span>

<span class="tok-go"> * Installed dir  etc/default</span>
<span class="tok-go"> * Updated        etc/mk-livestatus/nagios.cfg</span>

<span class="tok-go">...</span>
<span class="tok-go"> * Vanished       etc/jmx4perl/config/websphere</span>
<span class="tok-go"> * Vanished       etc/jmx4perl/config</span>
<span class="tok-go">Creating temporary filesystem /omd/sites/mysite/tmp...OK</span>
<span class="tok-go">ATTENTION</span>
<span class="tok-go">  Some steps may take a long time depending on your installation.</span>
<span class="tok-go">  Please be patient.</span>

<span class="tok-go">Cleanup precompiled host and folder files</span>
<span class="tok-go">Verifying Checkmk configuration...</span>
<span class="tok-go"> 01/05 Rulesets...</span>
<span class="tok-go"> 02/05 UI extensions...</span>
<span class="tok-go"> 03/05 Agent based plugins...</span>
<span class="tok-go"> 04/05 Autochecks...</span>
<span class="tok-go"> 05/05 Deprecated .mk configuration of plugins...</span>
<span class="tok-go">Done (success)</span>

<span class="hll"><span class="tok-go">Completed verifying site configuration. Your site now has version 2.3.0p1.cee.</span>
</span><span class="tok-go">Executing update-pre-hooks script "01_init_state_creation.py"...OK</span>
<span class="tok-go">Executing update-pre-hooks script "01_mkp-disable-outdated"...OK</span>
<span class="tok-go">Executing update-pre-hooks script "02_cmk-update-config"...</span>
<span class="tok-go">-| ATTENTION</span>
<span class="tok-go">-|   Some steps may take a long time depending on your installation.</span>
<span class="tok-go">-|   Please be patient.</span>
<span class="tok-go">-|</span>
<span class="tok-go">-| Cleanup precompiled host and folder files</span>
<span class="tok-go">-| Verifying Checkmk configuration...</span>
<span class="tok-go">-|  01/05 Rulesets...</span>
<span class="tok-go">-|  02/05 UI extensions...</span>
<span class="tok-go">-|  03/05 Agent based plugins...</span>
<span class="tok-go">-|  04/05 Autochecks...</span>
<span class="tok-go">-|  05/05 Deprecated .mk configuration of plugins...</span>
<span class="tok-go">-| Done (success)</span>
<span class="tok-go">-|</span>
<span class="tok-go">-| Updating Checkmk configuration...</span>
<span class="tok-go">-|  01/25 Cleanup microcore config...</span>
<span class="tok-go">...</span>
<span class="tok-go">-|  25/25 Update core config...</span>
<span class="tok-go">-| Generating configuration for core (type cmc)...</span>
<span class="tok-go">-| Starting full compilation for all hosts Creating global helper config...OK</span>
<span class="tok-go">-|  Creating cmc protobuf configuration...OK</span>
<span class="tok-go">-| Done (success)</span>
<span class="tok-go">OK</span>
<span class="tok-go">Finished update.</span></code></pre></div></div>
<div class="paragraph"><p>If the <code>Completed verifying site configuration</code> line highlighted in the above output is displayed, the site has been switched to the new version:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>version
<span class="tok-go">OMD - Open Monitoring Distribution Version 2.3.0p1.cee</span></code></pre></div></div>
<div class="paragraph"><p>… and can then be started:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>omd<span class="tok-w"> </span>start</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading_incompatible">
<span class="hidden-anchor sr-only" id="incompatible"></span>3.3. Incompatible changes</h3>
<div class="paragraph"><p>Software development of course consists of changes.
Because we are always actively working to keep Checkmk modern, sometimes cutting dead weight and making changes that turn out to be <em>incompatible</em> is unavoidable.
That means that when updating it may <em>possibly</em> be necessary to adapt your configuration, or you should at least check it.</p></div>
<div class="paragraph"><p>A typical example of such a situation is with new check plug-ins which replace existing plug-ins.
If you use one of the affected plug-ins, a fresh <a href="glossar.html#service_discovery">service discovery</a> will be required on the affected host.</p></div>
<div class="paragraph"><p>An overview of all changes in Checkmk, including a search function, can be found online in our <a href="https://checkmk.com/werks" target="_blank">Werks</a>.</p></div>
<div class="paragraph"><p>Even more practical however is the search function built into Checkmk.
After you have logged in to the site, you will find a link highlighted in red at the top of the <span class="guihint">Help</span> menu with the number of incompatible <em>and</em> not yet confirmed changes:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_help_menu_incompatible_werks.png" alt="“Help menu with link to the list of incompatible changes.”" width="65%"></div></div>
<div class="paragraph"><p>Checkmk keeps track of incompatible changes that occurred during the update to the current version and asks you to review and then <em>acknowledge</em> these:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_incomp_werks.png" alt="“List of incompatible and open changes.”"></div></div>
<div class="paragraph"><p>If you open this page via the red link in the <span class="guihint">Help</span> menu, you will only see the 'Werk' (i.e. the changes) for which something needs to be done and which are therefore marked with <span class="guihint">Incompatible - TODO</span>.
You can call up each Werk individually, view it, confirm it with a mouse click — and thus successively reduce the number of open incompatible changes.
In addition, the <span class="guihint">Help &gt; Change log (works)</span> menu item gives you access to the complete history of changes in the current major version.</p></div>
</div>
<div class="sect2">
<h3 id="heading__the_update_in_detail">
<span class="hidden-anchor sr-only" id="_the_update_in_detail"></span>3.4. The update in detail</h3>
<div class="paragraph"><p>Are you curious about what exactly is happening ‘under the hood’ of an update?
Or have data conflicts appeared when <code>omd update</code> is running?
If so, here is some further reading.</p></div>
<div class="paragraph"><p>Three actions take place during <code>omd update</code>:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>The refreshing of the default files under <code>~/etc/</code> and <code>~/var/</code> – i.e., files created by <code>omd create</code>.</p></li>
<li><p>The switching of the active version to the target version by changing the symbolic link <code>version</code> which is found in the site directory.</p></li>
<li><p>Post-processing by various packages (e.g., Checkmk).
In particular, an <a href="glossar.html#activate_changes">activate changes</a> will be automatically executed in order to generate a valid configuration for the core.</p></li>
</ol></div>
<div class="sect3">
<h4 id="heading__updating_files_merging_changes">
<span class="hidden-anchor sr-only" id="_updating_files_merging_changes"></span>Updating files, merging changes</h4>
<div class="paragraph"><p>The first step is by far the most comprehensive.
Here Checkmk demonstrates a big advantage in comparison to the typical software installation — Checkmk helps you to adapt all of the standard configuration files to the prerequisites of the new version.
This resembles the procedure for updating a Linux distribution, but goes further in the implementation.
Checkmk can handle a multiplicity of situations, for example:</p></div>
<div class="ulist"><ul>
<li><p>The merging of file changes made by the update with any changes made locally by the user.</p></li>
<li><p>Files, directories and symbolic links which are obsolete in the new version, or which have been deleted by the user.</p></li>
<li><p>Changes to permissions.</p></li>
<li><p>Changes to a file type (a symbolic link derived from a file or directory, or vice versa).</p></li>
<li><p>Changes to the target of a symbolic link.</p></li>
</ul></div>
<div class="paragraph"><p>Checkmk always ensures that your local changes are retained, and that all of the changes required by the new version are simultaneously implemented.</p></div>
</div>
<div class="sect3">
<h4 id="heading_conflicts">
<span class="hidden-anchor sr-only" id="conflicts"></span>Merging and conflicts</h4>
<div class="paragraph"><p>If the new version requires changing a configuration file on which the user has also made changes, Checkmk automatically attempts to <em>merge</em> both sets of changes.
This is achieved using the same methods as used by version-control systems.</p></div>
<div class="paragraph"><p>The fewest problems are experienced when your and Checkmk’s changes have a clear physical separation in the text (at least a few lines apart).
The merge will then be effected automatically, and without needing the user’s intervention.</p></div>
<div class="paragraph"><p>If two changes ‘collide’ because they both affect the same location in the data,
Checkmk cannot and will not decide which of the changes is more important.
In such a situation you will be notified as a user and can interactively resolve the conflict:</p></div>
<div class="imageblock"><div class="content"><img src="../images/omd-update.png" alt="omd update" width="85%"></div></div>
<div class="paragraph"><p>In the situation shown above, you now have the following options:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 95%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>d</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This shows the differences between the new default version and your version of the file in the form of a ‘unified diff’ (<code>diff -u</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>y</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is similar to the above, but based on the preceding default version shows which changes you have made to the file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>n</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This third option in effect ‘closes the triangle’ by showing the changes which Checkmk intends making to the file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>e</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolve the conflict manually in an editor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>t</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By selecting <strong>t</strong>, your original file – without the already successfully-merged changes – will be opened in an editor. Now edit the file in order to bypass possible conflicts. Once the editor has been closed Checkmk will reattempt the merge.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>k</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Here you can decide whether to accept the data ‘as is’. The successfully inserted changes are retained. Apart from this the file remains as customized by the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>r</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With this you can fall back to the old version of your file, and go without Checkmk’s update for this file. Any customizations that may be required must be performed manually.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>i</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Install the new default file version: your changes in the old file will be lost.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>s</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you are uncertain, you can open a shell with <strong>s</strong>. You will find yourself in a directory containing the relevant file, and there can get a picture of the situation. Quit the shell with CTRL+D in order to proceed with the update.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>a</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abort the update. The site retains the old version and its previous configuration is restored. You can start a new update attempt at any time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="heading__further_conflict_situations">
<span class="hidden-anchor sr-only" id="_further_conflict_situations"></span>Further conflict situations</h4>
<div class="paragraph"><p>Alongside the content-merging of files there is a whole series of further situations in which Checkmk requires your decisions.
Some of these are very unusual situations, that nevertheless need to be handled correctly.
In these cases Checkmk will always give you the choice of keeping your version, or of adopting the new default version.
What is more, there is always the option of aborting an update, or of opening a shell.
Examples of such ‘difficult’ situations are:</p></div>
<div class="ulist"><ul>
<li><p>conflicting changes to file types (e.g., when a file is replaced by a symbolic link)</p></li>
<li><p>conflicting changes to file permissions</p></li>
<li><p>changed files that are not required by the new software version</p></li>
<li><p>files, directories or links created by a user, which conflict with a new version’s files/directories/links</p></li>
</ul></div>
</div>
<div class="sect3">
<h4 id="heading__explanation_of_the_output_during_an_update">
<span class="hidden-anchor sr-only" id="_explanation_of_the_output_during_an_update"></span>Explanation of the output during an update</h4>
<div class="paragraph"><p>The update procedure will always output a line of explanation when it makes a change to a file automatically.
The following situations are possible – files are referred to here, but this also applies analogously to links and directories:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A file has been changed with the new version. Since you have not made a change to the file, Checkmk simply installs the new default version of the file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merged</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A file has been changed with the new version, and at the same time the user has made other changes to the file. Both versions of the file can be merged into a single version without conflict.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A file has been changed in the new version, and at the same time the user has already made identical changes to the file. Checkmk must not perform any action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The new version includes a new configuration file which has just now been installed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identical new</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The new version includes a file, an identical copy of which the user has already installed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The new version has obsoleted a file (also applies to a link or a directory). The user has anyway already deleted it. No action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vanished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Another file is obsolete in the new Checkmk, and the user has neither deleted nor changed the existing version. Checkmk deletes this file automatically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unwanted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user has deleted a file which is normally present. Because the version in the new Checkmk has no changes from the last version of the file, Checkmk allows the file to be absent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user has already deleted a file, but in the new Checkmk this file contains changes from the previous version. Checkmk installs the new file, and logs a notification of this action to the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checkmk has updated a file’s permissions because different permissions are set in the new version.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="heading__updating_without_user_interaction">
<span class="hidden-anchor sr-only" id="_updating_without_user_interaction"></span>3.5. Updating without user interaction</h3>
<div class="paragraph"><p>Would you like to automate Checkmk’s software updates?
You may at first have difficulties with the interactive responses from <code>omd update</code>.
There is a simple solution for this scenario: the command has options that have been especially conceived for use in scripts:</p></div>
<div class="ulist"><ul>
<li><p>The options <code>-f</code> or <code>--force</code> directly following <code>omd</code> inhibit all types of "Are you sure…​ ?" questions.</p></li>
<li><p>The option <code>--conflict=</code> directly following <code>update</code> determines the desired behavior if a file conflict occurs.</p></li>
</ul></div>
<div class="paragraph"><p>Possible values for <code>--conflict=</code> are:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=keepold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the event of a conflict, the user’s own modified version of the file is retained. It is however possible that Checkmk may not be executable, and that manual rectification will be required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=install</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the event of a conflict, the new standard version of the file will be installed. With this, local changes to the file will be at least partly lost.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=abort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the event of a conflict the update is canceled and the previous configuration of the old version is restored,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--conflict=ask</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the standard procedure, so in this form the option is actually superfluous.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Below is an example of the complete command for an automated update to version <code>2.3.0p1.cee</code> of <code>mysite</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>stop<span class="tok-w"> </span>mysite<span class="tok-w"> </span><span class="tok-p">;</span><span class="tok-w"> </span>omd<span class="tok-w"> </span>-f<span class="tok-w"> </span>-V<span class="tok-w"> </span><span class="tok-m">2</span>.3.0p1.cee<span class="tok-w"> </span>update<span class="tok-w"> </span>--conflict<span class="tok-o">=</span>install<span class="tok-w"> </span>mysite<span class="tok-w"> </span><span class="tok-o">&amp;&amp;</span><span class="tok-w"> </span>omd<span class="tok-w"> </span>start<span class="tok-w"> </span>mysite</code></pre></div></div>
<div class="paragraph"><p>Through the <code>&amp;&amp;</code> before <code>omd start</code> a restarting of the site will be prevented if the <code>omd update</code> is aborted by an error.
Replace the <code>&amp;&amp;</code> with a semicolon (<code>;</code>) if a start should definitely be attempted even in such a situation.</p></div>
<div class="paragraph"><p>If you are certain that only a single Checkmk site is running on the server, the name to be used in a shell script can simply be trapped in a variable:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>sites<span class="tok-w"> </span>--bare
<span class="tok-go">mysite</span>
<span class="tok-gp">root@linux# SITENAME=$</span><span class="tok-o">(</span>omd<span class="tok-w"> </span>sites<span class="tok-w"> </span>--bare<span class="tok-o">)</span>
<span class="tok-gp">root@linux# echo $</span>SITENAME
<span class="tok-go">mysite</span></code></pre></div></div>
<div class="paragraph"><p>This enables the above line to be independent of the site’s name.
For example, a small shell script could look like this:</p></div>
<div class="listingblock">
<div class="title">update.sh</div>
<div class="content"><pre class="pygments highlight"><code><span></span>#!/bin/bash
SITE=$(omd sites --bare)
VERSION=2.3.0p1.cee

omd stop $SITE
omd -f -V $VERSION update --conflict=install $SITE  &amp;&amp; omd start $SITE</code></pre></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_updatedistributed">
<span class="hidden-anchor sr-only" id="updatedistributed"></span>4. Updating in distributed environments</h2>
<div class="sectionbody">
<div class="paragraph"><p>There are two different procedures for performing the update of all sites included in a <a href="distributed_monitoring.html">distributed monitoring</a> — i.e. the central site and any remote sites controlled by it.</p></div>
<div class="paragraph"><p><strong>Important:</strong>
Whichever approach you choose, as the very first step you should create <a href="backup.html">backups</a> of all sites in the environment.</p></div>
<div class="paragraph"><p>The preferred, safest procedure is to <em>update in one go</em>, in which you perform the following steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>First, stop all sites</p></li>
<li><p>Then perform the update for all sites</p></li>
<li><p>Restart the updated sites</p></li>
</ol></div>
<div class="paragraph"><p>If this is not possible — for example, because the environment is distributed across sites  time zones and with different supporting teams — a temporary mixed operation can be implemented under strict conditions.
The versions may differ by no more than one version for major updates, and always assumes a specific patch level for the current (existing) version.</p></div>
<div class="paragraph"><p>It is essential to follow exactly this sequence: First, update all remote sites, and only then update the central site.
This ensures that at no time does a configuration created by a newer Checkmk version end up in an older Checkmk version.</p></div>
<div class="paragraph"><p>The following table shows the possible combinations when updating from <span class="new">2.2.0</span> to <span class="new">2.3.0</span>:</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 17%;">
<col style="width: 17%;">
<col style="width: 17%;">
<col style="width: 49%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">Central site</th>
<th class="tableblock halign-left valign-top">Remote site</th>
<th class="tableblock halign-left valign-top">Permitted?</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.2.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.2.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State before updating all sites.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.2.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.3.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor functional losses are to be expected during the update, so only operate as a mixed environment for a short period of time. There is no danger for data and configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.3.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.2.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>No</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caution:</strong> With a <a href="distributed_monitoring.html#distr_wato">centralized configuration</a> there is a risk of irreparably damaging remote sites in this situation. Avoid this condition at all costs!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.3.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="new">2.3.0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State after updating all sites.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="heading__technical_background">
<span class="hidden-anchor sr-only" id="_technical_background"></span>4.1. Technical background</h3>
<div class="paragraph"><p>The technical reason for the updating approach as described above lies in the protocols used:
The central site accesses the data on the remote sites primarily by reading via <a href="glossar.html#livestatus">Livestatus</a>, and
in the case of a <a href="distributed_monitoring.html#distr_wato">central configuration</a>, with additional write access via a non-public HTTP API.
In both situations, it is the case that new versions introduce real supersets of the protocols used.
Thus, an older central site uses only a true subset of the functionality of the newer remote sites.
If the central site were updated first, it might issue API calls or Livestatus requests to the remote sites that these do not yet 'understand'.</p></div>
<div class="paragraph"><p>The maximum version difference of <em>one</em> major version again results from the fact that the removal of interfaces is accompanied by a <em>grace period</em> of exactly one version.
For example, the Web API was already no longer used internally by Checkmk <span class="new">2.1.0</span>, but its removal did not occur until version <span class="new">2.2.0</span>.
For this reason, a <span class="new">2.1.0</span> central site works with <span class="new">2.2.0</span> remote sites, but a <span class="new">2.0.0</span> central site will not work with <span class="new">2.2.0</span> remote sites.</p></div>
</div>
<div class="sect2">
<h3 id="heading__extension_packages_for_use_in_centralized_configurations">
<span class="hidden-anchor sr-only" id="_extension_packages_for_use_in_centralized_configurations"></span>4.2. Extension packages for use in centralized configurations</h3>
<div class="paragraph"><p>To facilitate such phased updates, Checkmk provides the ability to store extension packages with the same name in different versions — one matching the older central site, one matching the newer remote sites — for example.
The appropriate version will be activated for each site.
Details are described in the <a href="mkps.html">article on extension packages (MKPs)</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__cascading_livestatus">
<span class="hidden-anchor sr-only" id="_cascading_livestatus"></span>4.3. Cascading Livestatus</h3>
<div class="paragraph"><p>With the <a href="distributed_monitoring.html#viewer">viewer sites</a> extension, the viewer sites may be updated only after the sites whose data they display.
If a viewer site only shows data from remote sites, it may be updated as soon as these are updated.
If, on the other hand, it also shows data from the central site, the viewer’s update may only take place last.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_updatedocker">
<span class="hidden-anchor sr-only" id="updatedocker"></span>5. Updating a Docker container</h2>
<div class="sectionbody">
<div class="paragraph"><p>The update of a Checkmk site in the Docker container is very simple.
The following are the only requirements:</p></div>
<div class="ulist"><ul>
<li><p>The container is not deleted when the container is stopped — i.e., the <code>--rm</code> option was not used at startup.</p></li>
<li><p>You know the ID of the <em>volume</em> for the container.
Normally you should have given its storage a unique ID when you started the container.
If you are unsure of your volume’s ID, you can retrieve information about the container named <code>myContainer</code> with the <a href="managing_docker.html#commands">command</a> <code>docker inspect myContainer</code>.</p></li>
</ul></div>
<div class="paragraph"><p>If you followed the <a href="introduction_docker.html">installation guide for Checkmk in Docker</a> you should automatically meet the requirements.</p></div>
<div class="paragraph"><p>The update process is performed in 3 steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Stop the container.
If the Checkmk container is called <code>myContainer</code>, the command will be: <code>docker stop myContainer</code>.</p></li>
<li><p>Remove the container.
The command is: <code>docker rm myContainer</code>.</p></li>
<li><p>Start a new container with the command <code>docker container run</code> with the desired version, and mount the known volume.
If your volume is called <code>myVolume</code>, the corresponding option is <code>-v myVolume:/omd/sites</code>.
All options of the command can be found in <a href="introduction_docker.html">installation guide for Checkmk in Docker</a>.</p></li>
</ol></div>
<div class="paragraph"><p>Checkmk will then automatically do the rest — updating and starting your Checkmk site.
Afterwards you will be able to log in as usual.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_upgrade">
<span class="hidden-anchor sr-only" id="upgrade"></span>6. Upgrades</h2>
<div class="sectionbody">
<div class="paragraph"><p>Upgrades from <span class="image-inline"><img src="../images/icons/CRE.png" alt="CRE" width="20" title="Checkmk Raw"></span> <strong>Checkmk Raw</strong> to one of the commercial editions or from one of the commercial editions to another with greater functionality are straightforward at any time.
The procedure is essentially always the same:
Install the desired package and switch the relevant sites with <code>omd update</code>.
If you upgrade to one of the commercial editions, you must <a href="license.html">license</a> it after the upgrade.</p></div>
<div class="paragraph"><p>When upgrading a commercial version to one with a larger range of functions, the license must always be re-entered <em>after</em> the upgrade.
This also applies to cases in which your sales contact has assured you that you can already use your 'lower' Checkmk environment with the 'higher' license following a license upgrade:
When upgrading, the license state is reset (the history is kept), thus the license must be entered again.</p></div>
<div class="sect2">
<h3 id="heading_updateraw">
<span class="hidden-anchor sr-only" id="updateraw"></span>6.1. Upgrading Checkmk Raw to one of the commercial editions</h3>
<div class="paragraph"><p>This chapter primarily covers an upgrade to Checkmk Enterprise.
You can also upgrade to Checkmk Cloud in one step, but in this case, also refer to the notes in the following section.</p></div>
<div class="paragraph"><p>Since the commercial editions have quite a few additional modules and features, there are a few things to keep in mind following any upgrade.
The crucial point is that when creating <em>new</em> sites in Checkmk Raw or one of the commercial editions, <em>different default settings</em> are set.</p></div>
<div class="sect3">
<h4 id="heading__nagios_vs_the_cmc">
<span class="hidden-anchor sr-only" id="_nagios_vs_the_cmc"></span>Nagios vs. the CMC</h4>
<div class="paragraph"><p>Since Checkmk Raw only supports Nagios as its core, this is the default setting for sites created with Checkmk Raw.
This setup will be preserved when upgrading to <span class="image-inline"><img src="../images/icons/CSE.png" alt="CSE" width="20" title="Checkmk Enterprise"></span> <strong>Checkmk Enterprise</strong>.
This means that after an upgrade you will initially continue to run with Nagios as the core.
A migration to the CMC is done with <code>omd config</code> and is described in its own article <a href="cmc_migration.html">Migration to the CMC</a>.</p></div>
</div>
<div class="sect3">
<h4 id="heading__the_rrd_format">
<span class="hidden-anchor sr-only" id="_the_rrd_format"></span>The RRD format</h4>
<div class="paragraph"><p>The commercial editions support an alternative format for storing historical measurement data, which generates significantly less disk I/O.
This format is automatically preset for new commercial edition sites.
Again, Checkmk Raw sites are not automatically converted during an upgrade.
How to switch the data formats is described in a separate <a href="graphing.html#rrdformat">section</a> in the article on measured values and graphing.</p></div>
</div>
<div class="sect3">
<h4 id="heading__further_differences">
<span class="hidden-anchor sr-only" id="_further_differences"></span>Further differences</h4>
<div class="paragraph"><p>To take full advantage of Checkmk Enterprise, refer to the overview of differences between Checkmk Raw and <a href="cse.html">Checkmk Enterprise</a>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_cee2cce">
<span class="hidden-anchor sr-only" id="cee2cce"></span>6.2. Upgrading from Checkmk Enterprise to Checkmk Cloud</h3>
<div class="paragraph"><p>When it comes to the monitoring core and the notification system, there are no differences between Checkmk Enterprise and Checkmk Cloud.
Depending on the focus of the deployment, you will often use the larger feature set only when adding new hosts.
In some places, however, it is still advisable to review the existing settings.</p></div>
<div class="paragraph"><p>For a complete overview of the additional functionality, see the article on <a href="cce.html">Checkmk Cloud</a>.</p></div>
<div class="sect3">
<h4 id="heading__check_plug_ins_for_cloud_services">
<span class="hidden-anchor sr-only" id="_check_plug_ins_for_cloud_services"></span>Check plug-ins for cloud services</h4>
<div class="paragraph"><p>When you monitor <a href="monitoring_aws.html">Amazon Web Services (AWS)</a>, <a href="monitoring_azure.html">Microsoft Azure</a>, or <a href="monitoring_gcp.html">Google Cloud Platform (GCP)</a>, the services in existing hosts reserved for Checkmk Cloud will initially not be enabled.
You can enable these services in the <span class="guihint">XYZ services to monitor</span> rule (where XYZ is the name of the cloud platform).
Then perform a <a href="glossar.html#service_discovery">service discovery</a> on these hosts to find the services that will now be available.</p></div>
</div>
<div class="sect3">
<h4 id="heading__agent_controller_in_push_mode">
<span class="hidden-anchor sr-only" id="_agent_controller_in_push_mode"></span>Agent Controller in push mode</h4>
<div class="paragraph"><p>With the ability to directly monitor hosts that can reach the Checkmk server but are not accessible from it, the need for homegrown solutions with <a href="datasource_programs.html">data source programs</a> is eliminated in many cases.
You can <a href="agent_linux.html#changepush">switch these hosts to push mode</a> to enable a direct monitoring.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_editiondistributed">
<span class="hidden-anchor sr-only" id="editiondistributed"></span>6.3. Upgrading editions in distributed environments</h3>
<div class="paragraph"><p>Note that in distributed environments, the version update must always be performed first <em>before</em> the edition upgrade can follow.
A different sequence or a <em>crossgrade</em> (update of the version and upgrade of the edition in a single action) is not supported.
As a general procedure, we recommend the offline upgrade, where you can jump from any lower edition to any higher edition.</p></div>
<div class="paragraph"><p>For two frequently requested upgrade scenarios (<a href="#cre2cee_distributed">Checkmk Raw to Checkmk Enterprise</a> and <a href="#cee2cce_distributed">Checkmk Enterprise to Checkmk Cloud</a>), mixed operation is possible for a limited period of time.
While the offline upgrade works with all versions, the two online scenarios require at least Checkmk <span class="new">2.2.0</span>p23.</p></div>
<div class="sect3">
<h4 id="heading_offline_distributed">
<span class="hidden-anchor sr-only" id="offline_distributed"></span>Offline upgrade (all combinations)</h4>
<div class="paragraph"><p>As mixing editions is only possible in a few combinations, we generally recommend upgrading the edition <em>offline</em>.
To do this, proceed as follows:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Stop all sites.</p></li>
<li><p>Perform the upgrade of the central site.</p></li>
<li><p>If it is desired (and an abundance of notifications is not a problem), the central site can be restarted immediately.</p></li>
<li><p>Now it’s time to upgrade the remote sites. You can do this in parallel and restart the remote sites immediately following their upgrading.</p></li>
</ol></div>
<div class="paragraph"><p>Of course, you can wait until all sites have been upgraded before restarting them, which will somewhat reduce the number of notifications generated.</p></div>
</div>
<div class="sect3">
<h4 id="heading_cre2cee_distributed">
<span class="hidden-anchor sr-only" id="cre2cee_distributed"></span>Checkmk Raw to Checkmk Enterprise (online)</h4>
<div class="paragraph"><p>Checkmk only allows mixed operation of Checkmk Enterprise as a central site with Checkmk Raw or Checkmk Cloud as remote sites.
For the upgrade to Checkmk Enterprise, this means that the central site receives the update <em>first</em>.
During mixed operation, configuration should not be transferred from the central site to the remote sites that have not yet received an upgrade.
We therefore recommend preventing the configuration from being changed for the duration of mixed operation on the central site via <span class="guihint">Setup &gt; General &gt; Read only mode</span>.
Theoretically, this mixed operation of Checkmk Enterprise as the central site with Checkmk Raw as the remote site can last as long as required.</p></div>
<div class="paragraph"><p>This results in the following sequence for the upgrade:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Upgrade the central site to Checkmk Enterprise.</p></li>
<li><p>Enter and submit the subscription data as described in the <a href="license.html">licensing</a> article.
The services provided by all remote sites are treated equally when calculating the subscription,
i.e. during mixed operation, services of Checkmk Raw remote sites are already billed as Checkmk Enterprise.</p></li>
<li><p>Gradually update the remote sites.</p></li>
<li><p>If you have not deactivated the transfer of the configuration globally, but separately for each remote site, you can reactivate the transfer of the configuration for each remote site that has received the upgrade.</p></li>
<li><p>In distributed monitoring without <a href="glossar.html#distributed_setup">distributed setup</a>, the remote sites must also be licensed immediately after the upgrade.</p></li>
</ol></div>
<div class="paragraph"><p>After upgrading all sites, you can activate Checkmk Enterprise specific features.</p></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content">
<div class="paragraph"><p><strong>Why do we recommend not to synchronize the configuration during the upgrade?</strong></p></div>
<div class="paragraph"><p>Remote sites actually discard settings that they 'can’t do anything with'.
This does not break anything, but it can mess things up.
Let’s say you activate a Checkmk Enterprise specific setting — for example <a href="basics_downtimes.html#scheduled">regular scheduled downtimes</a> — before all remote sites have received the upgrade.
In this case, Checkmk Raw sites will discard the setting, which means that it will not be available even after the upgrade.
The setting will only be available once it has been changed again after the upgrade.</p></div>
<div class="paragraph"><p>If it is unavoidable not to synchronize the configuration during the upgrade, check the consistency of Checkmk Enterprise specific settings after the complete upgrade.</p></div>
</td>
</tr></table></div>
</div>
<div class="sect3">
<h4 id="heading_cee2cce_distributed">
<span class="hidden-anchor sr-only" id="cee2cce_distributed"></span>Checkmk Enterprise to Checkmk Cloud (online)</h4>
<div class="paragraph"><p>As already mentioned, Checkmk only allows mixed operation of Checkmk Enterprise as a central site with Checkmk Raw or Checkmk Cloud as remote sites.
For the upgrade to Checkmk Cloud, this means that the central site receives the update <em>last</em>.
The upgrade of the entire environment must be completed within 30 days.
During mixed operation, configuration can be transferred from the central site to the remote sites.</p></div>
<div class="paragraph"><p>This results in the following sequence for the upgrade:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Upgrade the remote sites to Checkmk Cloud.
<strong>Important:</strong> A mixed operation with Checkmk Enterprise as the central site is only possible in the 30-day 'Trial' license state.
Do not store any Checkmk Cloud subscription data yet!</p></li>
<li><p>Store the subscription data for Checkmk Cloud in the central site under Checkmk Enterprise.</p></li>
<li><p>Upgrade the central site to Checkmk Cloud.</p></li>
<li><p>In distributed monitoring without <a href="glossar.html#distributed_setup">distributed setup</a>, the remote sites must now also be licensed immediately after the upgrade.</p></li>
</ol></div>
<div class="paragraph"><p>If you want to upgrade directly from Checkmk Raw to Checkmk Cloud, you must upgrade the central site to Checkmk Enterprise as an intermediate step:
First upgrade the central site from Checkmk Raw to Checkmk Enterprise, followed by the upgrade of the remote sites directly from Checkmk Raw to Checkmk Cloud.
Finally, upgrade the central site from Checkmk Enterprise to Checkmk Cloud.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_down2cee">
<span class="hidden-anchor sr-only" id="down2cee"></span>7. Downgrades</h2>
<div class="sectionbody">
<div class="paragraph"><p>Downgrades between editions are also possible.
A downgrade is a more complex and thus time-consuming action, since some features may not work in the target edition,
and will need to be manually deactivated and replaced by a possibly less efficient or less convenient alternative.</p></div>
<div class="paragraph"><p>The actual downgrade <strong>must</strong> be carried out with the command <code>omd update</code> - just like an update or upgrade.
The details can be found in the section <a href="#execute">Performing the update</a>.</p></div>
<div class="paragraph"><p>If you try to downgrade from Checkmk Cloud to Checkmk Enterprise, for example, Checkmk will verify whether this is actually your intention:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_downgrade_ce_se.png" alt="update downgrade ce se" width="30%"></div></div>
<div class="paragraph"><p>As soon as you confirm this dialog with <span class="guihint">yes</span>, the downgrade starts immediately.
Please find out below what you need to do <strong>before</strong> this downgrade.</p></div>
<div class="paragraph"><p>Downgrades other than those described below are not intended and are not supported by us, for example a downgrade of Checkmk MSP.
Instead, we recommend starting with a fresh site in such a case.</p></div>
<div class="sect2">
<h3 id="heading_cce2cee">
<span class="hidden-anchor sr-only" id="cce2cee"></span>7.1. Downgrading from Checkmk Cloud to Checkmk Enterprise</h3>
<div class="paragraph"><p>In preparation for the downgrade from Checkmk Cloud to Checkmk Enterprise, you must make at least the following changes:</p></div>
<div class="ulist"><ul>
<li><p>Set hosts that operate in push mode to <a href="agent_linux.html#changepush">pull mode</a>.
Otherwise Checkmk will not receive monitoring data from them and their associated hosts will usually become <a href="monitoring_basics.html#stale"><em>stale</em></a>.</p></li>
<li><p>Reconfigure the agent packages for folders to stop <a href="hosts_autoregister.html">auto-registration</a>.
Then rebake the agent packages.</p></li>
</ul></div>
<div class="paragraph"><p>Furthermore, some cloud services and dashboards will no longer be available.
As a result, you will need to clean up <a href="wato_services.html#vanished">vanished services</a>.</p></div>
<div class="paragraph"><p>If under Checkmk Cloud you used the <a href="grafana.html">Grafana plug-in</a> from the 'Grafana Store', you will need to replace it with one installed from the zip archive.</p></div>
<div class="paragraph"><p>An overview of the differences between Checkmk Cloud and Checkmk Enterprise is provided by the <a href="cce.html">Checkmk Cloud article</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_cee2cre">
<span class="hidden-anchor sr-only" id="cee2cre"></span>7.2. Downgrading from Checkmk Enterprise to Checkmk Raw</h3>
<div class="paragraph"><p>In preparation for downgrading from Checkmk Enterprise to Checkmk Raw, you will need to make at least the following changes:</p></div>
<div class="ulist"><ul>
<li><p>Change the RRD database format with the <span class="guihint">Configuration of RRD databases of hosts</span> rule to <span class="guihint">Multiple RRDs per host/service</span>.
Besides slight performance disadvantages, it should be noted here that conversion of existing data is not included, so historical monitoring data will no longer be visible.</p></li>
<li><p>Switch the monitoring core from CMC to Nagios — in the first place this change is likely to result in performance disadvantages.</p></li>
</ul></div>
<div class="paragraph"><p>In addition, some dashboards, graph settings, notification plug-ins and special agents are no longer available.
With the <a href="cse.html">Checkmk Enterprise article</a> you can determine how much Checkmk Enterprise functionality will be lost in the event of a downgrade to Checkmk Raw and where you may need to make further adjustments.</p></div>
</div>
<div class="sect2">
<h3 id="heading_editiondistributed_down">
<span class="hidden-anchor sr-only" id="editiondistributed_down"></span>7.3. Edition downgrades in distributed environments</h3>
<div class="paragraph"><p>The downgrade scenarios presented in the two previous sections can also be carried out in distributed environments.
Note that in distributed environments, the version update must always be performed first <em>before</em> the edition downgrade can follow.
A different sequence or a <em>crossgrade</em> (update of the version and downgrade of the edition in a single action) is not supported.</p></div>
<div class="paragraph"><p>There is no downgrade scenario in which Checkmk supports a mixed operation between differing editions.
For this reason, we strongly recommend that you perform the edition downgrade <em>offline</em>.
To do this, proceed as follows:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Stop all sites.</p></li>
<li><p>Perform the downgrade of the central site.</p></li>
<li><p>If it is desired (and an abundance of notifications is not a problem), the central site can be restarted immediately.</p></li>
<li><p>Now it’s time to downgrade the remote sites.
You can do this in parallel and restart the remote sites immediately following their downgrading.</p></li>
</ol></div>
<div class="paragraph"><p>Of course, you can wait until all sites have been downgraded before restarting them, which will somewhat reduce the number of notifications generated.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_uninstall">
<span class="hidden-anchor sr-only" id="uninstall"></span>8. Uninstalling Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading__overview">
<span class="hidden-anchor sr-only" id="_overview"></span>8.1. Overview</h3>
<div class="paragraph"><p>The uninstallation of no longer required Checkmk versions is performed using the operating system’s package manager.
To do this, enter the installed package’s name – <em>not</em> the file name of the original RPM/DEB file.<br>
<strong>Important:</strong> Only delete Checkmk versions that are no longer being used by any site!</p></div>
<div class="paragraph"><p>Checkmk sites that are no longer required can simply be removed with <code>omd rm</code> (thereby deleting all data as well!):</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>rm<span class="tok-w"> </span>mysite</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__sles_redhat_centos">
<span class="hidden-anchor sr-only" id="_sles_redhat_centos"></span>8.2. SLES, RedHat, CentOS</h3>
<div class="paragraph"><p>Here is how to identify which Checkmk packages are being used in RPM-based systems:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>rpm<span class="tok-w"> </span>-qa<span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>grep<span class="tok-w"> </span>check-mk
<span class="tok-go">check-mk-enterprise-2.3.0p1-el9-38.x86_64.rpm</span>
<span class="tok-go">check-mk-raw-2.2.0p25-el9-38.x86_64.rpm</span>
<span class="tok-go">check-mk-raw-2.1.0p34-el8-38.x86_64.rpm</span></code></pre></div></div>
<div class="paragraph"><p>The deletion is performed with <code>rpm -e</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>rpm<span class="tok-w"> </span>-e<span class="tok-w"> </span>check-mk-raw-2.1.0p34-el8-38.x86_64.rpm</code></pre></div></div>
</div>
<div class="sect2">
<h3 id="heading__debian_ubuntu">
<span class="hidden-anchor sr-only" id="_debian_ubuntu"></span>8.3. Debian, Ubuntu</h3>
<div class="paragraph"><p>Use the below to identify which packets are installed:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>dpkg<span class="tok-w"> </span>-l<span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>grep<span class="tok-w"> </span>check-mk
<span class="tok-go">ii  check-mk-enterprise-2.3.0p1  0.jammy  amd64  Checkmk - Best-in-class infrastructure &amp; application monitoring</span>
<span class="tok-go">ii  check-mk-raw-2.2.0p25        0.jammy  amd64  Checkmk - Best-in-class infrastructure &amp; application monitoring</span>
<span class="tok-go">ii  check-mk-raw-2.1.0p34        0.jammy  amd64  Checkmk - Best-in-class infrastructure &amp; application monitoring</span></code></pre></div></div>
<div class="paragraph"><p>The uninstallation is performed with <code>dpkg --purge</code>:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>dpkg<span class="tok-w"> </span>--purge<span class="tok-w"> </span>check-mk-raw-2.1.0p34
<span class="tok-gp tok-gp-VirtualEnv">(Reading database ... 567850 files and directories currently installed.)</span>
<span class="tok-go">Removing check-mk-raw-2.1.0p34 (0.jammy) ...</span>
<span class="tok-go">...</span></code></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_diagnose">
<span class="hidden-anchor sr-only" id="diagnose"></span>9. Fault Diagnosis</h2>
<div class="sectionbody">
<div class="paragraph"><p>If an error occurs when updating Checkmk, it is usually due to one of the following three causes, which have already been mentioned in the previous chapters:</p></div>
<div class="ulist"><ul>
<li><p>The manual intervention required by an <a href="#incompatible">incompatible change</a> has not been performed.</p></li>
<li><p>You have installed an <a href="#incompatible_mkps">incompatible extension package (MKP)</a>.</p></li>
<li><p>There are incompatible scripts in the <a href="#local_files">local files</a> of the site directory structure.</p></li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_files">
<span class="hidden-anchor sr-only" id="files"></span>10. Files and directories</h2>
<div class="sectionbody">
<div class="paragraph"><p>The files and directories relevant to this article can be found here.
As always, paths that do not begin with <code>/</code> apply after the site’s home directory (<code>/omd/sites/mysite</code>).</p></div>
<table class="table-responsive table-bordered table tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead><tr>
<th class="tableblock halign-left valign-top">File path</th>
<th class="tableblock halign-left valign-top">Function</th>
</tr></thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbolic link to the installation of the Checkmk version used by this site.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/omd/versions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In this directory a subdirectory exists for every installed Checkmk version. The files belonging to <code>root</code> and are never changed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/omd/sites</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In this directory, for every site there is a home directory containing its configuration files and variable data. This data belongs to the site’s user, and can be changed by configuration and operations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/bin/omd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Management command for Checkmk sites. This is a symbolic link to the default version’s <code>bin</code>-directory. When a particular site is accessed the <code>omd</code>-command substitutes itself with that of the appropriate version.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li>
<a href="#before_update">2. Before the update</a><ul class="sectlevel1">
<li><a href="#update_major_version">2.1. Update to major versions</a></li>
<li><a href="#incompatible_mkps">2.2. Incompatible and obsolete MKPs</a></li>
<li><a href="#local_files">2.3. Local files</a></li>
<li><a href="#backup">2.4. Backup and test run</a></li>
</ul>
</li>
<li>
<a href="#detailed">3. Updating Checkmk</a><ul class="sectlevel1">
<li><a href="#_installing_new_versions">3.1. Installing new versions</a></li>
<li><a href="#execute">3.2. Performing the update</a></li>
<li><a href="#incompatible">3.3. Incompatible changes</a></li>
<li>
<a href="#_the_update_in_detail">3.4. The update in detail</a><ul class="sectlevel2">
<li><a href="#_updating_files_merging_changes">Updating files, merging changes</a></li>
<li><a href="#conflicts">Merging and conflicts</a></li>
<li><a href="#_further_conflict_situations">Further conflict situations</a></li>
<li><a href="#_explanation_of_the_output_during_an_update">Explanation of the output during an update</a></li>
</ul>
</li>
<li><a href="#_updating_without_user_interaction">3.5. Updating without user interaction</a></li>
</ul>
</li>
<li>
<a href="#updatedistributed">4. Updating in distributed environments</a><ul class="sectlevel1">
<li><a href="#_technical_background">4.1. Technical background</a></li>
<li><a href="#_extension_packages_for_use_in_centralized_configurations">4.2. Extension packages for use in centralized configurations</a></li>
<li><a href="#_cascading_livestatus">4.3. Cascading Livestatus</a></li>
</ul>
</li>
<li><a href="#updatedocker">5. Updating a Docker container</a></li>
<li>
<a href="#upgrade">6. Upgrades</a><ul class="sectlevel1">
<li>
<a href="#updateraw">6.1. Upgrading Checkmk Raw to one of the commercial editions</a><ul class="sectlevel2">
<li><a href="#_nagios_vs_the_cmc">Nagios vs. the CMC</a></li>
<li><a href="#_the_rrd_format">The RRD format</a></li>
<li><a href="#_further_differences">Further differences</a></li>
</ul>
</li>
<li>
<a href="#cee2cce">6.2. Upgrading from Checkmk Enterprise to Checkmk Cloud</a><ul class="sectlevel2">
<li><a href="#_check_plug_ins_for_cloud_services">Check plug-ins for cloud services</a></li>
<li><a href="#_agent_controller_in_push_mode">Agent Controller in push mode</a></li>
</ul>
</li>
<li>
<a href="#editiondistributed">6.3. Upgrading editions in distributed environments</a><ul class="sectlevel2">
<li><a href="#offline_distributed">Offline upgrade (all combinations)</a></li>
<li><a href="#cre2cee_distributed">Checkmk Raw to Checkmk Enterprise (online)</a></li>
<li><a href="#cee2cce_distributed">Checkmk Enterprise to Checkmk Cloud (online)</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#down2cee">7. Downgrades</a><ul class="sectlevel1">
<li><a href="#cce2cee">7.1. Downgrading from Checkmk Cloud to Checkmk Enterprise</a></li>
<li><a href="#cee2cre">7.2. Downgrading from Checkmk Enterprise to Checkmk Raw</a></li>
<li><a href="#editiondistributed_down">7.3. Edition downgrades in distributed environments</a></li>
</ul>
</li>
<li>
<a href="#uninstall">8. Uninstalling Checkmk</a><ul class="sectlevel1">
<li><a href="#_overview">8.1. Overview</a></li>
<li><a href="#_sles_redhat_centos">8.2. SLES, RedHat, CentOS</a></li>
<li><a href="#_debian_ubuntu">8.3. Debian, Ubuntu</a></li>
</ul>
</li>
<li><a href="#diagnose">9. Fault Diagnosis</a></li>
<li><a href="#files">10. Files and directories</a></li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
