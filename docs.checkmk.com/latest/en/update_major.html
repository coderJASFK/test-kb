<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<link rel="icon" href="/favicon.png">
<meta name="description" content="In this article you will learn what to consider when updating from Checkmk version 2.2.0 to 2.3.0.">
<meta name="og:locale" content="en">
<meta name="og:site_name" content="Checkmk Docs">
<meta name="og:title" content="Update to version 2.3.0">
<meta name="og:description" content="In this article you will learn what to consider when updating from Checkmk version 2.2.0 to 2.3.0.">
<meta name="og:image" content="https://docs.checkmk.com/assets/images/share_image.png">
<meta name="twitter:site" content="@checkmk">
<meta name="twitter:creator" content="@checkmk">
<title>Update to version 2.3.0</title>
<link rel="stylesheet" href="../../assets/css/checkmk.css?id=4473d2acbb1ea6136428">
<link rel="stylesheet" href="../../assets/css/pygments-monokai.css">
<link rel="stylesheet" href="../../assets/css/addons.css">
<link rel="stylesheet" href="../../assets/css/SourceCodePro.css">
<link rel="search" href="./opensearch.xml" type="application/opensearchdescription+xml" title="Search docs.checkmk.com">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJ3VGL8');</script>
<!-- End Google Tag Manager --><style>
#staticinfo { font-style: italic; }
</style>
</head>
<body class="article toc2 toc-right">
<!-- Cookie Consent (GDPR Compliance) -->

<!-- End Cookie Consent (GDPR Compliance) -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJ3VGL8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><div class="header-top">
<div class="header-top__left">
<a class="header-top__logo d-none d-xl-inline-block" href="/latest/en"><img src="../../assets/images/docs_logo.png" alt="Checkmk"></a><a class="header-top__icon d-inline-block d-xl-none" href="/latest/en"><img src="../../assets/images/logo_icon.svg" alt="Checkmk"></a>
</div>
<div class="header-top__center">
<input type="text" class="header-top__search" placeholder="Search the checkmk docs"><div class="header-top__search__results"></div>
</div>
<div class="header-top__right d-block">
<button class="header-top__search__toggle d-inline-block d-md-none"><img class="header-top__search__toggle__icon" src="../../assets/images/search.svg" alt="Search"></button><div class="dropdown dropdown__language">
                    <button class="btn dropdown-toggle" type="button" id="languageMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">en</button>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="languageMenuButton"><a class="dropdown-item" href="../../latest/de/update_major.html">Deutsch</a></div>
</div>
<div class="dropdown dropdown__branch">
                        <button class="btn dropdown-toggle" type="button" id="branchMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">latest (2.3.0)</button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="branchMenuButton">
<a class="dropdown-item" href="../../2.1.0/en/update_major.html">2.1.0</a><a class="dropdown-item" href="../../2.2.0/en/update_major.html">2.2.0</a>
</div>
</div>
<a class="header-top__back d-none d-lg-inline-block" href="https://checkmk.com">to checkmk.com</a><button class="header-top__toggle d-inline-block d-lg-none"><span class="header-top__toggle__icon"></span></button>
</div>
</div>
<aside><div class="main-nav">
<div class="main-nav__content"><div id="content">
<div class="sect1">
<h2 id="_welcome_to_checkmk">
<a class="anchor" href="#_welcome_to_checkmk"></a>1. Welcome to Checkmk</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="welcome.html">Welcome to the Checkmk User Guide</a></p>
</li>
<li>
<p><a href="release_notes.html">Release notes</a></p>
</li>
<li>
<p><a href="glossar.html">Glossary</a></p>
</li>
<li>
<p><a href="search.html">Searching docs.checkmk.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">
<a class="anchor" href="#_beginners_guide"></a>2. Beginner’s Guide</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="intro_setup.html">Setting up Checkmk</a></p>
</li>
<li>
<p><a href="intro_gui.html">The Checkmk user interface</a></p>
</li>
<li>
<p><a href="intro_setup_monitor.html">Setting up monitoring</a></p>
</li>
<li>
<p><a href="intro_tools.html">The monitoring tools</a></p>
</li>
<li>
<p><a href="intro_monitor.html">Checkmk in monitoring</a></p>
</li>
<li>
<p><a href="intro_finetune.html">Fine-tuning the monitoring</a></p>
</li>
<li>
<p><a href="intro_users.html">Working with multiple users</a></p>
</li>
<li>
<p><a href="intro_notifications.html">Switching on notifications</a></p>
</li>
<li>
<p><a href="intro_extend.html">Extending the monitoring system further</a></p>
</li>
<li>
<p><a href="intro_bestpractise.html">Best practices, tips &amp; tricks</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">
<a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="install_packages.html">Basic information on the installation of Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_server_and_vms">
<a class="anchor" href="#_server_and_vms"></a>3.1. Server and VMs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_packages_debian.html">Installation on Debian and Ubuntu</a></p>
</li>
<li>
<p><a href="install_packages_redhat.html">Installation on Red Hat and derivatives</a></p>
</li>
<li>
<p><a href="install_packages_sles.html">Installation on SUSE Linux Enterprise Server</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_appliance_container_cloud">
<a class="anchor" href="#_appliance_container_cloud"></a>3.2. Appliance, container, cloud</h3>
<div class="ulist">
<ul>
<li>
<p><a href="install_appliance_cmk.html">Installation of Checkmk in the appliance</a></p>
</li>
<li>
<p><a href="introduction_docker.html">Installation as a Docker container</a></p>
</li>
<li>
<p><a href="install_azure.html">Installation from Azure Marketplace</a></p>
</li>
<li>
<p><a href="install_aws.html">Installation from AWS Marketplace</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_updates">
<a class="anchor" href="#_updates"></a>3.3. Updates</h3>
<div class="ulist">
<ul>
<li>
<p><a href="update.html">Updates and Upgrades</a></p>
</li>
<li>
<p><a href="update_major.html">Update to version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="update_matrix.html">Update matrix for version <span class="new">2.3.0</span></a></p>
</li>
<li>
<p><a href="release_upgrade.html">Linux upgrade on the Checkmk server</a></p>
</li>
<li>
<p><a href="cmk_versions.html">Checkmk versions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration_of_checkmk">
<a class="anchor" href="#_administration_of_checkmk"></a>4. Administration of Checkmk</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">
<a class="anchor" href="#_server"></a>4.1. Server</h3>
<div class="ulist">
<ul>
<li>
<p><a href="saml.html">Authentication with SAML</a></p>
</li>
<li>
<p><a href="kerberos.html">Single sign-on with Kerberos</a></p>
</li>
<li>
<p><a href="managing_docker.html">Checkmk server in a Docker container</a></p>
</li>
<li>
<p><a href="security.html">Security</a></p>
</li>
<li>
<p><a href="ports.html">Ports</a></p>
</li>
<li>
<p><a href="omd_https.html">Securing the web interface with HTTPS</a></p>
</li>
<li>
<p><a href="support_diagnostics.html">Support diagnostics</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sites">
<a class="anchor" href="#_sites"></a>4.2. Sites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="omd_basics.html">Site administration with omd</a></p>
</li>
<li>
<p><a href="cmk_commandline.html">Checkmk on the command line</a></p>
</li>
<li>
<p><a href="license.html">Managing licenses</a></p>
</li>
<li>
<p><a href="distributed_monitoring.html">Distributed monitoring</a></p>
</li>
<li>
<p><a href="backup.html">Backups</a></p>
</li>
<li>
<p><a href="password_store.html">Password store</a></p>
</li>
<li>
<p><a href="analyze_configuration.html">Analyzing the Checkmk site configuration</a></p>
</li>
<li>
<p><a href="mkps.html">Checkmk extension packages (MKPs)</a></p>
</li>
<li>
<p><a href="mkp_viewables.html">MKPs for GUI extensions</a></p>
</li>
<li>
<p><a href="simulation_mode.html">Simulation mode</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">
<a class="anchor" href="#_configuration"></a>5. Configuration</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato.html">Configuring Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hosts">
<a class="anchor" href="#_hosts"></a>5.1. Hosts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="hosts_setup.html">Host administration</a></p>
</li>
<li>
<p><a href="hosts_structure.html">Host structuring</a></p>
</li>
<li>
<p><a href="host_tags.html">Host tags</a></p>
</li>
<li>
<p><a href="dcd.html">Dynamic host configuration</a></p>
</li>
<li>
<p><a href="hosts_autoregister.html">Automated host creation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_services">
<a class="anchor" href="#_services"></a>5.2. Services</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_services.html">Understanding and configuring services</a></p>
</li>
<li>
<p><a href="clustered_services.html">Monitoring cluster services</a></p>
</li>
<li>
<p><a href="piggyback.html">The piggyback mechanism</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rules">
<a class="anchor" href="#_rules"></a>5.3. Rules</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_rules.html">Rules</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_configurations">
<a class="anchor" href="#_supporting_configurations"></a>5.4. Supporting configurations</h3>
<div class="ulist">
<ul>
<li>
<p><a href="timeperiods.html">Time periods</a></p>
</li>
<li>
<p><a href="labels.html">Labels</a></p>
</li>
<li>
<p><a href="regexes.html">Regular expressions in Checkmk</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_users_and_permissions">
<a class="anchor" href="#_users_and_permissions"></a>5.5. Users and permissions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="wato_user.html">Users, roles and permissions</a></p>
</li>
<li>
<p><a href="ldap.html">User management with LDAP/Active Directory</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notifications">
<a class="anchor" href="#_notifications"></a>5.6. Notifications</h3>
<div class="ulist">
<ul>
<li>
<p><a href="notifications.html">Notifications</a></p>
</li>
<li>
<p><a href="notifications_webex.html">Notifications via Cisco Webex Teams</a></p>
</li>
<li>
<p><a href="notifications_ilert.html">Notifications via ilert</a></p>
</li>
<li>
<p><a href="notifications_jira.html">Notifications via Jira</a></p>
</li>
<li>
<p><a href="notifications_mattermost.html">Notifications via Mattermost</a></p>
</li>
<li>
<p><a href="notifications_teams.html">Notifications via Microsoft Teams</a></p>
</li>
<li>
<p><a href="notifications_pagerduty.html">Notifications via PagerDuty</a></p>
</li>
<li>
<p><a href="notifications_pushover.html">Notifications via Pushover</a></p>
</li>
<li>
<p><a href="notifications_opsgenie.html">Notifications via Opsgenie</a></p>
</li>
<li>
<p><a href="notifications_servicenow.html">Notifications via ServiceNow</a></p>
</li>
<li>
<p><a href="notifications_signl4.html">Notifications via SIGNL4</a></p>
</li>
<li>
<p><a href="notifications_slack.html">Notifications via Slack</a></p>
</li>
<li>
<p><a href="notifications_splunkoncall.html">Notifications via Splunk On-Call</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_events">
<a class="anchor" href="#_events"></a>5.7. Events</h3>
<div class="ulist">
<ul>
<li>
<p><a href="ec.html">The Event Console</a></p>
</li>
<li>
<p><a href="alert_handlers.html">Alert handlers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_systems">
<a class="anchor" href="#_monitoring_systems"></a>6. Monitoring systems</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="wato_monitoringagents.html">Monitoring agents</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_checkmk_agents_and_snmp">
<a class="anchor" href="#_checkmk_agents_and_snmp"></a>6.1. Checkmk agents and SNMP</h3>
<div class="ulist">
<ul>
<li>
<p><a href="agent_deployment.html">Automatic agent updates</a></p>
</li>
<li>
<p><a href="agent_linux.html">Monitoring Linux</a></p>
</li>
<li>
<p><a href="agent_linux_legacy.html">Monitoring Linux in legacy mode</a></p>
</li>
<li>
<p><a href="agent_windows.html">Monitoring Windows</a></p>
</li>
<li>
<p><a href="agent_freebsd.html">Monitoring FreeBSD</a></p>
</li>
<li>
<p><a href="snmp.html">Monitoring via SNMP</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_agent_extensions">
<a class="anchor" href="#_agent_extensions"></a>6.2. Agent extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="inventory.html">The HW/SW inventory</a></p>
</li>
<li>
<p><a href="mk_filestats.html">Monitoring files</a></p>
</li>
<li>
<p><a href="monitoring_logfiles.html">Monitoring log files</a></p>
</li>
<li>
<p><a href="monitoring_oracle.html">Monitoring Oracle databases</a></p>
</li>
<li>
<p><a href="monitoring_mysql.html">Monitoring MySQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql.html">Monitoring MSSQL</a></p>
</li>
<li>
<p><a href="monitoring_mssql_legacy.html">Monitoring MSSQL with the legacy plug-in</a></p>
</li>
<li>
<p><a href="monitoring_jobs.html">Monitoring time-based processes (Cronjobs)</a></p>
</li>
<li>
<p><a href="spool_directory.html">The spool directory</a></p>
</li>
<li>
<p><a href="localchecks.html">Local checks</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_vm_cloud_container">
<a class="anchor" href="#_vm_cloud_container"></a>6.3. VM, cloud, container</h3>
<div class="ulist">
<ul>
<li>
<p><a href="datasource_programs.html">Datasource programs</a></p>
</li>
<li>
<p><a href="monitoring_vmware.html">Monitoring VMware ESXi</a></p>
</li>
<li>
<p><a href="monitoring_aws.html">Monitoring Amazon Web Services (AWS)</a></p>
</li>
<li>
<p><a href="monitoring_azure.html">Monitoring Microsoft Azure</a></p>
</li>
<li>
<p><a href="monitoring_gcp.html">Monitoring Google Cloud Platform (GCP)</a></p>
</li>
<li>
<p><a href="monitoring_kubernetes.html">Monitoring Kubernetes</a></p>
</li>
<li>
<p><a href="monitoring_openshift.html">Monitoring OpenShift</a></p>
</li>
<li>
<p><a href="monitoring_docker.html">Monitoring Docker</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoints">
<a class="anchor" href="#_endpoints"></a>6.4. Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p><a href="active_checks.html">Monitoring network services (Active checks)</a></p>
</li>
<li>
<p><a href="robotmk.html">Checkmk Synthetic Monitoring with Robotmk</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dashboards_views_metrics">
<a class="anchor" href="#_dashboards_views_metrics"></a>7. Dashboards, views, metrics</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="user_interface.html">The user interface</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_general">
<a class="anchor" href="#_general"></a>7.1. General</h3>
<div class="ulist">
<ul>
<li>
<p><a href="views.html">Host and service views</a></p>
</li>
<li>
<p><a href="dashboards.html">Dashboards</a></p>
</li>
<li>
<p><a href="graphing.html">Measured values and graphing</a></p>
</li>
<li>
<p><a href="custom_notes.html">Custom notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_commands_in_views">
<a class="anchor" href="#_commands_in_views"></a>7.2. Commands in views</h3>
<div class="ulist">
<ul>
<li>
<p><a href="commands.html">Commands</a></p>
</li>
<li>
<p><a href="basics_ackn.html">Acknowledging problems</a></p>
</li>
<li>
<p><a href="basics_downtimes.html">Scheduled downtimes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analysis_and_prognosis">
<a class="anchor" href="#_analysis_and_prognosis"></a>8. Analysis and prognosis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_analysis">
<a class="anchor" href="#_analysis"></a>8.1. Analysis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="availability.html">Availability</a></p>
</li>
<li>
<p><a href="sla.html">Extended availability (SLAs)</a></p>
</li>
<li>
<p><a href="bi.html">Business Intelligence (BI)</a></p>
</li>
<li>
<p><a href="reporting.html">Reports</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prognosis">
<a class="anchor" href="#_prognosis"></a>8.2. Prognosis</h3>
<div class="ulist">
<ul>
<li>
<p><a href="predictive_monitoring.html">Predictive monitoring</a></p>
</li>
<li>
<p><a href="forecast_graphs.html">Forecast graphs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection_of_other_applications">
<a class="anchor" href="#_connection_of_other_applications"></a>9. Connection of other applications</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_prometheus.html">Integrating Prometheus</a></p>
</li>
<li>
<p><a href="integrating_datadog.html">Integrating Datadog</a></p>
</li>
<li>
<p><a href="nagvis.html">NagVis: status data on maps and diagrams</a></p>
</li>
<li>
<p><a href="ntop.html">Integrating ntopng in Checkmk</a></p>
</li>
<li>
<p><a href="grafana.html">Integrating Checkmk in Grafana</a></p>
</li>
<li>
<p><a href="metrics_exporter.html">Sending metrics to InfluxDB and Graphite</a></p>
</li>
<li>
<p><a href="nagstamon.html">Integrating Checkmk in Nagstamon</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specifics_to_the_editions">
<a class="anchor" href="#_specifics_to_the_editions"></a>10. Specifics to the editions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="cse.html">Checkmk Enterprise</a></p>
</li>
<li>
<p><a href="cce.html">Checkmk Cloud</a></p>
</li>
<li>
<p><a href="managed.html">Checkmk MSP</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automation_and_development">
<a class="anchor" href="#_automation_and_development"></a>11. Automation and development</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="apis_intro.html">Overview of API resources</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_apis_for_automation">
<a class="anchor" href="#_apis_for_automation"></a>11.1. APIs for automation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="rest_api.html">The Checkmk REST API</a></p>
</li>
<li>
<p><a href="livestatus.html">Retrieving status data via Livestatus</a></p>
</li>
<li>
<p><a href="livestatus_references.html">Livestatus command reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_apis_for_development">
<a class="anchor" href="#_apis_for_development"></a>11.2. APIs for development</h3>
<div class="ulist">
<ul>
<li>
<p><a href="bakery_api.html">The Bakery-API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_of_check_plug_ins">
<a class="anchor" href="#_development_of_check_plug_ins"></a>11.3. Development of check plug-ins</h3>
<div class="ulist">
<ul>
<li>
<p><a href="devel_intro.html">Developing extensions for Checkmk</a></p>
</li>
<li>
<p><a href="devel_check_plugins.html">Writing agent-based check plug-ins</a></p>
</li>
<li>
<p><a href="devel_check_plugins_snmp.html">Writing SNMP-based check plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">
<a class="anchor" href="#_concepts"></a>12. Concepts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="monitoring_basics.html">Basic principles of monitoring with Checkmk</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_checkmk_micro_core_cmc">
<a class="anchor" href="#_the_checkmk_micro_core_cmc"></a>12.1. The Checkmk Micro Core (CMC)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cmc.html">The Checkmk Micro Core (CMC)</a></p>
</li>
<li>
<p><a href="cmc_differences.html">Special characteristics of the CMC</a></p>
</li>
<li>
<p><a href="cmc_migration.html">Migration to the CMC</a></p>
</li>
<li>
<p><a href="cmc_files.html">CMC files and directories</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_checkmk_appliance">
<a class="anchor" href="#_the_checkmk_appliance"></a>13. The Checkmk appliance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="appliance_rack1_quick_start.html">Quick start guide for Checkmk racks</a></p>
</li>
<li>
<p><a href="appliance_virt1_quick_start.html">Quick start guide for Checkmk virt1</a></p>
</li>
<li>
<p><a href="appliance_install_virt1.html">Installation of the virtual appliance</a></p>
</li>
<li>
<p><a href="appliance_usage.html">Configuring and using the appliance</a></p>
</li>
<li>
<p><a href="appliance_backup.html">Backup in the appliance</a></p>
</li>
<li>
<p><a href="appliance_cluster.html">Appliance in cluster operation</a></p>
</li>
<li>
<p><a href="appliance_rack_config.html">Special features of the hardware appliance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
<div class="main-nav__utils">
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="aboutMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About Checkmk</button><div class="dropdown-menu dropup" aria-labelledby="aboutMenuButton">
<a class="dropdown-item" href="https://checkmk.com/product/features" target="_blank">Features</a><a class="dropdown-item" href="https://checkmk.com/product/editions" target="_blank">Editions</a><a class="dropdown-item" href="https://checkmk.com/integrations" target="_blank">Integrations</a><a class="dropdown-item" href="https://checkmk.com/imprint" target="_blank">Imprint</a><a class="dropdown-item" href="copyright.html" target="_blank">Copyright</a>
</div>
</div>
<div class="dropup dropdown__utils">
<button class="btn dropdown-toggle" type="button" id="learnMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Learn</button><div class="dropdown-menu dropup" aria-labelledby="learnMenuButton">
<a class="dropdown-item" href="https://checkmk.com/videos">Videos</a><a class="dropdown-item" href="https://checkmk.com/webinars">Webinars</a><a class="dropdown-item" href="https://checkmk.com/trainings/classes">Trainings</a>
</div>
</div>
<a class="main-nav__utils__link" href="https://forum.checkmk.com">Forum</a>
</div>
</div></aside><main><div id="header">
<h1>Update to version 2.3.0</h1>
<div class="details">
<span id="revdate">Last modified on 08-Jul-2024</span><a class="edit-document" href="https://github.com/Checkmk/checkmk-docs/edit/2.3.0/src/onprem/en/update_major.asciidoc">Edit this page on GitHub</a>
</div>
</div>
<div id="content">
<div id="preamble">
<div id="staticinfo">This page was exported for offline usage on 2025-01-07 22:12:14 +0000. It may not reflect the current state of the Checkmk documentation. To view a daily updated version, visit <a href="https://docs.checkmk.com/" target="_blank">docs.checkmk.com</a>.</div>
<div class="sectionbody"><div class="paragraph">
<p></p>
<div class="dropdown dropdown__related">
<button class="btn btn-primary dropdown-toggle" type="button" id="relatedMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Related Articles</button><div class="dropdown-menu dropdown-menu-right" aria-labelledby="relatedMenuButton">
<a href="update.html">Updates and Upgrades</a>
<a href="install_packages.html">Basic information on the installation of Checkmk</a>
</div>
</div>
</div></div>
</div>
<div class="sect1">
<h2 id="heading_intro">
<span class="hidden-anchor sr-only" id="intro"></span>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>In this article you will find the most important topics relevant to an update of your Checkmk from version <span class="new">2.2.0</span> to version <span class="new">2.3.0</span>.</p></div>
<div class="paragraph"><p>We recommend that you read through the entire article before updating so that you know exactly what to expect: before, during and after the update.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="heading_prep">
<span class="hidden-anchor sr-only" id="prep"></span>2. Preparations</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter gives you an overview of the topics you should take into consideration before you perform the update.
Probably not every topic will be relevant for you:
For each topic, you can check the corresponding box for your own reference and immediately move on to the next topic.</p></div>
<div class="sect2">
<h3 id="heading_backup">
<span class="hidden-anchor sr-only" id="backup"></span>2.1. Backup</h3>
<div class="paragraph"><p>As with any update to production software, you should check that your backups are up to date before performing the update of Checkmk.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
Yes.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
If you create your backups automatically via <span class="guihint">Setup &gt; Maintenance &gt; Backups</span>, check there that your backups are up to date and that the most recent backup jobs have completed without errors.</p></div>
<div class="paragraph"><p>For more information, see the articles on <a href="backup.html">Backups</a> and on <a href="omd_basics.html#omd_backup_restore">Backing up and restoring sites</a>.</p></div>
<div class="admonitionblock tip"><table><tr>
<td class="icon"><img src="../images/icons/tip.png" alt="Tip"></td>
<td class="content"><div class="paragraph"><p>From the update to <span class="new">2.3.0</span>, changes are rolled back in the event of a failed update (<a href="https://checkmk.com/werk/16408" target="_blank">Werk #16408</a>).
An update can fail due to an unexpected internal error, but also due to user input during the update process, for example by selecting the menu option <code>abort</code> or by pressing the key combination <code>CTRL+C</code>.
Only when the text <code>Completed verifying site configuration. Your site now has version <span class="new">2.3.0</span>pX</code> is displayed, the updated configuration is active.
Restoring the configuration does not replace a backup, but usually reduces downtime if something goes wrong.</p></div></td>
</tr></table></div>
</div>
<div class="sect2">
<h3 id="heading_performance">
<span class="hidden-anchor sr-only" id="performance"></span>2.2. Check hardware utilization</h3>
<div class="paragraph"><p>Checkmk <span class="new">2.3.0</span> requires slightly higher system resources than <span class="new">2.2.0</span>.
It is therefore advisable to find out before updating which free capacity the servers used for Checkmk still have.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
Yes, but the extent to which you are affected depends heavily on how you use Checkmk.
Alone the updating of the Python interpreter from version 3.11 to 3.12 results in an increase in CPU load in the single-digit percentage range.
Furthermore — depending on the proportion to the total number of checks — the more extensive checks in <span class="new">2.3.0</span>, especially in the cloud area, can result in further additional load, so that a total of 10-15 % (in extreme cases around 20 %) more CPU load can be expected.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Make sure that there is sufficient free capacity available.
As a rule of thumb: If the <em>CPU load</em> is below the <em>number of processor cores x 0.8</em> and the CPU utilization is below 70 %, no problems should be expected.
If one or both values are higher, create sufficient free capacity, for example by deactivating test sites on the same server or moving hosts to other sites.</p></div>
</div>
<div class="sect2">
<h3 id="heading_linux_versions">
<span class="hidden-anchor sr-only" id="linux_versions"></span>2.3. Linux distribution versions</h3>
<div class="paragraph"><p>Some obsolete distributions will no longer be supported under Checkmk version <span class="new">2.3.0</span>.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This will affect you if any of the following Linux distributions — still supported in <span class="new">2.2.0</span> — is installed on your Checkmk server:</p></div>
<div class="ulist"><ul>
<li><p>RedHat Enterprise Linux 7</p></li>
<li><p>Ubuntu Short Term Support (STS) versions 22.10 to 23.10.<br>
From <span class="new">2.3.0</span> Checkmk only supports Ubuntu Long Term Support (LTS) versions.</p></li>
<li><p>SLES 15 SP1 and SP2</p></li>
</ul></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Before updating Checkmk, first perform a <a href="release_upgrade.html">Linux distribution version upgrade</a>.
Make sure that the target version of the Linux distribution of Checkmk is <span class="new">2.2.0</span> <strong>and</strong> that <span class="new">2.3.0</span> is supported.
You can find out which Linux distribution versions Checkmk supports in the <a href="update_matrix.html">update matrix for <span class="new">2.3.0</span></a> and on the <a href="https://checkmk.com/download" target="_blank">download page</a> after you have selected the Checkmk version and your Linux distribution.</p></div>
<div class="paragraph"><p>Shortly after the release of Ubuntu 24.04 LTS, we will provide Checkmk <span class="new">2.2.0</span> and <span class="new">2.3.0</span> packages for this distribution version. This will allow you to first update to the latest patch version of Checkmk <span class="new">2.2.0</span>, then update from Ubuntu 23.10 STS to 24.04 LTS and finally update to the latest patch version of Checkmk <span class="new">2.3.0</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_sles_php">
<span class="hidden-anchor sr-only" id="sles_php"></span>2.4. PHP on SLES 15 SP3/SP4</h3>
<div class="paragraph"><p>With Checkmk version <span class="new">2.3.0</span> (and <span class="new">2.2.0</span>p21) on SUSE Linux Enterprise Server 15 Service Pack 3 and 4, the dependency on the PHP programming language runtime environment is raised from version 7 to version 8.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
Yes, as a user of SLES 15 SP3/SP4. The update is somewhat more complex, as package sources for the outdated version 7 must be deactivated and activated for the new version 8.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
If, in addition to Checkmk applications on your server that use the PHP programming language, make sure that they can handle PHP 8 without any problems.
Then prepare the package sources for the update to <span class="new">2.2.0</span>p21 (or higher), which is mandatory for the installation of Checkmk <span class="new">2.3.0</span>, as described in <a href="https://checkmk.com/werk/16025" target="_blank">Werk #16025</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_browser">
<span class="hidden-anchor sr-only" id="browser"></span>2.5. Browser support</h3>
<div class="paragraph"><p>Checkmk <span class="new">2.3.0</span> uses new JavaScript features that are not available in older browsers.
Which browsers are supported in which versions can be found in the <a href="release_notes.html#browser">Release notes</a>.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
You will usually have automatic updates to the latest version enabled on desktop systems.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Check the browser version you are using and install a more recent browser if necessary.
If you are using <em>Single Board Computers</em>, <em>Smart TVs</em> or <em>Digital Signage</em> solutions to display dashboards and you have no control over the system browser, test that any required dashboards are displayed correctly before updating.
If necessary, contact the hardware manufacturer for updates.</p></div>
</div>
<div class="sect2">
<h3 id="heading_openssl">
<span class="hidden-anchor sr-only" id="openssl"></span>2.6. SSL compatibility</h3>
<div class="paragraph"><p>For the first time, Checkmk <span class="new">2.3.0</span> provides OpenSSL in version 3.0 instead of the previous 1.1.
This change affects almost all components that use <em>Secure Socket Layer</em> or <em>Transport Level Security</em>.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
As OpenSSL 3 is now widely used, hardly any surprises are to be expected.
Problems can occur — especially with active checks — if connections are to be established to devices that expect old <em>ciphers</em> or attempt <em>renegotiation</em>.
These are usually old network devices (switches, printers…​) that no longer receive updates.
In some cases, services on older Linux distributions or Unix versions are affected, which are still supplied with updates.</p></div>
<div class="paragraph"><p><strong>What will you need to do</strong>
If possible, try to find out in advance which devices are likely to have problems.
Good indicators for this are age and how long ago updates were installed.
Test these devices with Checkmk <span class="new">2.3.0</span>.
If problems occur, you have two options:</p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Check whether updates or configuration changes are possible.
Older but still supported operating systems in particular often allow older default settings to be overwritten with more secure modern settings.</p></li>
<li><p>If this is not possible, the affected active checks can be manually configured for other default settings using the rule <span class="guihint">Integrate Nagios plugins</span>.
We are currently preparing detailed instructions.
If required, you can request a preliminary version via Help Desk Beta or in the forum.</p></li>
</ol></div>
</div>
<div class="sect2">
<h3 id="heading_cme">
<span class="hidden-anchor sr-only" id="cme"></span>2.7. Checkmk MSP is based on Checkmk Cloud</h3>
<div class="paragraph"><p>With Checkmk <span class="new">2.3.0</span>, Checkmk MSP has changed its foundation from Checkmk Enterprise to Checkmk Cloud.
This not only means that Checkmk MSP receives the extended range of functions of Checkmk Cloud, but also that the license management is aligned with that of Checkmk Cloud.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This only affects users of Checkmk MSP, other forms of distributed monitoring are not affected.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Updating a Checkmk MSP to <span class="new">2.3.0</span> follows the general <a href="#update_distributed_monitoring">procedure in distributed environments with distributed setup</a>.
However, it must be ensured that the central site can still transfer the license information under Checkmk <span class="new">2.2.0</span> to remote sites already updated on Checkmk <span class="new">2.3.0</span>.</p></div>
<div class="paragraph"><p>As the necessary changes are only implemented in Checkmk <span class="new">2.2.0</span>p17 (<a href="https://checkmk.com/werk/16193" target="_blank">Werk #16193</a>), you must therefore update the central site to at least this version.
This ensures the transfer of the <a href="license.html#license_cce">license information</a>.
The remote sites can then be updated to <span class="new">2.3.0</span> and finally the central site.</p></div>
<div class="paragraph"><p>Irrespective of the minimum requirement for <span class="new">2.2.0</span>p17 mentioned here, we recommend that you first update all involved sites to the latest available patch version of <span class="new">2.2.0</span> and only then start the update to <span class="new">2.3.0</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_agentupdaterhash">
<span class="hidden-anchor sr-only" id="agentupdaterhash"></span>2.8. Automatic agent updates from versions prior to <span class="new">2.2.0</span>p8</h3>
<div class="paragraph"><p>Checkmk <span class="new">2.3.0</span> no longer creates SHA1 signatures for agent packages.
The verification of SHA256 signatures was introduced with Checkmk <span class="new">2.2.0</span>p8.
In order for agent updates to version <span class="new">2.3.0</span> to take place automatically, the agents must first be updated to version <span class="new">2.2.0</span>p8 or higher.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This affects you if you perform automatic agent updates but occasionally skip patch versions of the agent.
It also affects you if your deployment uses prepared operating system images that include the Checkmk Agent Updater and rely on automatic <a href="agent_deployment.html#automatic_installer">installation/update</a>.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Make sure that all agents that are to be updated automatically have been updated to at least version <span class="new">2.2.0</span>p8.
In particular, verify prepared operating system images and update the existing agent to version <span class="new">2.2.0</span>p8 or higher.
And if you are currently working on agent updates, you can already add the <a href="#agentupdatercert">certificate</a> provided by the agent bakery now, if this is required later.</p></div>
</div>
<div class="sect2">
<h3 id="heading_agentwindows">
<span class="hidden-anchor sr-only" id="agentwindows"></span>2.9. The Windows agent: Deprecated plug-ins</h3>
<div class="paragraph"><p>Some plug-ins that were marked as <em>deprecated</em> have been removed and may require manual installation if needed: <a href="https://checkmk.com/werk/16359" target="_blank">Werk #16359</a></p></div>
</div>
<div class="sect2">
<h3 id="heading_pythonwindows">
<span class="hidden-anchor sr-only" id="pythonwindows"></span>2.10. The Windows agent: Python 3.4 removed</h3>
<div class="paragraph"><p>The official support for the Checkmk agent under Windows Server 2008 and Windows 7 by Checkmk GmbH already ended with the release of Checkmk <span class="new">2.2.0</span>.
Nevertheless, operation under Windows Server 2008 R2 and Windows 7 was still possible without restrictions.
With <span class="new">2.3.0</span>, restrictions must be accepted:
The previous option of supplying a Python 3.4 runtime environment for Windows agents via the agent bakery rule is no longer available in <span class="new">2.3.0</span>.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
Hopefully not: The discontinuation only affects you if you use <a href="glossar.html#agent_plugin">agent plug-ins</a> written in Python on Windows Server 2008 R2 or Windows 7 (both end-of-life already in 2020).
Current Python versions run on all newer Windows versions.
On all even older Windows versions — such as Windows Server 2008 R1 or Windows Vista — the agent could no longer be used in version <span class="new">2.2.0</span>.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
If you want to continue monitoring these Windows systems, you must provide the runtime environment for agent plug-ins that require Python yourself:
Install Python 3.4 manually on affected systems.
For these systems, usually set <span class="guihint">Setup &gt; Agents &gt; Windows, Linux, Solaris, AIX &gt; Agent rules &gt; Windows modules &gt; Install Python runtime environment</span> the setting <span class="guihint">Install Python runtime environment &gt; Installation</span> to <span class="guihint">Never install Python with the agent</span>.
Note that we cannot guarantee support for such old Windows systems and we no longer test new agent versions in patch releases.</p></div>
</div>
<div class="sect2">
<h3 id="heading_mod_auth_mellon">
<span class="hidden-anchor sr-only" id="mod_auth_mellon"></span>2.11. Checkmk without Apache module mod_auth_mellon</h3>
<div class="paragraph"><p><a href="https://github.com/Uninett/mod_auth_mellon" target="_blank"><code>mod_auth_mellon</code></a> is a software module for Apache that provides services for authentication via the Secure Assertion Markup Language (SAML).
The connection to SAML authentication services was possible in Checkmk <span class="new">2.2.0</span> in two ways:
At Apache level with <code>mod_auth_mellon</code> (the only supported option until version <span class="new">2.1.0</span>) or in the commercial editions of Checkmk the <a href="saml.html#saml_cee">built-in SAML authentication</a>.
With version <span class="new">2.3.0</span> <code>mod_auth_mellon`</code> is no longer delivered with the Checkmk software.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This affects you if you use SAML authentication with <code>mod_auth_mellon</code>.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Users of the commercial editions should switch SAML authentication to the solution integrated in Checkmk <em>before</em> updating to <span class="new">2.3.0</span>.</p></div>
<div class="paragraph"><p>If you are using Checkmk Raw, you can already install <code>mod_auth_mellon</code> system-wide before the update according to the <a href="https://github.com/latchset/mod_auth_mellon" target="_blank">instructions on the project page</a>.
Then change the line for loading the module in the configuration file <code>~/etc/apache/conf.d/auth.conf</code> to the system-wide installation path.
The installation directory may vary depending on the distribution used:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="apache"><span></span><span class="tok-nb">LoadModule</span><span class="tok-w"> </span>auth_mellon_module<span class="tok-w"> </span><span class="tok-sx">/usr/lib/apache2/modules/mod_auth_mellon.so</span></code></pre></div></div>
<div class="paragraph"><p>Restart your site after making the change.
Finally, test — still under <span class="new">2.2.0</span> — whether SAML authentication continues to work.
If this is the case, no difficulties are to be expected after the update.</p></div>
</div>
<div class="sect2">
<h3 id="heading_pip3">
<span class="hidden-anchor sr-only" id="pip3"></span>2.12. Uninstalling Python modules</h3>
<div class="paragraph"><p>Checkmk 2.3.0 updates Python from 3.11 to 3.12.
This update affects modules installed to a Checkmk site.
In many cases, post-installed modules are incompatible with Python 3.12.
In the worst case, obsolete modules overwrite the functionality of the modules supplied by Checkmk.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This will only affect you when you have explicitly-installed Python modules for special agents or agent-based check plug-ins that you have written yourself or obtained from the Exchange.
If you are unsure, carry out the check described in the following section.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
First find out whether Python modules are installed in the site, and if so — identify them.
To do this, search for the <code>dist-info</code> and <code>egg-info</code> directories:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>find<span class="tok-w"> </span>~/local/lib/python3/<span class="tok-w"> </span>-type<span class="tok-w"> </span>d<span class="tok-w"> </span>-name<span class="tok-w"> </span><span class="tok-s1">'*.*-info'</span>
<span class="tok-go">local/lib/python3/cryptography-41.0.5.dist-info</span>
<span class="tok-go">local/lib/python3/ecdsa-0.18.0.dist-info</span></code></pre></div></div>
<div class="paragraph"><p>Make a note of the installed modules and then uninstall them:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>pip3<span class="tok-w"> </span>uninstall<span class="tok-w"> </span>cryptography<span class="tok-w"> </span>ecdsa</code></pre></div></div>
<div class="paragraph"><p>You can find out how to deal with uninstalled Python modules after the update <a href="#pip3post">below</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_prometheus">
<span class="hidden-anchor sr-only" id="prometheus"></span>2.13. Prometheus checks data source and settings</h3>
<div class="paragraph"><p>The <a href="monitoring_prometheus.html">Prometheus special agent</a> offered <code>kube-state-metrics</code> as data source, whose checks are no longer supported.
These have since been replaced by improved counterparts in the Kubernetes agent (see <a href="https://checkmk.com/werk/14572" target="_blank">Werk #14572</a>).
In addition, in the <span class="guihint">Prometheus</span> and <span class="guihint">Alertmanager</span> rules, the specification of IP address/host name, port and path prefix has been replaced by a single input field <span class="guihint">Custom URL</span> (see <a href="https://checkmk.com/werk/14573" target="_blank">Werk #14573</a>).</p></div>
<div class="paragraph"><p>In both cases, the old method continued to work in <span class="new">2.2.0</span>.
To use it in <span class="new">2.3.0</span>, however, you must have changed your configuration to the new method.</p></div>
</div>
<div class="sect2">
<h3 id="heading_local_files">
<span class="hidden-anchor sr-only" id="local_files"></span>2.14. Packaged (MKPs) and non-packaged local files</h3>
<div class="paragraph"><p>Local files allow you to customize and extend the functionality provided by Checkmk.
These files are located in the local part of the site directory structure, i.e. in <code>~/local</code> and can be located in extension packages or simply 'lying around'.
Local files can cause problems during an update if they no longer match the new Checkmk version.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
Since it is not possible for Checkmk to fully ensure the compatibility of local adaptations during an update, you should check your Checkmk site before an update to see whether local files are used, which ones they are and how they are organized.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong></p></div>
<div class="olist arabic"><ol class="arabic">
<li><p>Use <code>mkp list</code> to create an overview of existing <a href="mkps.html">extension packages (MKPs)</a> and their sources:
You can usually easily test the extensions you have developed yourself and adapt them if necessary.
For externally sourced MKPs, you should research whether there are known problems with Checkmk <span class="new">2.3.0</span> and whether new versions are available.
In cases where functionality previously provided by the MKP is now provided by Checkmk <span class="new">2.3.0</span>, deactivate the package before updating.</p></li>
<li><p>Get an <a href="mkps.html#find_unpackaged">overview</a> of <em>unpackaged</em> local files of your Checkmk site by executing the command <code>mkp find</code> as site user.
If paths with <code>python3</code> appear here, go <a href="#pip3">back to Python modules</a> again.
The following applies to all other files: Combine files that belong together into <a href="mkps.html#package_mkp">MKPs</a>.
This makes it easier to later deactivate these <em>en bloc</em> if incompatibilities are detected following the update.</p></li>
<li><p>In the case of MKPs that require different versions for Checkmk <span class="new">2.2.0</span> and <span class="new">2.3.0</span>, you should have installed <a href="mkps.html#enabled_inactive_cli">both package versions with correct compatibility information</a> in Checkmk before performing the update.
If different versions of a package are available, Checkmk automatically activates the appropriate version during the update.
As central sites with Checkmk <span class="new">2.2.0</span> can hold packages for <span class="new">2.3.0</span> and distribute these to remote sites, this feature also helps when updating in <a href="glossar.html#distributed_monitoring">distributed environments</a> with a <a href="glossar.html#distributed_setup">distributed setup</a>.</p></li>
</ol></div>
</div>
<div class="sect2">
<h3 id="heading_apis">
<span class="hidden-anchor sr-only" id="apis"></span>2.15. Programming interfaces</h3>
<div class="paragraph"><p>In Checkmk <span class="new">2.3.0</span> some internal programming interfaces (APIs) have been rebuilt.
Some previously <em>ad-hoc</em> defined APIs have been replaced by well-specified ones.
In addition, the Check API already marked as <em>deprecated</em> in <span class="new">2.0.0</span> has been permanently removed.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
The topic of APIs affects you if you have extended the checks delivered with Checkmk with your own, self-written checks and/or if you use plug-ins from other sources.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Check the functionality of extensions you have written yourself and those from third-party providers.
Since the new APIs can be used parallel to the old ones during Checkmk <span class="new">2.3.0</span> and changes to the existing APIs could be small, most extensions will continue to be usable without modifications.
If changes are necessary, we recommend migrating to the <a href="#outlook_newapi">new APIs</a>, which will be available from Checkmk <span class="new">2.4.0</span> and completely replace the old APIs.</p></div>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p>With Checkmk <span class="new">2.3.0</span>b6, the Check API for versions up to <span class="new">1.6.0</span> that was already marked as <em>deprecated</em> in <span class="new">2.0.0</span> finally has been removed (<a href="https://checkmk.com/werk/16689" target="_blank">Werk #16689</a>).
Checks that were created using this programming interface will be deactivated during the update.
Before updating, check whether such checks are present and port them to one of the two new API versions — preferably, of course, the well-specified ones available from <span class="new">2.3.0</span>.</p></div></td>
</tr></table></div>
</div>
<div class="sect2">
<h3 id="heading_rest_api">
<span class="hidden-anchor sr-only" id="rest_api"></span>2.16. Deprecations in the REST API</h3>
<div class="paragraph"><p>Deprecated endpoints or parameters of the Checkmk REST API are marked in the API documentation with the <span class="image-inline"><img src="../images/icons/icon_rest_api_deprecated.png" alt="" icon to indicate a deprecation in the rest api documentation></span> icon.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This may affect you if you use the Checkmk REST API in your own scripts, for example.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Open the REST API documentation with <span class="guihint">Help &gt; Developer Resources &gt; REST API documentation</span>.
Search for <code>Deprecated</code> in the browser on the page, check whether you are using deprecated elements in your scripts and replace them before updating.
In the REST API documentation, you will usually find instructions on how to replace the functions that no longer exist in the new version.</p></div>
</div>
<div class="sect2">
<h3 id="heading_incompatible">
<span class="hidden-anchor sr-only" id="incompatible"></span>2.17. Incompatible changes</h3>
<div class="paragraph"><p>As in every Checkmk version, there are also changes to the software in the current <span class="new">2.3.0</span> version which <em>may</em> have repercussions on your Checkmk installation — at Checkmk these are organized and documented in what we refer to as our Checkmk <em>Werks</em>.
A so-called <em>incompatible change</em> requires that you make manual modifications in order to allow existing functions to continue to run as usual and/or to be able to use new functions.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
In general, there will be incompatible changes that will also affect your Checkmk installation, it is however impossible to make a general statement.
In this article we have collected those issues that apply to all or most Checkmk installations.
In any case there may be additional changes that are relevant to you, for example in checks that you use in your installation.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Following every update — including patch releases — Checkmk will show you the number and content of incompatible changes and ask you to check and take note of them.
Before performing the update is the right time to check for any changes from version <span class="new">2.2.0</span> that may have an impact on the update.
Since Checkmk <span class="new">2.3.0</span>, such Werks are no longer carried over, but are deleted during the update after approving a confirmation dialog (<a href="https://checkmk.com/werk/15292" target="_blank">Werk #15292</a>).</p></div>
<div class="paragraph"><p>It is also a good idea to get an overview of the incompatible changes in version <span class="new">2.3.0</span> <strong>before</strong> the update:
Open the list of <a href="https://checkmk.com/werks?search=&amp;cmk_version[]=2.3&amp;compatible=0" target="_blank">Werks</a> on the Checkmk website.
In the description of a Werk, you will find information on what you may need to do to make the change compatible.</p></div>
<div class="paragraph"><p>After you have carried out the <a href="#update">update</a>, the number and content of the incompatible changes will be displayed in the Checkmk interface and you will be asked to check and take note of them.
Links help you to check so that you can find out with just a few clicks whether you are using an affected component.
If it is certain that a Werk has no impact or you have made the required changes, confirm it with <span class="guihint">Acknowledge</span>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_update">
<span class="hidden-anchor sr-only" id="update"></span>3. Update</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_dry_run">
<span class="hidden-anchor sr-only" id="dry_run"></span>3.1. Best practices when updating</h3>
<div class="paragraph"><p>In this section we describe the best practices that we follow even when updating large Checkmk environments.
These are certainly not mandatory in every environment, but they can make the process of updating easier for you.</p></div>
<div class="sect3">
<h4 id="heading_update_patch">
<span class="hidden-anchor sr-only" id="update_patch"></span>Updating the Checkmk version</h4>
<div class="paragraph"><p>As a prerequisite, before updating to version <span class="new">2.3.0</span>, version <span class="new">2.2.0</span> <strong>must</strong> have been installed on the Checkmk site.</p></div>
<div class="paragraph"><p>We have previously advised against omitting an intermediate major version when performing a major update, as there are simply too many changes in between that will hinder a smooth update and almost certainly cause problems.
With version <span class="new">2.2.0</span>, this recommendation was turned into a requirement — and a lock was introduced that prevents, for example, a direct update from version <span class="new">2.0.0</span> to <span class="new">2.3.0</span>.</p></div>
<div class="paragraph"><p>The update to <span class="new">2.3.0</span> currently requires at least <span class="new">2.2.0</span>p8.
However, in the future, a specific <span class="new">2.3.0</span> patch version may require a higher <span class="new">2.2.0</span> patch version for the update.
In general, we recommend updating Checkmk to the latest <span class="new">2.2.0</span> patch version first, and only then updating to <span class="new">2.3.0</span>.</p></div>
</div>
<div class="sect3">
<h4 id="heading__perform_a_test_run_of_the_update">
<span class="hidden-anchor sr-only" id="_perform_a_test_run_of_the_update"></span>Perform a test run of the update</h4>
<div class="paragraph"><p>In large environments, where obviously even restoring a current backup of your Checkmk environment could take quite some time, it is recommended to perform a test with a cloned site before updating the production environment.
For this purpose, you can, for example, restore the last regular backup of your site under a different name.</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>restore<span class="tok-w"> </span>newsite<span class="tok-w"> </span>/path/to/backup</code></pre></div></div>
<div class="paragraph"><p><strong>Alternatively</strong> you can also copy your site using <code>omd cp</code>.
For this, however, the site must be stopped for a short time:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>stop<span class="tok-w"> </span>mysite
<span class="tok-gp">root@linux# </span>omd<span class="tok-w"> </span>cp<span class="tok-w"> </span>mysite<span class="tok-w"> </span>newsite</code></pre></div></div>
<div class="paragraph"><p>Then, perform the update first on this new cloned site, for example to check the above mentioned local changes in the new environment.</p></div>
</div>
<div class="sect3">
<h4 id="heading_automatic_agent_updates">
<span class="hidden-anchor sr-only" id="automatic_agent_updates"></span>Temporarily disable agent updates</h4>
<div class="paragraph"><p><span class="image-inline"><img src="../images/CEE.svg" alt="CEE" class="icon-left"></span>
If you are using the automatic agent updates in the commercial editions, you should consider disabling them temporarily before updating Checkmk so as to be able to later switch to the new agents at the hosts in a controlled manner.
To do this, first select <span class="guihint">Setup &gt; Agents &gt; Windows, Linux, Solaris, AIX</span> and on the following page select the menu item <span class="guihint">Agents &gt; Automatic updates.</span>
By clicking on the <span class="image-inline"><img src="../images/icons/icon_edit.png" alt="Icon to edit a list entry."></span> button in front of the <span class="guihint">Master switch</span> you can disable the agent update completely:</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_major_automatic_agent_updates.png" alt=" Disabling agent update using the master switch."></div></div>
<div class="paragraph"><p>Following a successful update of Checkmk, you can reactivate the agent updates in the same way.</p></div>
<div class="paragraph"><p>At this point, we recommend that you initially only reactivate the automatic agent updates for individual hosts or host groups.
By doing so, the new agent will not be rolled out to all of your servers right away and you can familiarize yourself with the newly delivered data on a few systems.
Also, due to the significant increase in the number of check plug-ins supplied, you might find a whole new set of services that you can then set up properly on the test systems of your choice.
You may also need to define new thresholds for new services.
If you tackle this on a small scale first, you will be able to minimize unnecessary false positives.</p></div>
<div class="paragraph"><p>To do this, you can simply enter a few hosts or host groups in the appropriate fields on the above page and then re-enable the <span class="guihint">Master switch</span>.</p></div>
<div class="imageblock"><div class="content"><img src="../images/update_major_activate_update_on_selected_hosts.png" alt="Options when updating agents to activate on specific hosts."></div></div>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p>Remember to remove these restrictions on explicit hosts and host groups again once you are satisfied with the results.</p></div></td>
</tr></table></div>
</div>
<div class="sect3">
<h4 id="heading_notifications">
<span class="hidden-anchor sr-only" id="notifications"></span>Temporarily disable notifications</h4>
<div class="paragraph"><p>You should also consider turning off <a href="glossar.html#notification">notifications</a> in the pre-update site — for similar reasons to those we explained in the previous section on automatic agent updates.
This way you avoid your colleagues from the monitoring team receiving <em>unnecessary</em> notifications.</p></div>
<div class="paragraph"><p>You can turn off notifications centrally with the main <span class="guihint">Notifications</span> switch in the <a href="user_interface.html#master_control">Master control</a> snap-in.</p></div>
<div class="paragraph"><p>It may happen that after the update one or another service is <span class="state2">CRIT</span> which had not been the case previously.
Take care of new problems after the update for example, in the <a href="user_interface.html#overview">Overview</a> snap-in.</p></div>
<div class="admonitionblock important"><table><tr>
<td class="icon"><img src="../images/icons/important.png" alt="Important"></td>
<td class="content"><div class="paragraph"><p>Don’t forget to turn on the notifications again, e.g. when following the update the number of unhandled problems has leveled off to the level seen before the update.</p></div></td>
</tr></table></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_update_distributed_monitoring">
<span class="hidden-anchor sr-only" id="update_distributed_monitoring"></span>3.2. Updates in distributed monitoring</h3>
<div class="paragraph"><p>There are two different procedures for performing an update of all sites included in a <a href="glossar.html#distributed_monitoring">distributed monitoring</a>:</p></div>
<div class="ulist"><ul>
<li><p>Stop all sites, perform the update of all sites in a bulk action, and then restart all sites.</p></li>
<li><p>Under strict conditions, a <em>mixed operation</em> is possible for a certain period of time, in which the remote sites are updated first, following which version equivalency is restored with the update of the central site.</p></li>
</ul></div>
<div class="paragraph"><p>In particular, if you want to update while the system is running, you should read the notes in the general article on <a href="update.html#updatedistributed">Updates and Upgrades</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading__performing_the_update">
<span class="hidden-anchor sr-only" id="_performing_the_update"></span>3.3. Performing the update</h3>
<div class="paragraph"><p>Nothing fundamental has changed with the actual update of the software in Checkmk <span class="new">2.3.0</span>,
i.e. you install the new version, perform the update of the Checkmk site, rectify any possible conflicts and check and confirm the incompatible changes.</p></div>
<div class="paragraph"><p>Perform the update procedure as described in the article on <a href="update.html#detailed">Updates and Upgrades</a>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_follow-up">
<span class="hidden-anchor sr-only" id="follow-up"></span>4. Follow-ups</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="heading_gui">
<span class="hidden-anchor sr-only" id="gui"></span>4.1. Changes to the user interface</h3>
<div class="paragraph"><p>The Checkmk user interface (GUI), which was completely redesigned with version <span class="new">2.0.0</span>, has not been changed fundamentally in version <span class="new">2.3.0</span>.
The general procedures, which you are already familiar with from versions <span class="new">2.0.0</span> and <span class="new">2.2.0</span>, can also be used as they are in <span class="new">2.3.0</span>.
However, menus, menu items, icons, and other details have been modified to make new features available — and to improve existing ones.</p></div>
<div class="paragraph"><p>We will present these changes in this User Guide’s articles — and in the <a href="intro_setup.html">Beginner’s Guide</a> you will find a detailed introduction,
including the most important elements of the <a href="intro_gui.html">user interface</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_service_discovery">
<span class="hidden-anchor sr-only" id="service_discovery"></span>4.2. Updating services</h3>
<div class="paragraph"><p>As with every major version, Checkmk <span class="new">2.3.0</span> introduces a whole new set of check plug-ins.
If you do not use the <a href="wato_services.html#discovery_check">'discovery check'</a>, i.e. the automatic update of the service configuration via the periodic service discovery, you will have to search for services on quite a number of hosts.</p></div>
<div class="paragraph"><p>If your hosts are organized accordingly (e.g. in folders), you can generally use the <span class="guihint">Bulk discovery</span> function for this.
This function can be found under <span class="guihint">Setup &gt; Hosts &gt; Hosts</span> and then in the <span class="guihint">Hosts &gt; Run bulk service discovery</span> menu.</p></div>
<div class="sect3">
<h4 id="heading_service_descriptions">
<span class="hidden-anchor sr-only" id="service_descriptions"></span>Service descriptions</h4>
<div class="paragraph"><p>Each update of Checkmk will involve changing service descriptions to improve the consistency of naming within the monitoring and documentation of Checkmk.
Since changing service descriptions means that rules sometimes need to be modified and historical monitoring data can be lost, Checkmk initially leaves the old descriptions in place for updates.
For services where the loss of old monitoring data is acceptable and the effort for adapting rules is manageable, you should switch to new service descriptions as soon as possible.</p></div>
<div class="paragraph"><p>To do this, go to <span class="guihint">Setup &gt; General &gt; Global settings &gt; Execution of checks</span> and go through the list <span class="guihint">Use new service descriptions</span> and identify the services where the checkboxes are not yet active and activate them.
After applying the changes, the new service descriptions will be active and a few minutes will pass before you see the defined states of the affected services in the monitoring again.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="heading_agentupdatercert">
<span class="hidden-anchor sr-only" id="agentupdatercert"></span>4.3. Certificate check for agent updates</h3>
<div class="paragraph"><p>The behavior of the command line parameter <code>--trust-cert</code> of the <code>cmk-update-agent</code> command has been changed.
Previously, the entire certificate chain was checked and the highest self-signed certificate found in the hierarchy was trusted; this is usually the root or an intermediate certificate.
From Checkmk <span class="new">2.3.0</span>, only the server certificate is imported and trusted.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This only affects you if you rely on <code>--trust-cert</code> when registering hosts for automatic agent updates and do not provide a <a href="agent_deployment.html#connection_to_cmk_server">certificate via the Agent Bakery</a>.
In this case, from Checkmk <span class="new">2.3.0</span> hosts already lose the trust position when the server certificate expires, hosts registered with Checkmk <span class="new">2.2.0</span> only when the root or intermediate certificates expire.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
We recommend providing the correct certificates via the agent bakery promptly following the update to <span class="new">2.3.0</span> and updating all agents to ensure consistent behavior for all hosts that use the Agent Updater.</p></div>
</div>
<div class="sect2">
<h3 id="heading_pip3post">
<span class="hidden-anchor sr-only" id="pip3post"></span>4.4. Installing Python modules</h3>
<div class="paragraph"><p><strong>Does this affect you?</strong>
This will only apply to you if you have explicitly installed Python modules for special agents or agent-based check plug-ins that you have written yourself or obtained from the Exchange and have <a href="#pip3">removed</a> these in the course of preparing for the update.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
First find out whether the previously uninstalled modules have already been delivered with the new Checkmk version, for example:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>pip3<span class="tok-w"> </span>list<span class="tok-w"> </span><span class="tok-p">|</span><span class="tok-w"> </span>grep<span class="tok-w"> </span><span class="tok-s1">'^cryptography'</span></code></pre></div></div>
<div class="paragraph"><p>If the module has already been found, mark it as not required in your notes.
Install the latest version of any modules that are not included:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-gp">OMD[mysite]:~$ </span>pip3<span class="tok-w"> </span>install<span class="tok-w"> </span>ecdsa</code></pre></div></div>
<div class="paragraph"><p>Then test the check plug-ins or special agents that rely on Python modules installed in the site.</p></div>
</div>
<div class="sect2">
<h3 id="heading_winnet">
<span class="hidden-anchor sr-only" id="winnet"></span>4.5. Network interfaces under Windows</h3>
<div class="paragraph"><p>Up to Checkmk <span class="new">2.2.0</span>, the Windows agent relied on the additional <a href="https://checkmk.com/integrations/winperf_if" target="_blank">Windows: State and Performance of Network Interfaces</a> plug-in to correctly transmit the status of network interfaces.
Without the plug-in, the status was always <em>up</em>.
As of Checkmk <span class="new">2.3.0</span>, the agent can transmit the correct status on its own (<a href="https://checkmk.com/werk/15839" target="_blank">Werk #15839</a>).</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
Depending on the extent to which you have distributed the plug-in and whether you have deactivated the monitoring of the status of network interfaces for hosts without a plug-in, this may affect you.
Hosts that have not previously used a plug-in and whose network interfaces were included in the monitoring will change many interfaces from <em>up</em> to <em>down</em>, resulting in the <span class="state2">CRIT</span> status and triggering notifications.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Check whether the status determined for the affected network interfaces is the desired one.
Then carry out the service discovery again for the affected hosts.
Take the opportunity to first implement the recommendations of the blog article <a href="https://checkmk.com/blog/network-monitoring-with-checkmk-2-0" target="_blank">Network monitoring with Checkmk: 3 rules to rule them all</a>, at least for your Windows hosts.
For Windows, the above-mentioned settings have to be made in the <span class="guihint">Network interfaces on Windows</span> rule.</p></div>
</div>
<div class="sect2">
<h3 id="heading_cmeccelicense">
<span class="hidden-anchor sr-only" id="cmeccelicense"></span>4.6. Synchronizing license information</h3>
<div class="paragraph"><p>With Checkmk Cloud and Checkmk MSP with distributed setup, license information is sometimes not synchronized to remote sites during the update.</p></div>
<div class="paragraph"><p><strong>Does this affect you?</strong>
If you need a complete overview of your license usage immediately after the update, you may be affected.
Check the license status and initiate synchronization manually if necessary.</p></div>
<div class="paragraph"><p><strong>What will you need to do?</strong>
Under <span class="guihint">Setup &gt; General &gt; Distributed Monitoring</span>, take a look at the overview of remote sites and search for sites marked with <span class="guihint">License state: trial</span>.
To force an immediate synchronization for these sites, check the license under <span class="guihint">Setup &gt; Licensing</span> or save the license settings.
If this step is forgotten, the license data is usually synchronized in the background within seven days of the update.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="heading_outlook">
<span class="hidden-anchor sr-only" id="outlook"></span>5. The outlook</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter covers topics not directly related to the current Checkmk version <span class="new">2.3.0</span>, rather to future versions in development.</p></div>
<div class="sect2">
<h3 id="heading_check_http">
<span class="hidden-anchor sr-only" id="check_http"></span>5.1. HTTP check in the new version</h3>
<div class="paragraph"><p>Checkmk <span class="new">2.3.0</span> contains a new active check for HTTP connections and certificates, which is significantly better performing, more robust and easier to configure than the previous <span class="guihint">Check HTTP service</span>.
In addition, it is now possible to monitor several things at once with a single rule, for example HTTP response code, response time and certificate validity.</p></div>
<div class="paragraph"><p>The new <span class="guihint">Check HTTP web service</span> can be found in the <span class="guihint">Networking</span> box under <span class="guihint">Setup &gt; Services &gt; HTTP, TCP, Email, …​</span>.
In the medium term, this will completely replace the old <span class="guihint">Check HTTP service</span>, which you can find on the same page.
For this reason, we recommend that you no longer use the previous check (internal: <code>check_http</code>) when creating new hosts and gradually migrate existing hosts to the new check (internal: <code>check_httpv2</code>).</p></div>
<div class="paragraph"><p>A migration script will be provided later in the lifecycle of Checkmk <span class="new">2.3.0</span>. However, a fully automated migration tends to be difficult, because with many hosts rules from two checks have to be merged in order to benefit from the improved efficiency.</p></div>
<div class="paragraph"><p>Further information can be found in the two Werks <a href="https://checkmk.com/werk/15514" target="_blank">#15514</a> and <a href="https://checkmk.com/werk/15515" target="_blank">#15515</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_check_cert">
<span class="hidden-anchor sr-only" id="check_cert"></span>5.2. New check for certificates</h3>
<div class="paragraph"><p>The legacy <span class="guihint">Check HTTP service</span> contained basic functionality for checking certificates and the new <span class="guihint">Check HTTP web service</span> mentioned in the previous section improves it even further.
However, both have a few things in common:
First of all, these are only applicable when a certificate is used at an HTTPS endpoint, and they also lack the option of a detailed examination of the certificates, for example for contained <em>Certificate Subject Alternative Names</em> or the issuing authority.</p></div>
<div class="paragraph"><p>We have implemented the resulting user requests with the new <span class="guihint">Check certificates</span> (internal: <code>check_cert</code>).
All settings for the new check can also be found under <span class="guihint">Setup &gt; Services &gt; HTTP, TCP, Email, …​</span> in the <span class="guihint">Networking.</span> box.</p></div>
<div class="paragraph"><p>Further information can be found in the <a href="https://checkmk.com/werk/15516" target="_blank">Werk #15516</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_outlook_newapi">
<span class="hidden-anchor sr-only" id="outlook_newapi"></span>5.3. Programming interfaces</h3>
<div class="paragraph"><p>After Checkmk version <span class="new">2.3.0</span> only the well-specified APIs for programming check plug-ins, special agents, graphing, etc. will be supported.
The changes concern the directory structure, recognition of plug-ins (<em>Discovery</em> instead of <em>Registry</em>) and of course the functions and objects of the APIs themselves.
An overview of the biggest changes can be found at <a href="https://checkmk.com/werk/16259" target="_blank">Werk #16259</a>.</p></div>
<div class="paragraph"><p>As the previous APIs are no longer supported from Checkmk <span class="new">2.4.0</span>, all plug-ins that use the older APIs must be migrated to the new APIs before the update to <span class="new">2.4.0</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_mk_sql">
<span class="hidden-anchor sr-only" id="mk_sql"></span>5.4. Improved Microsoft SQL Server monitoring</h3>
<div class="paragraph"><p>A new <a href="glossar.html#agent_plugin">agent plug-in</a> is available for monitoring Microsoft SQL Server with Checkmk <span class="new">2.3.0</span>.
You can find it under <span class="guihint">Setup &gt; Agents &gt; Windows, Linux, Solaris, AIX &gt; Agent rules &gt; Microsoft SQL Server (Linux, Windows)</span>.
This one is implemented in Rust and in the longer term will replace the previous one written in VBScript.
The new plug-in runs under Linux and Windows on the x86/64 platform.
It also offers increased flexibility through local and remote monitoring under Windows and remote monitoring under Linux.
Of course, you can monitor an MS SQL database running locally under Linux using the TCP/IP interface.</p></div>
<div class="paragraph"><p>The configurability has been significantly improved,
so now you can choose which sections are to be checked and add your own SQL statements.
Furthermore, you can monitor databases on different hosts using a <em>single</em> plug-in.
To keep this clear, the <a href="glossar.html#piggyback">piggyback</a> mechanism can be used to assign databases to other hosts.
All configuration is done via a YAML file.
The stable options are available via Agent Bakery rules.
Other settings, which we reserve the right to modify, can be configured using a text editor.
Details can be found in the <a href="https://checkmk.com/werk/15842" target="_blank">Werk #15842</a>.</p></div>
<div class="paragraph"><p>With the introduction of the new agent plug-in, the deprecation of the old agent plug-in <span class="guihint">Microsoft SQL Server (Windows)</span> starts.
In Checkmk <span class="new">2.3.0</span> you will only receive information about the use of an obsolete rule set.
From <span class="new">2.4.0</span> it will no longer be possible to create new rules and with <span class="new">2.5.0</span> the old plug-in will probably be removed from Checkmk.
Further information can be found at <a href="https://checkmk.com/werk/15844" target="_blank">Werk #15844</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_management_board">
<span class="hidden-anchor sr-only" id="management_board"></span>5.5. Management boards</h3>
<div class="paragraph"><p>The term <em>management board</em> stands for separate plug-in cards or extended BIOS functionality (Baseboard Management Controller/BMC, Management Engine/ME, Lights Out Management/LOM) for monitoring and managing the hardware in addition to the installed operating system.</p></div>
<div class="paragraph"><p>Up to Checkmk <span class="new">2.3.0</span>, management boards can be configured in two ways: As a property of a host or as a separate host.
As the configurability as a property of a host is very limited, in the future this option will no longer be available.
Support for Redfish compatible management boards will be added and improved during the lifecycle of Checkmk <span class="new">2.3.0</span>, initially as an optional MKP (<a href="https://checkmk.com/werk/16589" target="_blank">Werk #16589</a>).
We explain additional background information and alternatives in the blog article <a href="https://checkmk.com/blog/monitoring-management-boards" target="_blank">Monitoring management boards</a>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_automation_login">
<span class="hidden-anchor sr-only" id="automation_login"></span>5.6. Authentication via the GET parameter</h3>
<div class="paragraph"><p>Up to Checkmk <span class="new">2.2.0</span>, every <a href="glossar.html#automation_user">automation user</a> could be logged in with a user name and password passed via the GET parameter.
This option will be reduced from Checkmk <span class="new">2.3.0</span> and eventually removed completely (<a href="https://checkmk.com/werk/16223" target="_blank">Werk #16223</a>).
In the medium term, you must therefore switch your scripts to authentication via HTTP headers.</p></div>
<div class="paragraph"><p>First, <span class="new">2.3.0</span> makes the option of logging in via the GET parameter configurable.
However, the global setting <span class="guihint">Enable automation user authentication via HTTP parameters</span> will initially use <span class="guihint">enabled</span> as the default.
In Checkmk <span class="new">2.4.0</span>, the default will then change to <span class="guihint">disabled</span>.
Finally, the option of logging in via the GET parameter will be completely removed under Checkmk <span class="new">2.5.0</span>.</p></div>
</div>
<div class="sect2">
<h3 id="heading_ntopng56_deprecation">
<span class="hidden-anchor sr-only" id="ntopng56_deprecation"></span>5.7. ntopng 5.6 and older are no longer supported</h3>
<div class="paragraph"><p>Checkmk <span class="new">2.3.0</span> will be the last version to support <a href="ntop.html">ntopng</a> in versions 5.x <em>and</em> 6.x (<a href="https://checkmk.com/werk/16483" target="_blank">Werk #16483</a>).
With Checkmk <span class="new">2.4.0</span>, support for ntopng 5.x will be discontinued and only ntopng 6.x will be supported.
Therefore, update your ntopng installations to 6.x during the lifecycle of Checkmk <span class="new">2.3.0</span>.</p></div>
</div>
</div>
</div>
</div></main><div id="toc" class="toc2">
<div id="toctitle">On this page</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Introduction</a></li>
<li>
<a href="#prep">2. Preparations</a><ul class="sectlevel1">
<li><a href="#backup">2.1. Backup</a></li>
<li><a href="#performance">2.2. Check hardware utilization</a></li>
<li><a href="#linux_versions">2.3. Linux distribution versions</a></li>
<li><a href="#sles_php">2.4. PHP on SLES 15 SP3/SP4</a></li>
<li><a href="#browser">2.5. Browser support</a></li>
<li><a href="#openssl">2.6. SSL compatibility</a></li>
<li><a href="#cme">2.7. Checkmk MSP is based on Checkmk Cloud</a></li>
<li><a href="#agentupdaterhash">2.8. Automatic agent updates from versions prior to <span class="new">2.2.0</span>p8</a></li>
<li><a href="#agentwindows">2.9. The Windows agent: Deprecated plug-ins</a></li>
<li><a href="#pythonwindows">2.10. The Windows agent: Python 3.4 removed</a></li>
<li><a href="#mod_auth_mellon">2.11. Checkmk without Apache module mod_auth_mellon</a></li>
<li><a href="#pip3">2.12. Uninstalling Python modules</a></li>
<li><a href="#prometheus">2.13. Prometheus checks data source and settings</a></li>
<li><a href="#local_files">2.14. Packaged (MKPs) and non-packaged local files</a></li>
<li><a href="#apis">2.15. Programming interfaces</a></li>
<li><a href="#rest_api">2.16. Deprecations in the REST API</a></li>
<li><a href="#incompatible">2.17. Incompatible changes</a></li>
</ul>
</li>
<li>
<a href="#update">3. Update</a><ul class="sectlevel1">
<li>
<a href="#dry_run">3.1. Best practices when updating</a><ul class="sectlevel2">
<li><a href="#update_patch">Updating the Checkmk version</a></li>
<li><a href="#_perform_a_test_run_of_the_update">Perform a test run of the update</a></li>
<li><a href="#automatic_agent_updates">Temporarily disable agent updates</a></li>
<li><a href="#notifications">Temporarily disable notifications</a></li>
</ul>
</li>
<li><a href="#update_distributed_monitoring">3.2. Updates in distributed monitoring</a></li>
<li><a href="#_performing_the_update">3.3. Performing the update</a></li>
</ul>
</li>
<li>
<a href="#follow-up">4. Follow-ups</a><ul class="sectlevel1">
<li><a href="#gui">4.1. Changes to the user interface</a></li>
<li>
<a href="#service_discovery">4.2. Updating services</a><ul class="sectlevel2"><li><a href="#service_descriptions">Service descriptions</a></li></ul>
</li>
<li><a href="#agentupdatercert">4.3. Certificate check for agent updates</a></li>
<li><a href="#pip3post">4.4. Installing Python modules</a></li>
<li><a href="#winnet">4.5. Network interfaces under Windows</a></li>
<li><a href="#cmeccelicense">4.6. Synchronizing license information</a></li>
</ul>
</li>
<li>
<a href="#outlook">5. The outlook</a><ul class="sectlevel1">
<li><a href="#check_http">5.1. HTTP check in the new version</a></li>
<li><a href="#check_cert">5.2. New check for certificates</a></li>
<li><a href="#outlook_newapi">5.3. Programming interfaces</a></li>
<li><a href="#mk_sql">5.4. Improved Microsoft SQL Server monitoring</a></li>
<li><a href="#management_board">5.5. Management boards</a></li>
<li><a href="#automation_login">5.6. Authentication via the GET parameter</a></li>
<li><a href="#ntopng56_deprecation">5.7. ntopng 5.6 and older are no longer supported</a></li>
</ul>
</li>
</ul>
</div>
<script src="../../assets/js/manifest.js?id=7db827d654313dce4250"></script>
<script src="../../assets/js/vendor.js?id=581a3d4a61b7156d04df"></script>
<script src="../../assets/js/app.js?id=959ccd04b1f8b7b78c5e"></script>
<script src="../../assets/js/lunr.js"></script>
<script src="../../assets/js/lunr.stemmer.support.js"></script>
<script src="../lunr.index.en.js"></script>
<script src="../../assets/js/lunr.client.js"></script>
</body>
</html>
